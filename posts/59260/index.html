<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>软考|网络工程师 | 他年少如歌</title><meta name="description" content="第一章    计算机硬件基础进制的转换进制间转换一般是无符号的数，三位二进制的数可以转换成一个八进制的数，四位二进制的数可以转换成一个十六进制数。 小数进制转换：二进制转十进制，小数点后面幂次为2-1、2-2….；十进制转二进制，乘2取整，由上而下排序 原码、反码、补码一个数在计算机中的二进制表示形式，叫做这个数的机器数。机器数是带符号的，在计算机中用一个数的最高位作为符号位，正数为0，负数为1。"><meta name="keywords" content="网络安全"><meta name="author" content="他年少如歌"><meta name="copyright" content="他年少如歌"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://chakalake.gitee.io/posts/59260/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="preconnect" href="//zz.bdstatic.com"/><meta property="og:type" content="article"><meta property="og:title" content="软考|网络工程师"><meta property="og:url" content="https://chakalake.gitee.io/posts/59260/"><meta property="og:site_name" content="他年少如歌"><meta property="og:description" content="第一章    计算机硬件基础进制的转换进制间转换一般是无符号的数，三位二进制的数可以转换成一个八进制的数，四位二进制的数可以转换成一个十六进制数。 小数进制转换：二进制转十进制，小数点后面幂次为2-1、2-2….；十进制转二进制，乘2取整，由上而下排序 原码、反码、补码一个数在计算机中的二进制表示形式，叫做这个数的机器数。机器数是带符号的，在计算机中用一个数的最高位作为符号位，正数为0，负数为1。"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/HCLonely/hclonely.github.io/img/Butterfly/045.webp"><meta property="article:published_time" content="2021-03-29T21:49:42.000Z"><meta property="article:modified_time" content="2021-08-21T01:36:16.695Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="prev" title="Mysql提权" href="https://chakalake.gitee.io/posts/49945/"><link rel="next" title="CentOS6.4下Samba服务器的安装与配置" href="https://chakalake.gitee.io/posts/47299/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2021-08-21 09:36:16'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/flink.min.css"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/Chocolate1999/cdn/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">41</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">3</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> 媒体</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/bangumis/"><i class="fa-fw fab fa-youtube"></i><span> 番剧</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书单</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/box/"><i class="fa-fw fab fa-xbox"></i><span> 聚宝盒</span></a></div><div class="menus_item"><a class="site-page" href="/talk/"><i class="fa-fw far fa-comment"></i><span> 微语</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw far fa-image"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw far fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#第一章-计算机硬件基础"><span class="toc-number">1.</span> <span class="toc-text">第一章    计算机硬件基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#进制的转换"><span class="toc-number">1.1.</span> <span class="toc-text">进制的转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#原码、反码、补码"><span class="toc-number">1.2.</span> <span class="toc-text">原码、反码、补码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#逻辑运算"><span class="toc-number">1.3.</span> <span class="toc-text">逻辑运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机体系结构"><span class="toc-number">1.4.</span> <span class="toc-text">计算机体系结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指令系统"><span class="toc-number">1.5.</span> <span class="toc-text">指令系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#流水线的计算"><span class="toc-number">1.6.</span> <span class="toc-text">流水线的计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#存储系统"><span class="toc-number">1.7.</span> <span class="toc-text">存储系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RAID"><span class="toc-number">1.8.</span> <span class="toc-text">RAID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#系统可靠性"><span class="toc-number">1.9.</span> <span class="toc-text">系统可靠性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第二章-操作系统"><span class="toc-number">2.</span> <span class="toc-text">第二章    操作系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#程序设计语言"><span class="toc-number">2.1.</span> <span class="toc-text">程序设计语言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进程的状态"><span class="toc-number">2.2.</span> <span class="toc-text">进程的状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进程的死锁"><span class="toc-number">2.3.</span> <span class="toc-text">进程的死锁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进程的同步和互斥"><span class="toc-number">2.4.</span> <span class="toc-text">进程的同步和互斥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#存储管理"><span class="toc-number">2.5.</span> <span class="toc-text">存储管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件管理"><span class="toc-number">2.6.</span> <span class="toc-text">文件管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设备管理"><span class="toc-number">2.7.</span> <span class="toc-text">设备管理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第三章-系统开发和项目管理"><span class="toc-number">3.</span> <span class="toc-text">第三章    系统开发和项目管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#软件生命周期"><span class="toc-number">3.1.</span> <span class="toc-text">软件生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#软件开发模型"><span class="toc-number">3.2.</span> <span class="toc-text">软件开发模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#软件设计概念"><span class="toc-number">3.3.</span> <span class="toc-text">软件设计概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#软件测试概念"><span class="toc-number">3.4.</span> <span class="toc-text">软件测试概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进度管理"><span class="toc-number">3.5.</span> <span class="toc-text">进度管理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第四章-知识产权"><span class="toc-number">4.</span> <span class="toc-text">第四章    知识产权</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#著作权保护期限"><span class="toc-number">4.1.</span> <span class="toc-text">著作权保护期限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#著作权人的确定"><span class="toc-number">4.2.</span> <span class="toc-text">著作权人的确定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#侵权判定"><span class="toc-number">4.3.</span> <span class="toc-text">侵权判定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#商标权"><span class="toc-number">4.4.</span> <span class="toc-text">商标权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#专利权"><span class="toc-number">4.5.</span> <span class="toc-text">专利权</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第五章-数据通信技术"><span class="toc-number">5.</span> <span class="toc-text">第五章    数据通信技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#信道特性"><span class="toc-number">5.1.</span> <span class="toc-text">信道特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#信道复用"><span class="toc-number">5.2.</span> <span class="toc-text">信道复用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#通信方式"><span class="toc-number">5.3.</span> <span class="toc-text">通信方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#调制技术-模拟信道传送数字信号"><span class="toc-number">5.4.</span> <span class="toc-text">调制技术-模拟信道传送数字信号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PCM-数字信道传送模拟信号"><span class="toc-number">5.5.</span> <span class="toc-text">PCM-数字信道传送模拟信号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#编码技术-数字信道传送数字信号"><span class="toc-number">5.6.</span> <span class="toc-text">编码技术-数字信道传送数字信号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#差错控制"><span class="toc-number">5.7.</span> <span class="toc-text">差错控制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第六章-网络体系结构"><span class="toc-number">6.</span> <span class="toc-text">第六章    网络体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机网络的组成"><span class="toc-number">6.1.</span> <span class="toc-text">计算机网络的组成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机网络的性能"><span class="toc-number">6.2.</span> <span class="toc-text">计算机网络的性能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSI层次结构"><span class="toc-number">6.3.</span> <span class="toc-text">OSI层次结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据封装与解封装"><span class="toc-number">6.4.</span> <span class="toc-text">数据封装与解封装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#服务访问点SAP"><span class="toc-number">6.5.</span> <span class="toc-text">服务访问点SAP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP-IP体系结构"><span class="toc-number">6.6.</span> <span class="toc-text">TCP&#x2F;IP体系结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#网络协议"><span class="toc-number">6.7.</span> <span class="toc-text">网络协议</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第七章-局域网技术"><span class="toc-number">7.</span> <span class="toc-text">第七章    局域网技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#局域网拓扑结构"><span class="toc-number">7.1.</span> <span class="toc-text">局域网拓扑结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#局域网体系结构"><span class="toc-number">7.2.</span> <span class="toc-text">局域网体系结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSMA-CD协议"><span class="toc-number">7.3.</span> <span class="toc-text">CSMA&#x2F;CD协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#以太网MAC地址"><span class="toc-number">7.4.</span> <span class="toc-text">以太网MAC地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#以太网帧结构"><span class="toc-number">7.5.</span> <span class="toc-text">以太网帧结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#冲突域和广播域"><span class="toc-number">7.6.</span> <span class="toc-text">冲突域和广播域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#以太网传输介质"><span class="toc-number">7.7.</span> <span class="toc-text">以太网传输介质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#高速以太网传输介质"><span class="toc-number">7.8.</span> <span class="toc-text">高速以太网传输介质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#交换式以太网-交换机"><span class="toc-number">7.9.</span> <span class="toc-text">交换式以太网-交换机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VLAN-802-1q"><span class="toc-number">7.10.</span> <span class="toc-text">VLAN(802.1q)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VLAN中继协议-VTP（CISCO）"><span class="toc-number">7.11.</span> <span class="toc-text">VLAN中继协议-VTP（CISCO）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VLAN注册协议-GVRP"><span class="toc-number">7.12.</span> <span class="toc-text">VLAN注册协议-GVRP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STP-802-1d"><span class="toc-number">7.13.</span> <span class="toc-text">STP(802.1d)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RSTP-802-1w"><span class="toc-number">7.14.</span> <span class="toc-text">RSTP(802.1w)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MSTP"><span class="toc-number">7.15.</span> <span class="toc-text">MSTP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#链路聚合概念"><span class="toc-number">7.16.</span> <span class="toc-text">链路聚合概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#无线局域网工作模式"><span class="toc-number">7.17.</span> <span class="toc-text">无线局域网工作模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#无线局域网标准"><span class="toc-number">7.18.</span> <span class="toc-text">无线局域网标准</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#无线局域网CSMA-CA"><span class="toc-number">7.19.</span> <span class="toc-text">无线局域网CSMA&#x2F;CA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#无线局域网的安全"><span class="toc-number">7.20.</span> <span class="toc-text">无线局域网的安全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#无线局域网组网"><span class="toc-number">7.21.</span> <span class="toc-text">无线局域网组网</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#虚拟接入点VAP"><span class="toc-number">7.22.</span> <span class="toc-text">虚拟接入点VAP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第八章-广域网和接入网技术"><span class="toc-number">8.</span> <span class="toc-text">第八章    广域网和接入网技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#广域网交换方式"><span class="toc-number">8.1.</span> <span class="toc-text">广域网交换方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#广域网流量控制"><span class="toc-number">8.2.</span> <span class="toc-text">广域网流量控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#广域网链路层协议"><span class="toc-number">8.3.</span> <span class="toc-text">广域网链路层协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SONET-SDH"><span class="toc-number">8.4.</span> <span class="toc-text">SONET&#x2F;SDH</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ISDN接入"><span class="toc-number">8.5.</span> <span class="toc-text">ISDN接入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#xDSL接入"><span class="toc-number">8.6.</span> <span class="toc-text">xDSL接入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HFC接入"><span class="toc-number">8.7.</span> <span class="toc-text">HFC接入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PON接入"><span class="toc-number">8.8.</span> <span class="toc-text">PON接入</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第九章-互联网技术"><span class="toc-number">9.</span> <span class="toc-text">第九章    互联网技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#IP地址"><span class="toc-number">9.1.</span> <span class="toc-text">IP地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#子网划分与子网掩码"><span class="toc-number">9.2.</span> <span class="toc-text">子网划分与子网掩码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#无类编址CIDR"><span class="toc-number">9.3.</span> <span class="toc-text">无类编址CIDR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv4地址分类"><span class="toc-number">9.4.</span> <span class="toc-text">IPv4地址分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv4数据报格式"><span class="toc-number">9.5.</span> <span class="toc-text">IPv4数据报格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv6协议"><span class="toc-number">9.6.</span> <span class="toc-text">IPv6协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ARP技术"><span class="toc-number">9.7.</span> <span class="toc-text">ARP技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ICMP协议"><span class="toc-number">9.8.</span> <span class="toc-text">ICMP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#服务质量QoS"><span class="toc-number">9.9.</span> <span class="toc-text">服务质量QoS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#传输控制协议TCP"><span class="toc-number">9.10.</span> <span class="toc-text">传输控制协议TCP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#用户数据报协议UDP"><span class="toc-number">9.11.</span> <span class="toc-text">用户数据报协议UDP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#传输层端口"><span class="toc-number">9.12.</span> <span class="toc-text">传输层端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#域名解析服务DNS"><span class="toc-number">9.13.</span> <span class="toc-text">域名解析服务DNS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件传输FTP"><span class="toc-number">9.14.</span> <span class="toc-text">文件传输FTP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#动态地址解析协议DHCP"><span class="toc-number">9.15.</span> <span class="toc-text">动态地址解析协议DHCP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#远程登陆协议Telnet"><span class="toc-number">9.16.</span> <span class="toc-text">远程登陆协议Telnet</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SMTP-amp-POP-amp-IMAP"><span class="toc-number">9.17.</span> <span class="toc-text">SMTP&amp;POP&amp;IMAP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第十章-网络管理技术"><span class="toc-number">10.</span> <span class="toc-text">第十章    网络管理技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#windows命令"><span class="toc-number">10.1.</span> <span class="toc-text">windows命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux系统的启动过程"><span class="toc-number">10.2.</span> <span class="toc-text">Linux系统的启动过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux系统的目录结构"><span class="toc-number">10.3.</span> <span class="toc-text">Linux系统的目录结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux命令"><span class="toc-number">10.4.</span> <span class="toc-text">Linux命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件的基本属性"><span class="toc-number">10.5.</span> <span class="toc-text">文件的基本属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#网络管理功能"><span class="toc-number">10.6.</span> <span class="toc-text">网络管理功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SNMP网络管理协议"><span class="toc-number">10.7.</span> <span class="toc-text">SNMP网络管理协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RAID技术"><span class="toc-number">10.8.</span> <span class="toc-text">RAID技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DAS直接附加存储"><span class="toc-number">10.9.</span> <span class="toc-text">DAS直接附加存储</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NAS网络附加存储"><span class="toc-number">10.10.</span> <span class="toc-text">NAS网络附加存储</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SAN存储区域网络"><span class="toc-number">10.11.</span> <span class="toc-text">SAN存储区域网络</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第十一章-网络安全技术"><span class="toc-number">11.</span> <span class="toc-text">第十一章    网络安全技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#网络安全要素"><span class="toc-number">11.1.</span> <span class="toc-text">网络安全要素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#网络安全威胁"><span class="toc-number">11.2.</span> <span class="toc-text">网络安全威胁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DDoS攻击"><span class="toc-number">11.3.</span> <span class="toc-text">DDoS攻击</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL注入攻击"><span class="toc-number">11.4.</span> <span class="toc-text">SQL注入攻击</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS攻击"><span class="toc-number">11.5.</span> <span class="toc-text">XSS攻击</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ARP欺骗"><span class="toc-number">11.6.</span> <span class="toc-text">ARP欺骗</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机病毒的类型"><span class="toc-number">11.7.</span> <span class="toc-text">计算机病毒的类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机病毒的防止"><span class="toc-number">11.8.</span> <span class="toc-text">计算机病毒的防止</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对称加密技术"><span class="toc-number">11.9.</span> <span class="toc-text">对称加密技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#非对称加密技术"><span class="toc-number">11.10.</span> <span class="toc-text">非对称加密技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#密钥分配管理Kerberos"><span class="toc-number">11.11.</span> <span class="toc-text">密钥分配管理Kerberos</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#加密方式"><span class="toc-number">11.12.</span> <span class="toc-text">加密方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数字签名"><span class="toc-number">11.13.</span> <span class="toc-text">数字签名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数字证书"><span class="toc-number">11.14.</span> <span class="toc-text">数字证书</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安全套阶层协议SSL"><span class="toc-number">11.15.</span> <span class="toc-text">安全套阶层协议SSL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安全电子交易SET"><span class="toc-number">11.16.</span> <span class="toc-text">安全电子交易SET</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PGP协议"><span class="toc-number">11.17.</span> <span class="toc-text">PGP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#S-MIME协议"><span class="toc-number">11.18.</span> <span class="toc-text">S&#x2F;MIME协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#网闸"><span class="toc-number">11.19.</span> <span class="toc-text">网闸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#防火墙"><span class="toc-number">11.20.</span> <span class="toc-text">防火墙</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#入侵检测系统IDS"><span class="toc-number">11.21.</span> <span class="toc-text">入侵检测系统IDS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#入侵防御系统IPS"><span class="toc-number">11.22.</span> <span class="toc-text">入侵防御系统IPS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web防护系统"><span class="toc-number">11.23.</span> <span class="toc-text">Web防护系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#虚拟专用网VPN"><span class="toc-number">11.24.</span> <span class="toc-text">虚拟专用网VPN</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPSEC-VPN"><span class="toc-number">11.25.</span> <span class="toc-text">IPSEC VPN</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第十二章-网络规划与设计"><span class="toc-number">12.</span> <span class="toc-text">第十二章    网络规划与设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#网络结构设计"><span class="toc-number">12.1.</span> <span class="toc-text">网络结构设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#网络冗余设计"><span class="toc-number">12.2.</span> <span class="toc-text">网络冗余设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP地址规划"><span class="toc-number">12.3.</span> <span class="toc-text">IP地址规划</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#物理网络设计"><span class="toc-number">12.4.</span> <span class="toc-text">物理网络设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#综合布线系统"><span class="toc-number">12.5.</span> <span class="toc-text">综合布线系统</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第十三章-Windows服务器配置"><span class="toc-number">13.</span> <span class="toc-text">第十三章    Windows服务器配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Web服务器配置"><span class="toc-number">13.1.</span> <span class="toc-text">Web服务器配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FTP服务器配置"><span class="toc-number">13.2.</span> <span class="toc-text">FTP服务器配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS服务器配置"><span class="toc-number">13.3.</span> <span class="toc-text">DNS服务器配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DHCP服务器配置"><span class="toc-number">13.4.</span> <span class="toc-text">DHCP服务器配置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第十四章-Linux服务器设置"><span class="toc-number">14.</span> <span class="toc-text">第十四章    Linux服务器设置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DHCP服务器配置-1"><span class="toc-number">14.1.</span> <span class="toc-text">DHCP服务器配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS服务器配置-1"><span class="toc-number">14.2.</span> <span class="toc-text">DNS服务器配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Samba服务器配置"><span class="toc-number">14.3.</span> <span class="toc-text">Samba服务器配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FTP服务器配置-1"><span class="toc-number">14.4.</span> <span class="toc-text">FTP服务器配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Apache服务器配置"><span class="toc-number">14.5.</span> <span class="toc-text">Apache服务器配置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第十五章-网络设备配置"><span class="toc-number">15.</span> <span class="toc-text">第十五章    网络设备配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#网络设备基本配置"><span class="toc-number">15.1.</span> <span class="toc-text">网络设备基本配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#交换机基本命令"><span class="toc-number">15.2.</span> <span class="toc-text">交换机基本命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VLAN配置"><span class="toc-number">15.3.</span> <span class="toc-text">VLAN配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GARP配置"><span class="toc-number">15.4.</span> <span class="toc-text">GARP配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STP配置"><span class="toc-number">15.5.</span> <span class="toc-text">STP配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DHCP配置"><span class="toc-number">15.6.</span> <span class="toc-text">DHCP配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#静态路由配置"><span class="toc-number">15.7.</span> <span class="toc-text">静态路由配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#动态路由"><span class="toc-number">15.8.</span> <span class="toc-text">动态路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RIP协议"><span class="toc-number">15.9.</span> <span class="toc-text">RIP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPF协议"><span class="toc-number">15.10.</span> <span class="toc-text">OSPF协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IS-IS协议"><span class="toc-number">15.11.</span> <span class="toc-text">IS-IS协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路由重发布"><span class="toc-number">15.12.</span> <span class="toc-text">路由重发布</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BGP协议"><span class="toc-number">15.13.</span> <span class="toc-text">BGP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#虚拟路由冗余VRRP"><span class="toc-number">15.14.</span> <span class="toc-text">虚拟路由冗余VRRP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WLAN配置"><span class="toc-number">15.15.</span> <span class="toc-text">WLAN配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#访问控制列表ACL"><span class="toc-number">15.16.</span> <span class="toc-text">访问控制列表ACL</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/HCLonely/hclonely.github.io/img/Butterfly/045.webp)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">他年少如歌</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> 媒体</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/bangumis/"><i class="fa-fw fab fa-youtube"></i><span> 番剧</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书单</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/box/"><i class="fa-fw fab fa-xbox"></i><span> 聚宝盒</span></a></div><div class="menus_item"><a class="site-page" href="/talk/"><i class="fa-fw far fa-comment"></i><span> 微语</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw far fa-image"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw far fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">软考|网络工程师</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2021-03-30 05:49:42"><i class="far fa-calendar-alt fa-fw"></i> 发表于 2021-03-30</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2021-08-21 09:36:16"><i class="fas fa-history fa-fw"></i> 更新于 2021-08-21</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/%E8%AE%A4%E8%AF%81%E8%80%83%E8%AF%95/">认证考试</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta__icon"></i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="第一章-计算机硬件基础"><a href="#第一章-计算机硬件基础" class="headerlink" title="第一章    计算机硬件基础"></a>第一章    计算机硬件基础</h1><h2 id="进制的转换"><a href="#进制的转换" class="headerlink" title="进制的转换"></a>进制的转换</h2><p>进制间转换一般是无符号的数，三位二进制的数可以转换成一个八进制的数，四位二进制的数可以转换成一个十六进制数。</p>
<p>小数进制转换：二进制转十进制，小数点后面幂次为2<sup>-1</sup>、2<sup>-2</sup>….；十进制转二进制，乘2取整，由上而下排序</p>
<h2 id="原码、反码、补码"><a href="#原码、反码、补码" class="headerlink" title="原码、反码、补码"></a>原码、反码、补码</h2><p>一个数在计算机中的二进制表示形式，叫做这个数的机器数。机器数是带符号的，在计算机中用一个数的最高位作为符号位，正数为0，负数为1。因为第一位是符号位，所以机器数的形式值就不等于真正的数值。</p>
<p>1、反码</p>
<p>反码通常是由原码求补码或者由补码求原码的过渡码。正数的反码与原码相同，负数的反码符号位为1，其余各位为该数绝对值的原码按位取反。</p>
<p>2、补码</p>
<p>在计算机系统中，数值用<strong>补码</strong>进行表示和存储。补码能唯一的表示一个数值。修复了0存在两个编码的问题。正数的补码与原码相同，负数的补码是该数的反码加1</p>
<p>负数补码转原码，符号位保留，其余各位取反+1</p>
<p>3、移码是补码的最高位取反，移码的±0编码也相同。</p>
<p>4、各种码制所表示的数的范围：</p>
<table>
<thead>
<tr>
<th></th>
<th>定点整数</th>
<th>定点小数</th>
</tr>
</thead>
<tbody><tr>
<td>原码</td>
<td>-(2<sup>n-1</sup>-1) ~ 2<sup>n-1</sup>-1</td>
<td>-1&lt;X&lt;1</td>
</tr>
<tr>
<td>反码</td>
<td>-(2<sup>n-1</sup>-1) ~ 2<sup>n-1</sup>-1</td>
<td>1&lt;X&lt;1</td>
</tr>
<tr>
<td>补码</td>
<td>-2<sup>n-1</sup> ~ 2<sup>n-1</sup>-1</td>
<td>1≤X&lt;1</td>
</tr>
</tbody></table>
<h2 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h2><p>逻辑与运算（&amp;）：同时为真，结果为真，否则为假</p>
<p>逻辑或运算（|）：只要有一个为真，结果为真，否则为假</p>
<p>逻辑非运算（~）：真为假，假为真</p>
<p>逻辑异或运算（^）：两个变量一真一假，结果为真，否则为假</p>
<h2 id="计算机体系结构"><a href="#计算机体系结构" class="headerlink" title="计算机体系结构"></a>计算机体系结构</h2><p>1、在一台计算机中，硬件部分主要由输入系统、输出系统、运算器、控制器和存储器组成。</p>
<p>（1）运算器</p>
<p>算术逻辑单元ALU：进行算术运算和逻辑运算</p>
<p><strong>累加器AC</strong>：暂时存放ALU运算的结果信息</p>
<p>数据缓冲寄存器：保存从主存储器中读取的数据</p>
<p>状态条件寄存器PSW：保存由算术指令和逻辑指令运算的状态和程序的工作方式</p>
<p>（2）控制器</p>
<p><strong>程序计数器PC</strong>：存放的是下一条指令的地址</p>
<p>指令寄存器IR：用来保存当前正在执行的一条指令</p>
<p>指令译码器：指令中的操作码经过译码器译码后，即可向操作控制器发出具体操作的特定信号。</p>
<p>时序部件：为指令的执行产生时序信号</p>
<p>2、总线</p>
<p>数据总线DB：用于传送数据信息</p>
<p>地址总线AB：是专门用来传送地址的，地址总线的位数决定了CPU可直接寻址的内存空间大小。一般来说，地址总线为n位，则可寻址的空间为2<sup>n</sup>字节</p>
<p>控制总线CB：用来传送控制信号和时序信号</p>
<h2 id="指令系统"><a href="#指令系统" class="headerlink" title="指令系统"></a>指令系统</h2><p>通常一条指令可以分解为<strong>操作码</strong>和<strong>地址码</strong>两部分组成，操作码确定指令的操作类型，地址码确定所要处理操作数的位置。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033035.png" alt=""></p>
<p>1、寻址方式</p>
<p>（1）立即寻址：</p>
<p>通常在指令的地址码部分给出操作数。</p>
<p>（2）内存寻址：</p>
<p>直接寻址：在指令中直接给出参加运算的操作数或运算结果所存放的主存地址。</p>
<p>间接寻址：在指令中给出操作数地址的地址。</p>
<p>变址寻址：变址寻址就是变址寄存器中的内容加地址码中的内容即可完成寻址。</p>
<p>（3）寄存器寻址</p>
<p>寄存器直接寻址：指令在执行过程中所需要的操作数来源于寄存器。</p>
<p>寄存器间接寻址：寄存器存放的是操作数在主存的地址。</p>
<p>2、RISC和CISC</p>
<p>RISC和CISC比较</p>
<table>
<thead>
<tr>
<th>指令系统</th>
<th>指令</th>
<th>寻址方式</th>
<th>实现方式</th>
</tr>
</thead>
<tbody><tr>
<td>RISC（精简）</td>
<td>指令种类少，定长，使用频率相互接近</td>
<td>只支持少量寻址方式，并且控制了访问内存的指令数量</td>
<td>硬布线逻辑控制</td>
</tr>
<tr>
<td>CISC（复杂）</td>
<td>指令种类多，使用频率相差大，采用变长编码</td>
<td>支持多种，访（主）存指令多</td>
<td>微程序控制技术</td>
</tr>
</tbody></table>
<p>3、Flynn</p>
<table>
<thead>
<tr>
<th>体系结构类型</th>
<th>结构</th>
<th>关键特性</th>
<th>代表</th>
</tr>
</thead>
<tbody><tr>
<td>单指令流单数据流SISD</td>
<td>控制部分：一个、处理器：一个、主存模块：一个</td>
<td></td>
<td>单处理器系统</td>
</tr>
<tr>
<td>单指令流多数据流SIMD</td>
<td>控制部分：一个、处理器：多个、主存模块：多个</td>
<td>各处理器异步的形式执行同一条执行</td>
<td>并行处理机、阵列处理机、超级向量处理机</td>
</tr>
<tr>
<td>多指令流单数据流MISD</td>
<td>控制部分：多个、处理器：一个、主存模块：多个</td>
<td>被证明不可能，至少是不实际</td>
<td>目前是没有，有文献称流水线计算机为此类</td>
</tr>
<tr>
<td>多指令流多数据流MIMD</td>
<td>控制部分：多个、处理器：多个、主存模块：多个</td>
<td>能后实现作业、任务、指令等各级全面并行</td>
<td>多处理机系统、多计算机</td>
</tr>
</tbody></table>
<h2 id="流水线的计算"><a href="#流水线的计算" class="headerlink" title="流水线的计算"></a>流水线的计算</h2><p>流水线是指在程序执行时多条指令重叠进行操作的一种准并行处理实现技术。即可以同时为多条指令的不同部分进行工作，以提高各部件的利用率和指令的平均执行速度。</p>
<p>（1）流水线指令执行时间</p>
<p>TK=第一条指令执行所需时间+(指令数-1)*流水线周期</p>
<p>第一条指令执行所需时间：取指令时间+分析时间+执行时间</p>
<p>流水线周期：执行阶段中执行时间最长的一段</p>
<p>（2）流水线的技术指标</p>
<p>吞吐率：指的是计算机中的流水线在特定的时间内可以处理的任务数量。TP=n/TK（n为指令条数，TK为流水线指令执行时间），其中理论上的最大吞吐率是：1/流水线周期。</p>
<p>加速比：完成一批任务，不使用流水线所用的时间与使用流水线所有的时间纸币称为流水线的加速比。S=TS/TK（TS为顺序执行时间，TK为流水线指令执行时间）。</p>
<p>流水线的效率：指的是流水线的设备利用率。</p>
<h2 id="存储系统"><a href="#存储系统" class="headerlink" title="存储系统"></a>存储系统</h2><p>1、缓存-主存（由硬件自主完成的）</p>
<p>（1）缓存：Cache</p>
<p>实现缓和CPU和主存之间的速率矛盾，主要存储CPU需要经常访问主存中的内容。</p>
<p>Catch淘汰算法：先进先出算法、最近最少使用算法、随机算法</p>
<p><strong>案列</strong>：如果cache的访问命中率为h，而Cache的访问周期是t1，主存储器的访问周期是t2，则整个系统的平均访问时间就应该是：</p>
<p>t3=h<em>t1+(1-h)\</em>t2</p>
<p>（2）主存：RAM和ROM</p>
<p>RAM是随机存储器，数据可读可写，一旦掉电，数据将消失。</p>
<p>ROM是只读存储器，掉电后数据依然保存。</p>
<p>RAM有静态和动态两种：</p>
<p>■SRAM只要上电后信息不丢失，无须刷新电路过程，消耗较多功率，价格也较高。常作为芯片中的Cache使用。</p>
<p>■DRAM需要上电后，再定时刷新电力才能保持数据，而动态RAM集成度高，存储密度高，成本低，功耗低，适于做大容量存储器。常用在内存中。</p>
<p>2、主存-辅存（虚拟存储技术，扩大主存空间，由软硬件共同实现）</p>
<p>辅存：磁盘 （机械硬盘、光盘、磁带、固态硬盘SSD等）</p>
<p>3、主存储器基础-组成</p>
<p>实际的存储器总是由一片或多片存储-在预测表芯片+控制电路构成的。芯片数量≥存储器容量/存储芯片容量。</p>
<p><strong>案例</strong>：如果存储器有256个存储单元，那么它的地址编码为0~255，对应的二进制数是00000000~11111111，需要用8位二进制来表示，也就是地址宽度为8位，需要8根地址线。存储器中所有存储单元的综合称为这个存储器的存储容量，存储容量的单位是B、KB、MB、GB和TB等。</p>
<p>例如：按某存储字节编制，地址从A4000H道CBFFFH，则表示有(CBFFFH-A4000H)+1个字节，即28000H个字节，转换为十进制是160KB（(0010 1000 0000 0000 0000)B=((0010 1000 00)KB=128+32=160）。若用16K<em>4bit的存储器芯片构成该内存，共需160K\</em>8/16K*4=20片</p>
<p>表示存储容量相关术语:</p>
<p>位：用bit表示，一个二进制表示1bit</p>
<p>字节：用B表示，1B=8bit</p>
<p>字：实际表示CPU一次处理的二进制的位数，通常为字节的整数倍，对应的字长有：8/16/32/64bit</p>
<p>4、存储器存储方式</p>
<table>
<thead>
<tr>
<th>存储方式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>顺序存取</td>
<td>存储器的数据是以记录的形式进行组织，对数据的访问必须按特定的线性顺序进行。磁带存储器的方式就是顺序存取。</td>
</tr>
<tr>
<td>直接存储</td>
<td>共享读写装置，但是每个记录都有一个唯一的地址表示，共享的读写装置可以直接移动到目的数据块所在位置进行访问。访问时间与数据位置有关。磁盘存储器采用这种方式。</td>
</tr>
<tr>
<td>随机存取</td>
<td>存储器的每一个可寻址单元都具有唯一地址和读写装置，系统可以在相同的时间内对任意一个存储单元的数据进行访问，而与先前的访问序列无关。主存储器采用的是这种方式。</td>
</tr>
<tr>
<td>相联存取</td>
<td>也是一种随机存储的形式，但是选择某一单元进行读写是取决于其<strong>内容</strong>而不是其地址。Cache采用该方法进行访问。相联存储器是Cache一部分，Cache中有按内容寻址的相联存储器，用于存放与Cache中数据相对应的主存地址，可以快速检索、判断CPU读取的某个字当前是否存在Cache中。</td>
</tr>
</tbody></table>
<h2 id="RAID"><a href="#RAID" class="headerlink" title="RAID"></a>RAID</h2><p>RAID是由多个独立的高性能磁盘驱动器组成的磁盘子系统，从而提供比单个磁盘更高的存储性能和数据冗余的技术。</p>
<p>RAID机制中共分8个级别，RAID应用的主要技术有分块技术、交叉技术和重聚技术。</p>
<table>
<thead>
<tr>
<th>级别</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>RAID0</td>
<td>磁盘利用率是100%，没有冗余，可靠性最差</td>
</tr>
<tr>
<td>RAID1</td>
<td>磁盘利用率是50%，数据通过镜像，完全放在两个不同的磁盘上，可靠性高</td>
</tr>
<tr>
<td>RAID3</td>
<td>磁盘利用率是(N-1)/N，有特定的校验磁盘，使用奇偶校验，校验数据单独放在校验盘上。可靠性较高</td>
</tr>
<tr>
<td>RAID5</td>
<td>磁盘利用率是(N-1)/N，没有特定校验盘，校验数据分散存放在各个磁盘上。可靠性较高</td>
</tr>
<tr>
<td>RAID6</td>
<td>磁盘利用率是(N-2)/N，上述技术解决了一个磁盘出现故障，依旧可以恢复出数据的问题，但是当2个磁盘出现故障时，就无法恢复，所以用到了RAID6技术。每个磁盘有2个校验数据，校验数据分散存放在各个磁盘上。</td>
</tr>
<tr>
<td>RAID10和RAID01</td>
<td>RAID10是RAID1和RAID0的结合，先镜像再条带化。RAID01是RAID0和RAID1的结合，先条带化再进行镜像。</td>
</tr>
</tbody></table>
<p>RAID2.0优势：</p>
<p>（1）快速精简重构：降低了双盘失效率和数据丢失的风险</p>
<p>（2）自动负载均衡：降低了存储系统整体故障率</p>
<p>（3）虚拟池化设计：降低了存储规划管理难度</p>
<p>（4）故障自愈合：保障了系统的可靠性</p>
<p>（5）系统性能提升</p>
<h2 id="系统可靠性"><a href="#系统可靠性" class="headerlink" title="系统可靠性"></a>系统可靠性</h2><p>1、串联系统</p>
<p>假设一个系统由n个子系统组成，当且仅当所有的子系统都能正常工作时，系统才能正常工作。<br>设系统的各个子系统的可靠性分别用R<sub>1</sub>，R<sub>2</sub>，…，R<sub>n</sub>表示，则系统的可靠性：R=R<sub>1</sub><em>R<sub>2</sub>\</em>…*R<sub>n</sub>。</p>
<p>2、并联系统</p>
<p>假设一个系统由n个i系统组成，只要有一个子系统能够正常工作，系统就能正常工作。<br>设系统的各个子系统的可靠性分别用R<sub>1</sub>，R<sub>2</sub>，…，R<sub>n</sub>表示，系统的可靠性：R=1-(1-R<sub>1</sub>)<em>(1-R<sub>2</sub>)\</em>…*(1-R<sub>n</sub>)。</p>
<h1 id="第二章-操作系统"><a href="#第二章-操作系统" class="headerlink" title="第二章    操作系统"></a>第二章    操作系统</h1><h2 id="程序设计语言"><a href="#程序设计语言" class="headerlink" title="程序设计语言"></a>程序设计语言</h2><p>1、机器语言</p>
<p>每种型号的计算机都有自己的指令系统，也叫机器语言，每条指令都对应一串二进制代码。机器语言是计算机唯一能够识别并直接执行的语言，所以与其他程序设计语言相比，其质性效率较高。</p>
<p>2、汇编语言</p>
<p>汇编语言将一条机器语言用符号表示，所以也叫符号语言。必须先把汇编你语言源程序翻译成机器语言程序（称目标程序），然后才能执行。这个翻译过程是由实现存放在机器里的“汇编程序”完成的，叫做汇编过程。</p>
<p>3、高级语言</p>
<p>把高级语言源程序翻译成机器语言程序的方法有“解释”和“编译“两种。</p>
<p>■编译方式是用户将高级语言编写的源程序输入计算机后，编译程序便把源程序整个的翻译成用机器语言表示的一直等价的目标程序，然后计算机再执行该目标程序。跨平台性差。C、C++</p>
<p>■解释方式是指源程序进入计算机后，解释程序边扫描边解释，逐句输入逐句翻译，计算机一句句执行，并不产生目标程序。Java、Python</p>
<p>编译程序与解释程序最大的区别之一在于前者生成目标代码，后者不生成；此外，前者产生的目标代码的执行速度比解释程序的执行速度要快；后者人机交互好。</p>
<p>4、4GL语言：面向问题的，数据库管理系统的核心</p>
<h2 id="进程的状态"><a href="#进程的状态" class="headerlink" title="进程的状态"></a>进程的状态</h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033001.png" alt=""></p>
<p>运行态：占有处理器正在运行。</p>
<p>就绪态：具备运行条件，等待系统分配处理器以便运行。</p>
<p>等待态（阻塞态）：不具备运行条件，正在等待某个事件的完成。</p>
<p>运行态→等待态：处于运行状态的进程再运行的过程中需要等待某一事件发生后，才能继续运行，于是该进程由运行状态变成等待状态。例如等待I/O完成。</p>
<p>等待态→就绪态：处于等待状态的进程，假如其等待的事件已经发生结束。于是进程由等待状态变成就绪状态。</p>
<p>就绪态→运行态：当处于就绪状态的进程呗进程调度程序选中后，就分配到处理器来运行，进程由就绪状态变成运行状态。</p>
<p>运行态→就绪态：出与运行状态的集成再运行的过程中，因分给它的处理器时间片已用完而不得不出让处理器，于是进程由运行状态变成就绪状态。</p>
<h2 id="进程的死锁"><a href="#进程的死锁" class="headerlink" title="进程的死锁"></a>进程的死锁</h2><p>1、如果一个进程再等待一个不可能发生的事件，则其将死锁；如果一个或多个进程产生死锁，则会造成系统死锁。</p>
<p>2、如果一个系统中以下四个条件同时成立，那么就能引起死锁：</p>
<p>（1）互斥：至少有一个资源必须处于非共享模式，即一次只有一个进程可使用。如果另一进程申请该资源，那么申请进程应等到该资源释放为止。</p>
<p>（2）占有并等待：一个进程应占有至少一个资源，并等待另一个资源，而该资源为其他进程所占有。</p>
<p>（3）非抢占：资源不能被抢占，即资源只能被进程再完成任务后自愿释放。</p>
<p>（4）循环等待：有一组等待进程{P<sub>0</sub>，P<sub>1</sub>，…，P<sub>n</sub>}，P<sub>0</sub>的等待资源为P<sub>1</sub>占有，P<sub>1</sub>等待的资源为P<sub>2</sub>占有，…，P<sub>n-1</sub>等待的资源为P<sub>n</sub>占有，P<sub>n</sub>等待的资源为P<sub>0</sub>占有。</p>
<p>3、若m个并发进程中的每一个都需要n个资源，那么使系统不发生死锁的资源R的最少数目为：m(n-1)+1</p>
<p>4、解决死锁的策略</p>
<p>（1）死锁预防：降低系统的效率</p>
<p>（2）死锁避免：银行家算法，增加系统的开销。</p>
<p>银行家算法分配资源原则：</p>
<p>■当一个进程对资源的最大需求量不超过系统中的资源数时可以接纳该进程。</p>
<p>■进程可以分期请求资源，但请求的总书不能超过最大需求量。</p>
<p>■当系统现有的资源不能满足进程尚需要资源数时，对进程的请求可以推迟分配，但总能使进程在有限的时间里得到资源。</p>
<p><strong>案例</strong>：假设系统中有三类互斥资源R1、R2、R3，可用资源分别是9、8、5。在T0时刻系统中有P1、P2、P3、P4和P5五个进程，这些进程队资源的最大需求量和已分配资源如下所示，如果进程按序列（P2-P4-P5-P1-P3）执行，那么系统状态是安全的。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033015.png" alt=""></p>
<p>T0时刻剩余资源数：985-775=210，210只可以满足P2进程，P2执行完毕后释放资源，剩余资源数：211+210=421，421可以满足进程P4，P4执行完毕后释放资源，剩余资源数：121+421=542，再依次进行计算。</p>
<p>（3）死锁检测：如果死锁，则执行死锁解除策略</p>
<p>（4）死锁解除：将资源强行收回再分配给其他进程</p>
<h2 id="进程的同步和互斥"><a href="#进程的同步和互斥" class="headerlink" title="进程的同步和互斥"></a>进程的同步和互斥</h2><p>1、临界资源</p>
<p>一次只能被一个进程所占用的资源。比如物理打印机，或是存在硬盘或内存中被多个进程所共享的一些变量和数据等。</p>
<p>2、同步</p>
<p>进程A需要读取进程B产生的信息，当缓冲区为空时，进程A因为读取不到信息而被阻塞。而当进程B产生的信息放入缓冲区时，进程A才会被唤醒。</p>
<p>3、互斥</p>
<p>当一个进程进入临界区使用临界资源时，另一个进程必须等待。</p>
<p>4、信号量</p>
<p>信号量S可以直接理解成计数器，是一个整数。信号量的值仅能由PV操作来改变。通过PV操作控制信号量来实现进程的同步和互斥。</p>
<p>5、PV操作</p>
<p>（1）临界区：每个进程中访问临界资源的那段代码称为临界区</p>
<p>（2）信号量：也叫资源数量计数器，是一种特殊的变量，分为互斥信号量和同步信号量</p>
<p>■互斥信号量：PV操作在一个进程中成对出现</p>
<p>■同步信号量：PV操作在两个进程中</p>
<p>（3）PV操作：解决互斥和同步的问题。</p>
<p>■P操作（申请资源）：使S=S-1，若S≥0，则该进程继续执行，否则该进程排入等待队列</p>
<p>■V操作（释放资源）：使S=S+1，若S≤0，唤醒等待队列中的一个进程</p>
<p>在资源使用之前将会执行P操作，之后将会执行V操作。在互斥关系中PV操作在一个进程中成对出现，而在同步关系中则一定在两个或多个进程中成对出现。</p>
<h2 id="存储管理"><a href="#存储管理" class="headerlink" title="存储管理"></a>存储管理</h2><p>1、页式管理</p>
<p>通过引起进程的逻辑地址，把进程地址空间与实际物理存储位置分离。把逻辑地址空间划分为一些相等的片，这些片称为页或页面。把物理地址空间也划分为同样大小的片，称为块。</p>
<p>逻辑地址=页号+业内地址</p>
<p>（1）逻辑页号：页号位数表示划分了多个少个页；页号值表示第几号页。</p>
<p>（2）页内地址：业内地址的位数表示页大小；业内地址的值表示业内偏移。</p>
<p>CPU中的内存管理单元按逻辑页号查找页表（操作系统为每一个进程维护了一个从虚拟地址到物理地址的映射关系的数据结构，页表的内容就是该进程的虚拟地址到物理地址的一个映射）得到物理页号，将物理页号与页内地址相加形成物理地址。</p>
<p>物理地址=物理块（页）号+页内地址</p>
<p>优点：利用率高，碎片小，分配及简单管理</p>
<p>缺点：增加了系统开销，可能产生抖动现象  </p>
<p>2、页面置换算法</p>
<p>虚拟存储技术就是利用实际内存空间和相对大得多的外部存储器存储空间相结合构成一个远远大于实际内存空间的虚拟存储空间。能够实现虚拟存储的依据是程序的<strong>局部性原理</strong>，即程序在运行过程中经常体现出运行在某个局部范围之内的特点。</p>
<p>虚拟存储就是把一个程序所需要的存储空间分成若干页，程序运行用到的页就放到内存里，暂时不用就放在外存中，当用到外存中的页时，就把它们调到内存，反之就把它们送到外存中。</p>
<p>常用的页面置换算法：</p>
<p>（1）先进先出法（FIFO）：最早调入内存的页不再被使用的可能性要大于刚调入内存的页，因此，先进先出法总是淘汰再内存中停留时间最长的一页，即先进入内存的页，先被换出。）</p>
<p>（2）最佳置换法（OPT）：调入新页面而必须淘汰某个老页面时，所选择的老页面应该以后不被使用，或者是在最远的以后时间才被访问。这种算法能保证最小的缺页率</p>
<p> （3）最近最少使用算法（LRU）：选择在最近一段时间里最久没有使用过的页面予以淘汰。</p>
<p>3、在磁盘管理调度中，应先进行移臂调动，再进行旋转调度。</p>
<h2 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h2><p>绝对路径：从根目录开始的路径</p>
<p>相对路径：从用户工作目录开始的路径</p>
<h2 id="设备管理"><a href="#设备管理" class="headerlink" title="设备管理"></a>设备管理</h2><p>设备管理的主要任务之一是控制设备和内存或CPU之间的数据传送。</p>
<p>传送控制方式：</p>
<p>1、程序查询方式</p>
<p>CPU不断使用指令检测方法来 获取外设工作状态，造成CPU运行效率极低。</p>
<p>2、程序中断方式</p>
<p>“主动”向CPU发出中断请求信号，请求CPU暂时中断目前正在执行的程序转而进行数据交换。</p>
<p>程序中断方式使用字<strong>节为</strong>单位进行数据传送，每完成一个字节传送，控制器便要向CPU请求一次中断，仍然占用了CPU许多时间。不适合高速的块设备的I/O控制。</p>
<p>3、DMA方式（直接传输）</p>
<p>完全由硬件执行I/O数据交换。DMA控制器代理CPU完全接管对总线的控制，数据交换不经过CPU，直接在内存和外围设备之间成批进行。</p>
<p>DMA控制器只负责数据传送，传送前及传送后的工作仍由CPU通过执行管理程序来完成。</p>
<p>4、I/O通道控制方式</p>
<p>通道有自己的指令和数据，专门负责数据输入输出的传输控制。通道与CPU分时使用主存，实现了CPU内部运算与I/O设备的并行工作。</p>
<p>5、输入输出处理机方式</p>
<p>采用专用的 小型通用计算机，完成I/O控制、码值转换、格式处理、检错纠错等。输入输出处理机独立于主机工作。</p>
<p>单片机、微型机多采用程序查询、程序中断和DMA方式。通道方式和输入输出处理机方式一般用在大中型计算机中。</p>
<h1 id="第三章-系统开发和项目管理"><a href="#第三章-系统开发和项目管理" class="headerlink" title="第三章    系统开发和项目管理"></a>第三章    系统开发和项目管理</h1><h2 id="软件生命周期"><a href="#软件生命周期" class="headerlink" title="软件生命周期"></a>软件生命周期</h2><p>①计划时期：问题定义、可行性研究</p>
<p>②需求分析：确定软件系统的功能、性能、数据、界面等要求，从而确定系统的逻辑模型</p>
<p>③总体设计：将功能需要转换成相应的体系结构，也就是每个模块和某些功能需求相对应</p>
<p>④详细设计：对每个模块完成的功能进行具体描述</p>
<p>⑤编码：把每个模块的控制结构用程序代码进行表示</p>
<p>⑥测试：保证软件质量的重要手段，主要方式是在设计测试用例的基础上检查软件的各个组成部分。</p>
<p>⑦维护：软件生命周期中时间最长的阶段。</p>
<h2 id="软件开发模型"><a href="#软件开发模型" class="headerlink" title="软件开发模型"></a>软件开发模型</h2><p>1、瀑布模型</p>
<p>软件开发的过程：软件计划、需求分析、软件设计、程序编码、软件测试、运行维护</p>
<p>瀑布模型的本质是”一次通过“，即每个活动只做一次，最后得到软件产品。适用于需求明确、并具备相关领域及类似规模系统的开发经验的项目。</p>
<p>存在的缺陷 ：</p>
<p>①软件与用户见面时间间隔较长，怎加了一定的风险。</p>
<p>②前期未发现的错误传到后面的开发活动中时，可能会扩散，进而导致整个软件项目开发失败。</p>
<p>③瀑布模型强调一开始精准捕获需求和设计，而需求是在整个项目进程中通过交互不断明确的。</p>
<p>2、演化模型</p>
<p>首先开发系统的一个核心功能，再根据客户的反馈进一步开发其他功能或进一步扩充该功能，直到建立一个完整的系统为止。适用于需求不明确的项目。</p>
<p>缺点是很难确认整个系统的里程碑、成本和时间基线。</p>
<p>3、增量模型</p>
<p>强调每一个增量均发布一个可操作产品。优点是人员分配灵活，刚开始不用投入大量人力资源，如果核心产品很受欢迎，可增加人力实现下一个增量。增量能够有计划的管理技术风险，能够快速构造可运行的产品。</p>
<p>4、喷泉模型</p>
<p>强调的是无间隙，也就是各个阶段没有明显的界限，开发人员可以同步进行开发。其优点是可以提高软件项目的开发效率，节省开发时间，适用于<strong>面向对象</strong>的软件开发过程。缺点是难以进行项目管理。</p>
<p>5、V模型</p>
<p>说明测试活动室如何与分析和设计相联系的。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033002.png" alt=""></p>
<p>①单元测试UT：针对编码过程中可能存在的各种错误。例如用户输入验证过程中边界值的错误。对应的是详细设计。</p>
<p>②集成测试SIT：针对详细设计中可能存在的问题，尤其是检查个单元与其他程序部分之间的接口上可能存在的错误，对应的是概要设计。</p>
<p>③系统测试ST：主要针对概要设计，检查系统作为一个整体是否有效得到运行。包括功能测试、性能测试、安全性测试、易用性测试、兼容性测试等。例如，在产品设置中是否达到了预期的高性能，对应的是需求分析。</p>
<p>④验收测试UAT：通常由业务专家或用户进行，以确认产品真正符合用户业务上的需求。分为Alpha测试和Beta测试。</p>
<p>6、螺旋模型</p>
<p>将瀑布模型和演化模型相结合，综合了两者的优点，并增加了风险分析。适用于大规模团队开发。</p>
<p>螺旋模型的四个象限代表了以下活动：</p>
<p>①制定计划：确定软件目标，选定实施方案，弄清项目开发的限制条件</p>
<p>②风险分析：分析评估所选方案，考虑如何识别和消除风险</p>
<p>③实施工程：实施软件开发和验证</p>
<p>④客户评价：评价开发工作，提出修正建议，制定下一步计划</p>
<h2 id="软件设计概念"><a href="#软件设计概念" class="headerlink" title="软件设计概念"></a>软件设计概念</h2><p>概要设计也成为总体设计，将软件需求转化未数据结构和软件的系统结构。</p>
<p>模块化指的是将一个待开发的软件分解成若干个小的简单部门-模块，每个模块可以独立地开发、测试。通常我们用耦合（模块之间联系的紧密程度）和内聚（模块内部个元素之间联系的紧密程度）来衡量模块的高度独立性，我们的目标使高内聚、低耦合。</p>
<p>详细设计也成为低层设计，将对结构表示进心细化，得到详细的数据结构与算法。如果采用结构化设计，则详细设计的任务就是为每个模块进行设计。</p>
<p>详细设计确定应该如何具体地实现所需求的系统，得出对目标系统的精确描述。它采用自顶向下、逐步求精的设计方式和单入口和单出口的控制结构。</p>
<p>在软件设计过程中，需要完成以下工作任务</p>
<p>（1）制定规范，作为设计的共同标准。</p>
<p>（2）完成软件系统结构的总体设计，将复杂系统按功能划分为模块的层次结构，然后确定模块的功能，以及模块间的调用关系、模块间的组成关系。</p>
<p>（3）设计处理方式，包括算法、性能、周期时间、响应时间、吞吐量、精度等。</p>
<p>（4）设计数据结构。</p>
<p>（5）可靠性设计。</p>
<p>（6）编写设计文档，包括概要设计说明书、详细设计说明书、数据库设计说明书、用户手册、初步的测试计划等。</p>
<p>（7）设计评审，主要是对设计文档进行评审。</p>
<h2 id="软件测试概念"><a href="#软件测试概念" class="headerlink" title="软件测试概念"></a>软件测试概念</h2><p>1、动态测试是指通过运行程序发现错误</p>
<p>（1）黑盒测试</p>
<p>测试人员完全不考虑程序内部结构和处理过程，只在软件的接口处进行测试。又称为功能测试或数据驱动测试。常用的黑盒测试用例的设计方法有等价类划分、边值分析、错误猜测、因果图和功能图等。</p>
<p>（2）白盒测试</p>
<p>测试人员需了解程序的内部结构和处理过程，检验内部控制结构和数据结构是否有错。常用的白盒测试用例设计方法有基本路劲测试、循环覆盖测试、逻辑覆盖测试。</p>
<p>（3）灰盒测试</p>
<p>介于百合测试与黑盒测试之间的测试，关注输出对于输入的正确性。通过一些表征性的现象、事件及标志来判断程序内部的运行状态。</p>
<p>2、静态测试是指被测试程序不在机器上运行，而是采用人工检车和计算机辅助静态分析的手段对程序进行检测。人工测试的主要方法有桌前检查（程序员自查）、代码审查和代码走查。</p>
<h2 id="进度管理"><a href="#进度管理" class="headerlink" title="进度管理"></a>进度管理</h2><p>1、甘特图（Gantt）</p>
<p>优点是标明了各任务的计划进度和当前进度，能动态地反映项目进展；缺点在于难以反映多个任务之间存在的复杂逻辑管理。</p>
<p>2、计划评审图（PERT）</p>
<p>优点是可以明确表达任务之间的依赖关系，即哪些任务完成后才能开始另一些任务，以及如期完成整个工程的关键路径；缺点是不能清晰地描各个任务之间的并行关系。</p>
<p>完成工程的最少时间是从开始顶点到结束顶点的最长路径长度，称从开始顶点到接数定点的最长（工作时间之和最大）路径为关键路径（临界路径），关键路 径上的活动为关键活动。</p>
<p>松弛时间指不影响完工前提下可能被推迟完成的最大时间：</p>
<p>松弛时间=关键路 径的时间-包含某活动最长路径所需要的时间</p>
<p>最晚开始时间=松弛时间+最早开始时间</p>
<p>在关键路径上的任务的松弛时间为0。</p>
<h1 id="第四章-知识产权"><a href="#第四章-知识产权" class="headerlink" title="第四章    知识产权"></a>第四章    知识产权</h1><p>《中华人民共和国著作权法》规定，著作权人对其创作的产品，享有以下几种权利：</p>
<p>发表权、署名权、修改权、保护作品完整权、复制权、发行权、出租权、展览权、表演权、放映权、广播权、信息网络传播权、摄制权、改编权、翻译权、汇编权、应当由著作权人享有的其他权利。</p>
<p>著作权产生的时间是自作品完成创作之日。</p>
<h2 id="著作权保护期限"><a href="#著作权保护期限" class="headerlink" title="著作权保护期限"></a>著作权保护期限</h2><p>1、著作权属于公民</p>
<p>署名权、修改权、保护作品完整权的保护期限没有任何限制。而发表权、使用权和获得报酬权的保护期为作者终生及其死亡后的50年。作者死亡后，著作权依照继承法进行转移。</p>
<p>2、著作权属于单位</p>
<p>发表权、使用权和获得报酬权的保护期为50年，若50年内未发表的，不予保护。但单位变更、终止后，其著作权由承受其权利义务的单位享有。</p>
<h2 id="著作权人的确定"><a href="#著作权人的确定" class="headerlink" title="著作权人的确定"></a>著作权人的确定</h2><p>《中华人民共和国著作权法》第十一条规定：“著作权属于作者，本法另有规定的除外。创作作品的公民是作者。由法人或者其他组织主持，代表法人或者其他组织意志创作，并由法人或者其他组织承担责任的作品，法人或者其他组织视为作者。”</p>
<p>如果遇到作者不明的情况，那么作品原件的所有人可以形式署名权以外的著作权，直到作者身份明确。</p>
<h2 id="侵权判定"><a href="#侵权判定" class="headerlink" title="侵权判定"></a>侵权判定</h2><p>1、不侵权</p>
<p>个人学习、研究或者欣赏；</p>
<p>适当引用；</p>
<p>公开演讲内容；</p>
<p>用于教学或科学研究；</p>
<p>复制馆藏作品；</p>
<p>免费表演他人作品；</p>
<p>室外公共场所艺术品临摹、绘画、摄影、录像；</p>
<p>将汉语作品译成少数民族语言作品或盲文出版。</p>
<p>2、侵权</p>
<p>未经许可，发表他人作品；</p>
<p>未经合作作者许可，将与他人合作创作的作品当作自己单独创作的作品发表的；</p>
<p>未参加创作，在他人作品署名；</p>
<p>歪曲、篡改他人作品的；</p>
<p>剽窃他人作品的；</p>
<p>使用他人作品，未付报酬；</p>
<p>未经出版者许可，使用其出版的图书、期刊的版式设计的。</p>
<p><strong>考点：</strong>如果给出的条件没有明确说明双方的约定情况，并且答案中出现“是否侵权，应根据甲乙双方协商的情况而定”时，通常这才是正确答案。</p>
<h2 id="商标权"><a href="#商标权" class="headerlink" title="商标权"></a>商标权</h2><p>商标权是指商标主管机构依法授予商标所有人对其注册商标受国家泛绿保护的专有权。由文字、图形、字母、数字、三维标志、颜色组合构成。</p>
<p>《商标法规定》，商标权有效期10年，期满前12个月内申请续展，在此期间未能申请的，可再给与6个月的宽展期。</p>
<p>关于商标权的归属：<br>（1）谁先申请谁拥有（除知名商标的非法强占）</p>
<p>（2）同时申请，则根据谁先使用，需提供证据，无法提供证据，协商归属，无效时使用抽签。</p>
<h2 id="专利权"><a href="#专利权" class="headerlink" title="专利权"></a>专利权</h2><p>专利权是发明创造人或其权力受让人对特定的发明创造在一定期限内依法享有的独占实施权，是知识产权的一种。保护期限为20年。</p>
<p>专利权解决的办法一般有两种：</p>
<p>（1）两申请人作为一件专利申请的共同申请人</p>
<p>（2）其中一方放弃权力并从另一方得到适当的补偿</p>
<h1 id="第五章-数据通信技术"><a href="#第五章-数据通信技术" class="headerlink" title="第五章    数据通信技术"></a>第五章    数据通信技术</h1><h2 id="信道特性"><a href="#信道特性" class="headerlink" title="信道特性"></a>信道特性</h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033006.png" alt=""></p>
<p>1、奈奎斯特定理</p>
<p>奈奎斯特推导出在理想信道（无噪声干扰）的情况下最高码元的传输速率的公式：</p>
<p>B=2W（W为信道的带宽）</p>
<p>传输速度超过此上限，就会出现严重的码间串扰问题，使得接收端对码元的识别称为不可能。波特是码元传输的速率单位，它说明每秒传送多少个码元。码元的传输速率也成为调制速率、波形速率，反应信号波形变换的频繁程度。</p>
<p>比特是信号量的单位，信息的传输速率bps和波特率在数量上有一定的关系。如果一个码元（取2个离散值）只携带1比特的信息量，则两者之间的数值相等。如果一个码元（取4个离散值），则代表携带2比特的信息量。</p>
<p>具体换算公式为：</p>
<p>R=Blog<sub>2</sub>N（R为比特率bps、B为波特率、N为码元种类数）</p>
<p>2、香农定理</p>
<p>香农用信息论的理论推导出了带宽受限且有噪声干扰的信道的极限信息传输速率</p>
<p>C=Wlog<sub>2</sub>(1+S/N)</p>
<p>在使用香农理论时由于S/N（信噪比）的比值通常太大，因此通常使用分贝数（dB）来表示，即</p>
<p>dB=10log<sub>10</sub>(S/N)</p>
<p><strong>案例</strong>：分贝是30dB，如果带宽是3kHz，则这时的   极限数据速率是？<br>dB=10log<sub>10</sub>(S/N)=10log<del>10</del>10^k^=10<em>k<br>即30dB=10\</em>k，所以k=3<br>即S/N=10^3^ =1000<br>C=Wlog<del>2</del>(1+S/N)=3000log<del>2</del>(1+1000)≈3000*10=30kbps</p>
<p>3、误码率：表示传输二进制位时出现差错的概率<br>$$<br>PC=\frac{Ne(出错的位数)}{N(传送的总位数)}<br>$$<br>误码率一般要求低于10^-6^，即平均没传送1兆位才允许出错1位。在误码率低于一定的数值时，可以用差错控制的办法进行检查和纠正。</p>
<h2 id="信道复用"><a href="#信道复用" class="headerlink" title="信道复用"></a>信道复用</h2><p>多路复用技术把多个低速信道组合成一个高速信道的技术</p>
<p>1、多路复用分类</p>
<table>
<thead>
<tr>
<th align="left">复用技术</th>
<th align="left">特点与描述</th>
<th>典型应用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">SDM（空分复用）</td>
<td align="left">通过信号在空间上的分离来达到信道的复用</td>
<td>光缆</td>
</tr>
<tr>
<td align="left">FDM（频分复用）</td>
<td align="left">在一条传输介质上使用多个不同频率的模拟载波信号进行传输，每个载波信号形成一个不重叠且相互隔离（不连续）的频带，接收端通过带通滤波器来分离信号</td>
<td>无线电广播系统、有线电视系统（CATV）、宽带局域网、模拟载波系统</td>
</tr>
<tr>
<td align="left">TDM（同步时分复用）</td>
<td align="left">每个子通道按照时间片轮流占用带宽，但每个传输时间划分固定大小的周期，即使子通道不使用也不能够给其他子通道使用</td>
<td>T1/E1等数字载波系统、ISDN用户网络接口、SONET/SDH（同步光纤网络）</td>
</tr>
<tr>
<td align="left">TDM（统计时分复用）</td>
<td align="left">是对同步时分复用的改进，固定大小的周期可以根据子通道的需求动态地分配</td>
<td>ATM</td>
</tr>
<tr>
<td align="left">WDM（波分复用）</td>
<td align="left">与FDM相同，只不过不同子信道使用的是不同波长的光波而非频率来承载，常用到ILD</td>
<td>用于光纤通信</td>
</tr>
<tr>
<td align="left">CDMA（码分复用）</td>
<td align="left">依靠不同的编码来区分各路原始信号的一种复用方式，主要和各种多址技术（诸如码分多址CDMA、频分多址FDMA、时分多址TDMA和同步码分多址SCDMA）结合产生了各种接入技术，包括无线和有线接入</td>
<td>TDS-CDMA、CDMA和WCDMA等移动通信系统</td>
</tr>
</tbody></table>
<p>2、数字传输系统复用标准</p>
<p>PDH（准同步数字系列）数字传输系统原理、组成与应用地区</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>原理与组成</th>
<th>应用地区</th>
</tr>
</thead>
<tbody><tr>
<td>T1载波</td>
<td>采用同步时分复用技术将24个话音信道复合在一条 1.544Mbps（(24*8+1)/125）的高速信道上</td>
<td>美国和日本</td>
</tr>
<tr>
<td>T2载波</td>
<td>由4个T1时分复用而成，达到6.312Mbps</td>
<td>美国和日本</td>
</tr>
<tr>
<td>T3载波</td>
<td>由7个T2时分复用而成，达到44.736Mbps</td>
<td>美国和日本</td>
</tr>
<tr>
<td>T4载波</td>
<td>由6个T3时分复用而成，达到274.176Mbps</td>
<td>美国和日本</td>
</tr>
<tr>
<td>E1载波</td>
<td>采用同步时分复用技术将30个话音信道（64k）和2个控制信道（64k）复合在一条2.048Mbit/s（32*64）的高速信道上。其中时隙CH0用作帧同步，时隙CH16用来传送命令，剩下CH1~CH15和CH17~CH31共30个时隙用作30个话路，每个时隙传送8bit，因此共用256bit（32*8），每秒传送8000个帧。一个时分复用帧长度T=125μs（1/8000）</td>
<td>欧洲发起，除美、日外多用</td>
</tr>
<tr>
<td>E2载波</td>
<td>8.488Mbps</td>
<td>相当于4E1</td>
</tr>
<tr>
<td>E3载波</td>
<td>34.368Mbps</td>
<td>相当于4E2</td>
</tr>
<tr>
<td>E4载波</td>
<td>139.264Mbps</td>
<td>相当于4E3</td>
</tr>
</tbody></table>
<h2 id="通信方式"><a href="#通信方式" class="headerlink" title="通信方式"></a>通信方式</h2><p>1、通信方向</p>
<p>（1）单工通信</p>
<p>信息只能在一个方向发送，发送方不能接收，接收方也不能发送。无线电广播和电视广播</p>
<p>（2）半双工通信</p>
<p>通信的双方可交替发送和接受信息，但不能同时发送和接收。航空和航海无线电台以及无线对讲机。</p>
<p>（3）全双工通信</p>
<p>同时进行双向信息传送。现代电话通信。</p>
<p>2、同步方式</p>
<p>（1）异步传输</p>
<p>把各个字符分开传输，字符之间插入同步信息。在字符的前后分别插入起始位“0”和停止位“1”。起始位对接收方的时钟起置位作用。接收方时钟置位后只要在8~11位的传送时间内准确，就能正确接收一个字符。最后的停止位告诉接收方该字符传送结束，然后接收方就可以检测后续字符的起始位了。当没有字符传送时，连续传送停止位。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033005.png" alt=""></p>
<p>加入校验位的目的是检查传输中的错误，一般使用奇偶校验。异步传输的优点是简单，但是由于起止位和检验位的加入会引入20%~30%的开销，传输的速率也不会很高。</p>
<p>（2）同步传输</p>
<p>发送方在发送数据之前先发送一串不同步字符SYNC，接收方只要检测到连续两个以上SYNC字符就确认已进入同步状态，准备接收信息。随后的传送过程中双方以同一频率工作，指导传送完指示数据结束的控制字符。</p>
<p>这种同步方式仅在数据块的前后加入控制字符SYNC，所以效率更高。在短距离高速数据传输中，多采用同步传输方式。</p>
<p>3、通信方式</p>
<p>（1）并行</p>
<p>一次传输多个二进制比特，例如数据总线</p>
<p>（2）串行</p>
<p>一次只传输一个二进 制比特，适合长距离传输，例如路由器之间</p>
<h2 id="调制技术-模拟信道传送数字信号"><a href="#调制技术-模拟信道传送数字信号" class="headerlink" title="调制技术-模拟信道传送数字信号"></a>调制技术-模拟信道传送数字信号</h2><p>所谓调制就是进行波形变换。更严格讲，就是进行频谱变换，将基带数字信号的频谱变换为适合在模拟信道中传输的频谱。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033028.png" alt=""></p>
<table>
<thead>
<tr>
<th>调制技术</th>
<th>说明</th>
<th>码元种类</th>
</tr>
</thead>
<tbody><tr>
<td>ASK</td>
<td>幅移键控，用恒定的载波振幅值表示一个数（通常是1），无载波表示另一个数</td>
<td>2</td>
</tr>
<tr>
<td>FSK</td>
<td>频移键控，由载波频率（fc）附近的两个频率(f1，f2)表示两个不同值，fc恰好为中间值</td>
<td>2</td>
</tr>
<tr>
<td>PSK</td>
<td>相移键控，用载波的相应偏移来表示数据值。DPSK（每90°表 示一种状态）、2DPSK（前后码元的初始相位是否有发生变化来确定码元的种类)、BPSK、QPSK（每45°表示一种状态）</td>
<td>2</td>
</tr>
<tr>
<td>MQAM</td>
<td>正交幅度调制，其幅度和相位同时变化</td>
<td></td>
</tr>
</tbody></table>
<h2 id="PCM-数字信道传送模拟信号"><a href="#PCM-数字信道传送模拟信号" class="headerlink" title="PCM-数字信道传送模拟信号"></a>PCM-数字信道传送模拟信号</h2><p>脉冲编码调制PCM技术：</p>
<p>模拟信号必须转变为数字信号，才能在数字信道上传送，这个过程称为“脉冲编码调制PCM技术”。</p>
<p>PCM要经过取样、量化和编码3个步骤。</p>
<p>奈奎斯特采样定律：采样频率应大于模拟信号的最高频率的2倍。</p>
<p><strong>案例</strong>：设信道带宽为3400Hz，采用PCM编码，采样周期为125us，每个样本量化为128个等级，则信道的数据速率为？</p>
<p>解答：周期为125us，所以采样频率为1/125us=8000Hz（符合奈奎斯特定律8000&gt;3400*2）；<br>每个样本128个等级占7位二进制数；<br>所以信道速率为8000Hz*7=56kbps</p>
<h2 id="编码技术-数字信道传送数字信号"><a href="#编码技术-数字信道传送数字信号" class="headerlink" title="编码技术-数字信道传送数字信号"></a>编码技术-数字信道传送数字信号</h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033003.png" alt=""></p>
<p>1、基本编码</p>
<p>（1）极性编码：极性编码包括正极和负极两种，单极性码只使用一个极性，再加零电平（正极表示0，零电平表示1）的编码；极性码使用了两极（正极表示0，负极表示1）的编码；双极性码则使用了正负两极和零点平（其中一种典型的双极性码是信号交替翻转编码AMI，它用零点平表示0，1则使用电平在正、负极间交替翻转）的编码。</p>
<p>在极性编码方案中始终使用某一特定的电平来表示特定的数，因此当连续发送多个1或0时，无法直接从信号判断出个数。要解决这个问题就需要引入时钟信号。</p>
<p>（2）归零性编码</p>
<p>归零性就是指码元中间的信号回归到零点平。不归零性码则不回归零（而是当1时电平翻转，0时不翻转），这也称之为差分机制。值得注意的是这里讲的不归零码实际是不归零反转码，还有一种就是常规的不归零码，就是用高电平表示1，低电平表示0.</p>
<p>（3）双向码</p>
<p>通过不同方向的电平翻转（低到高代表0，高到低代表1），这样不仅可以提高抗干扰性，还可以实现自同步，它也是曼彻斯特编码的基础。</p>
<p>2、应用性编码</p>
<p>（1）曼彻斯特编码和差分曼彻斯特编码</p>
<p>曼彻斯特编码是一种双向码，在曼彻斯特编码中，每一位的中间有一跳变，位于中间的跳变既作时钟信号，又作数据信号：从高到低跳变表示0，从低到高跳变表示1（反之也正确），因此它可以实现<strong>自同步</strong>，常用于以太网（IEEE802.3 10M以太网）</p>
<p>差分曼彻斯特编码在每个时钟周期的中间都有一次电平跳变，这个跳变在同步之间。在每个时钟周期的起始处：跳变则说明该比特是0，不跳变则说明该比特是1。这里有个技巧记忆，<strong>主要看两个相邻的波形，如果后一个波形和前一个波形相同，则后一个波形表示0，如果波形不同，则表示1</strong>。常用于令牌环网。</p>
<p>注意：曼彻斯特编码作为一种数字信号的编码是一个码元对应一个高电平或一个低电平的。而差分曼彻斯特编码是用相邻使用相邻两个电平来表示1bit，使用曼码和差分曼码时，每传输1bit的信息，就要求线路上有2次电平状态变化，所以这种编码方式的效率只有50%。</p>
<p>（2）4B/5B编码、8B/6T编码和8B/10B编码</p>
<p>mBnB编码，也就是将m比特位编码称为n波特（代码位）</p>
<table>
<thead>
<tr>
<th>编码方案</th>
<th>说明</th>
<th>效率</th>
<th>典型应用</th>
</tr>
</thead>
<tbody><tr>
<td>4B/5B</td>
<td>每次对4位数据进行编码，将其转为5位符号</td>
<td>1.25波特/位，即80%</td>
<td>100BASE-FX、100BASE-TX、FDDI</td>
</tr>
<tr>
<td>8B/10B</td>
<td>每次对8位数据进行编码，将其转为10位符号</td>
<td>1.25波特/位，即80%</td>
<td>千兆以太网</td>
</tr>
<tr>
<td>8B/6T</td>
<td>8bit映射为6个三进制数</td>
<td>0.75波特/位</td>
<td>100BASE-T4</td>
</tr>
</tbody></table>
<p>其中4B/5B这种编码的特点是将发送的数据流每4bit作为一个组，然后按照4B/5B编码规则将其转换成相应5bit码，并且由NRZ-1方式传输。5bit码共有32种组合，但只采用其中对应4bit码的16种，其他的16种或者未用或者用作控制码，以表示帧的开始和结束、光纤线路的状态（静止、空闲、）</p>
<h2 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h2><p>码距：一个编码系统的码距就是整个编码系统中任意（所有）两个码字的最小距离。</p>
<p>在一个码组内为了检测e个误码，要求最小码组d应该满足d≥e+1；</p>
<p>在一个码组内为了纠正t个错误，要求最小码距d应该满足d≥2t+1。</p>
<p>1、奇偶校验</p>
<p>其原理是在7位的ASCII代码后增加一位，使码字中1的个数成为奇数（奇校验）或偶数（偶校验）。经过传输后，如果其中一位（甚至奇数个位出）出错，则接收端按同样的规则就能发现错误。</p>
<p>案例：设要传送用户比特信息为C1C2C3C4C5，其中校验码Ci取值“0”或“1”。</p>
<p>经过编码以后变成六比特编码码字，其中校验位C6应满足下列关系：</p>
<p>C1+C2+C3+C4+C5+C6=0（或1）</p>
<p>算式中的加法是模2运算。上式的右边等于零称为偶校验，此时等式的左边含偶数个1；等于1就是奇校验，则含有奇数个1。</p>
<p>在接收端，将收到的C1，C2，…，C6进行累加，检查其是否符合算式的关系。如果受到的码组符合奇偶校验关系，则认为传输没有错。实际上，它是可能错的。因为，如果偶数个位发生错误，则接收端根据奇偶校验关系仍然认为没有错误。奇偶校验可以发现所有奇数个位的错误。</p>
<p>2、海明校验</p>
<p>海明校验是在数据中间加入几个校验码，码距均匀拉大，将数据的每个二进制位分配在几个奇偶校验组里，当某一位出错，会引起几个校验位的值发生变化。</p>
<p>海明距离（码距）是两个码子之间不同的比特数。</p>
<p>海明码的特点：m+k+1≤2<sup>k</sup></p>
<p>m表示数据位的位数，k表示 冗余位的位数</p>
<p>案例1：假设传送的信息为1001011，把各个数据放在3、5、6、7、9、10、11等位置上，1、2、4、8位留作校验位。</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td>1</td>
<td></td>
<td>0</td>
<td>0</td>
<td>1</td>
<td></td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
</tbody></table>
<p>首先把码字的位从1到n编号，并把这个编码表示成二进制数，即2的幂之和。然后对2的每一个幂设置一个奇偶位。例如对于6号位，由于6=(110)<del>2</del>，所以6号位参加第2位和第4位的奇偶校验，而不参加第1位和第8位的奇偶校验。然后把奇偶校验分配在1、2、4、8的位置上，分别为0、1、1、0。依次计算出其他为的奇偶校验。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033004.png" alt=""></p>
<p>根据上图，3、5、7、9、  11的二进制编码第一位为1，所以3、5、7、9、11参加第1位校验，若按偶校验计算，1号位应为1。</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
</tr>
</thead>
<tbody><tr>
<td>==1==</td>
<td></td>
<td>1</td>
<td></td>
<td>0</td>
<td>0</td>
<td>1</td>
<td></td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
</tbody></table>
<p>类似地，3、6、7、10、11号位参加2位校验，5、6、7参加4号位校验，9、10、11号位参加8位校验，全部按偶校验计算，最终得到：</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
</tr>
</thead>
<tbody><tr>
<td>==1==</td>
<td>==0==</td>
<td>1</td>
<td>==1==</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>==0==</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
</tbody></table>
<p>如果这个码字传输中出错，比如6号位出错，即变成</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
</tr>
</thead>
<tbody><tr>
<td>==1==</td>
<td>==0==</td>
<td>1</td>
<td>==1==</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>==0==</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>✔</td>
<td>✘</td>
<td></td>
<td>✘</td>
<td></td>
<td></td>
<td></td>
<td>✔</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>当接收端按照同样的规则计算奇偶位时，发现1和8号位的奇偶性正确，2和4号位奇偶性不对，于是2+4=6，立即可确认错在6号位。</p>
<p>在上例中，k=4，因而m&lt;2^4^-4=11，即数据为可用到11位，共组成15位的码字，可检测出单个位的错误。</p>
<p>案列2：如果给出一个加入了校验码的信息，并说明有一位错误，找出是哪一位？</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>12</th>
<th>13</th>
</tr>
</thead>
<tbody><tr>
<td>==1==</td>
<td>==1==</td>
<td>1</td>
<td>==0==</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>==0==</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody></table>
<p>C1=B1⊕B3⊕B5⊕B7⊕B9⊕B11⊕B13=1</p>
<p>C2=B2⊕B3⊕B6⊕B7⊕B10⊕B11=1</p>
<p>C4=B4⊕B5⊕B6⊕B7⊕B12⊕B13=0</p>
<p>C8=B8⊕B9⊕B10⊕B11⊕B12⊕B13=1</p>
<p>通过海明校验隐含的偶校验，判断出C4监督式是数据位无错，C1C2C8三个监督式有错误位，通过排除，定位B11位出错。</p>
<p>3、CRC校验</p>
<p>（1）CRC计算</p>
<p>要计算CRC校验码，要根据CRC生成多项式进行。</p>
<p>案例：原始报文为11001010101，其生成多项式为X^4^+X^3^+X+1。</p>
<p>①冗余位数=多项式的最高次幂=4</p>
<p>②多项式=1*X^4^+1*X^3^+1*X^2^+1*X+1*X^0^，除数为多项式的系数=11011</p>
<p>③因为冗余位数为4，所以在原始报文后添加4个0</p>
<p>④用原始报文11001010101==0000==对11011进行模2除运算，直到余数为4位时停止。那么 这四位的值就是冗余位的值（0011）。</p>
<p>⑤最终结果为11001010101==0011==</p>
<p>（2）CRC应用</p>
<table>
<thead>
<tr>
<th>网络协议</th>
<th>CRC位</th>
<th>应用点</th>
</tr>
</thead>
<tbody><tr>
<td>HDLC</td>
<td>CRC16/CRC32</td>
<td>除帧标志位外的全帧</td>
</tr>
<tr>
<td>FR（帧中继）</td>
<td>CRC16</td>
<td>除帧标志位外的全帧</td>
</tr>
<tr>
<td>ATM</td>
<td>CRC8</td>
<td>帧头校验</td>
</tr>
<tr>
<td>以太网（802.3）</td>
<td>CRC32</td>
<td>帧头（不含前导和帧启始符）</td>
</tr>
<tr>
<td>令牌总线（802.4）</td>
<td>CRC32</td>
<td>帧头（不含前导和帧启始符）</td>
</tr>
<tr>
<td>令牌环（802.5）</td>
<td>CRC32</td>
<td>帧头（不含前导和帧启始符）</td>
</tr>
<tr>
<td>FDDI</td>
<td>CRC32</td>
<td>帧头（不含前导和帧启始符）</td>
</tr>
</tbody></table>
<h1 id="第六章-网络体系结构"><a href="#第六章-网络体系结构" class="headerlink" title="第六章    网络体系结构"></a>第六章    网络体系结构</h1><h2 id="计算机网络的组成"><a href="#计算机网络的组成" class="headerlink" title="计算机网络的组成"></a>计算机网络的组成</h2><p>资源子网：由网络的服务器、工作站、共享的打印机和其他设备及相关软件所组成。</p>
<p>通信子网：是指网络种实现网络通信功能的设备及其软件的集合（通信设备、网络通信协议、通信控制软件等）。主要为用户提供数据的传输、转接、加工、变换等。</p>
<h2 id="计算机网络的性能"><a href="#计算机网络的性能" class="headerlink" title="计算机网络的性能"></a>计算机网络的性能</h2><p>1、速率：连接在计算机网络上的主机在数字信道上传送数据的速率。速率的单位是bit/s或bps（比特每秒）</p>
<p>2、带宽：在单位时间内从网络的某一点到另一点所能通过的“最高数据率”。</p>
<p>3、吞吐量：在单位时间内通过某个网络（或信道、接口）的数据量。吞吐量受网络贷款或网络额定速率的限制。有时吞吐量还可用每秒传送的字节数或帧数来表示。</p>
<p>4、时延：数据从网络的一端传送到另一端所需的时间。</p>
<p>（1）发送时延</p>
<p>主机或路由器发送数据帧所需要的时间，也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需时间。</p>
<p>发送时延=数据长度（b）/发送速率（b/s）</p>
<p>（2）传播时延</p>
<p>电磁波在信道中传播一定的距离需要花费的时间。</p>
<p>传播时延=信道长度（m）/电磁波在信道上的传播速率（m/s）</p>
<p>电磁波在铜线电缆中的传播速率是200km/ms，卫星信号的传播延迟为270ms。</p>
<p>（3）处理时延</p>
<p>主机或路由器在受到分组时要花费一定的时间进行处理</p>
<p>（4）排队时延</p>
<p>分组在进入路由器之间要现在输入队列中排队等待处理。在路由器确定了转发接口后，还要再输出队列中排队等待转发。</p>
<p>总时延=发送时延+传播时延+处理时延+排队时延</p>
<p>5、信道利用率</p>
<p>指某信道有百分之几的时间是被利用的。</p>
<p>数据封装与解封装</p>
<h2 id="OSI层次结构"><a href="#OSI层次结构" class="headerlink" title="OSI层次结构"></a>OSI层次结构</h2><p>1、物理层</p>
<p>提供物理通路、二进制数据传输、定义机械电气特性和接口。</p>
<p>2、数据链路层</p>
<p>数据链路的链接与释放、流量控制、构成链路数据单元、差错的检测与修复、帧定界与同步、传送以帧为单位的信息。</p>
<p>3、网络层</p>
<p>网络层数据的传送单位是分组（packet），路由的选择与中继、网络连接的激活与终止、网络连接的多路复用、差错的检测与恢复、排序与流量控制、服务选择</p>
<p>4、传输层</p>
<p>映射传输地址到网络地址、传输连接的建立与释放、多路复用与分割、差错控制及恢复、分段与重组、组块与分块、序号及流量控制。传输单位是段。</p>
<p>传输层向上一层提供一个可靠的端到端的服务，使会话层不知道传输层以下数据通信的细节。</p>
<p>5、会话层</p>
<p>会话链接到传输链接映射、会话链接的恢复与释放、对会话参数进行协商服务选择、活动管理与令牌管理、数据传送。</p>
<p>6、表示层</p>
<p>数据语法的转换、数据加密与数据压缩、语法表示与连接管理。</p>
<p>7、应用层</p>
<p>应用层包含用户应用进程执行任务所需要的协议和功能。</p>
<h2 id="数据封装与解封装"><a href="#数据封装与解封装" class="headerlink" title="数据封装与解封装"></a>数据封装与解封装</h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033030.png" alt=""></p>
<h2 id="服务访问点SAP"><a href="#服务访问点SAP" class="headerlink" title="服务访问点SAP"></a>服务访问点SAP</h2><p>数据链路层：LLC</p>
<p>网络层：IP地址</p>
<p>传输层：端口号</p>
<h2 id="TCP-IP体系结构"><a href="#TCP-IP体系结构" class="headerlink" title="TCP/IP体系结构"></a>TCP/IP体系结构</h2><p>1、网络接口层</p>
<p>提供IP数据报的发送和接收。该层使用协议为各通信子网本身固有的协议。例如以太网的802.3协议、令牌环网的802.5协议以及分组交互网的X.25协议等。</p>
<p>2、网络层</p>
<p>提供计算机间的分组传输。（1）高层数据的分组生成（2）底层数据报的分组组装（3）处理路由、流控、拥塞等问题。IP协议提供统一的地址格式和IP数据包格式，以消除各通信子网的差异，从而为信息发送方和接收方提供透明通道。</p>
<p>3、传输层</p>
<p>提供应用程序间的通信。（1）格式化信息流（2）提供可靠传输。TCP协议提供面向连接的可靠的字节流传输；UDP提供无连接的不可靠的数据包传输。</p>
<p>4、应用层    </p>
<p>提供常用的应用程序。</p>
<h2 id="网络协议"><a href="#网络协议" class="headerlink" title="网络协议"></a>网络协议</h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033031.jpg" alt=""></p>
<h1 id="第七章-局域网技术"><a href="#第七章-局域网技术" class="headerlink" title="第七章    局域网技术"></a>第七章    局域网技术</h1><h2 id="局域网拓扑结构"><a href="#局域网拓扑结构" class="headerlink" title="局域网拓扑结构"></a>局域网拓扑结构</h2><p>1、星形拓扑结构</p>
<p>2、总线拓扑结构</p>
<p>3、环形拓扑结构-令牌环</p>
<p>（1）网络空闲时，只有一个令牌在换路上绕行。令牌是一个特殊的帧格式，其中包含一位“令牌/数据帧”标志位，标志位为0表示该令牌为可用的空令牌，标志位为1表示有站点正占用令牌在发送数据帧。</p>
<p>（2）当一个站点要发送数据时，必须等待并获得一个令牌，将令牌的标志位置位1，随后便可发送数据。</p>
<p>（3）环路中的每个站点边转发数据，边检查数据帧中的目的地址，若为本站点的地址，便读取其中所携带的数据。</p>
<p>（4）当传送数据被目的的节点计算机接收后，数据被从网中除去，令牌被重新置为“空”的状态。令牌环网的缺点是需要维护令牌，一旦失去令牌就无法工作，需要选择专门的节点监视和管理令牌。</p>
<p>4、网状拓扑结构</p>
<h2 id="局域网体系结构"><a href="#局域网体系结构" class="headerlink" title="局域网体系结构"></a>局域网体系结构</h2><p>IEEE 802局域网参考模式：</p>
<p>数据链路层分为两个子层：逻辑链路控制子层LLC、介质访问控制层MAC。</p>
<p>（1）LLC层提供一个或多个服务访问点，以复用的形式建立多点对多点之间的数据通信连接，并包括寻址、差错控制、顺序控制和流量控制等功能。此外，在LLC层还提供OSI/RM中网络层提供的两项服务，即无连接的数据报服务和面向连接的虚电路服务。</p>
<p>（2）MAC层具有管理通信实体接入信道而建立数据链路的控制过程。 在局域网中采用的MAC子层介质访问控制协议CSMA/CD。</p>
<h2 id="CSMA-CD协议"><a href="#CSMA-CD协议" class="headerlink" title="CSMA/CD协议"></a>CSMA/CD协议</h2><p>CSMA/CD的发送流程可以简单的概括为4点：</p>
<p>1、载波监听</p>
<p>每个以太网节点利用总线发送数据时，首先需要监听总线是否空闲。以太网的物理层规定发送的数据帧采用曼彻斯特编码方式。如果总线上已经没有数据在传输，总线的电平将不会发生跳变，可以判断此时为“总线空闲”。</p>
<table>
<thead>
<tr>
<th>载波监听算法</th>
<th>信道空闲时</th>
<th>信道忙时</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>非坚持型监听算法</td>
<td>立即发送</td>
<td>等待N，再监听</td>
<td>减少冲突，信道利用率低</td>
</tr>
<tr>
<td>1-坚持型监听算法</td>
<td>立即发送</td>
<td>继续监听</td>
<td>提高信道利用率，增大了冲突</td>
</tr>
<tr>
<td>P-坚持型监听算法</td>
<td>以概率P发送</td>
<td>继续监听</td>
<td>有效平衡、很复杂</td>
</tr>
</tbody></table>
<p>2、冲突检测</p>
<p>总线上同时出现两个或两个以上的信号，它们叠加后的信号波形将不等于任何节点输出的信号波形。检查从总线上接收到的信号波形，接收到的信号波形不符合曼彻斯特编码规律，这说明已经出现了冲突。</p>
<p>3、发现冲突，停止发送</p>
<p>载波监听只能减少冲突的概率，但无法完全避免冲突。为了能够高效地实现冲突检测，在CSMA/CD中采用了边发边听的冲突检测方法。即发送者一边发，一边接收。一旦发现结果出现不同，立即停止发送，并发出Jamming（冲突）信号。正是因为采用了边发边听的检测方法，因此检测冲突所需的最长时间是网络传播延迟的两倍。</p>
<p>CSMA/CD总线网络中最短帧长的计算关系式：<br>$$<br>\frac{最短的数据帧长（bit）}{数据传输速率（bps）}≥2\frac{任意两点间的最长距离（m）}{信号传播速度（200m/us）}<br>$$<br>4、随机延迟重发</p>
<p>以太网采用截断二进制指数退避算法来解决碰撞问题。这种算法让发生碰撞的站在停止发送数据后，不是等待信道变为空闲后就立即再发送数据，而是推迟一个随机的时间。这样做是为了使得重传时再发生冲突的概率减少，当重传次数达16次仍不能成功时，则表明同时打算发送数据的站太多，以至连续发生冲突，则丢弃该帧，并向高层报告。</p>
<p>5、二进制指数退避算法过程</p>
<p>① 确定基本的退避时间，一般为端到端的往返时间2t，也称为冲突窗口或争用期。</p>
<p>② 定义参数k，k与冲突次数有关，规定k不能超过10，k=Min[冲突次数,10]。在冲突次数大于10，小于16时，k不再增大，一直取值为10。</p>
<p>③ 从离散的整数集合[0,1,2,…,(2^k^-1)]中随机的取出一个数r，等待的时间为r倍的基本退避时间，等于r*2t。r的范围与冲突次数k有关，r可选的随机值为2^k^个，这也是称为二进制退避算法的原因。</p>
<p>④当冲突次数大于10以后，都是从0~2^10^-1个2t中随机选择一个作为等待时间。</p>
<p>⑤当冲突次数超过16次后，发送失败，丢弃传输的帧，发送错误报告。</p>
<h2 id="以太网MAC地址"><a href="#以太网MAC地址" class="headerlink" title="以太网MAC地址"></a>以太网MAC地址</h2><p>MAC采用十六进制数表示，共6个字节（48位）。IEEE规定MAC地址第一个字段的第8位为I/G位，I/G位标志这个地址是单播地址（0）还是组播地址（1）。而广播地址就是FFFF.FFFF.FFFF.FFFF</p>
<p>以太网卡有过滤功能，网卡只把发送给自己的帧接收，解封装后交给上层处理，而不是发给自己的帧会丢弃。不过，有些网卡可以设置为混杂模式，也就是可以接收任意帧，而不考虑这帧是不是发给自己的。这类网卡经常用于一些网络协议分析工具中。</p>
<h2 id="以太网帧结构"><a href="#以太网帧结构" class="headerlink" title="以太网帧结构"></a>以太网帧结构</h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033032.png" alt=""></p>
<p>以太网帧格式，包含的字段有前同步码、帧开始界定符、目的地址、源地址、数据类型、数据及帧校验序列等。目的地址和源地址都是MAC地址，表示发出数据帧的源设备和目的设备。类型表示上层交给IP还是IPX，帧校验序列用来检查数据帧再传输过程中是不是出现了差错，发现差错后，直接丢弃该帧，可以由高层协议发起重传。</p>
<p>以太帧的长度位64~1518字节。以太网定义的V2帧结构和IEEE 802.3顶底的帧结构时不同的，主要在于IEEE 802.3类型字段修改为长度字段。</p>
<h2 id="冲突域和广播域"><a href="#冲突域和广播域" class="headerlink" title="冲突域和广播域"></a>冲突域和广播域</h2><p>冲突域：连接在同一导线上的所有工作站的集合，或者说是同一物理网段上所有节点的集合或以太网上竞争同一带宽的节点集合。再OSI模型中，冲突域被看作是第一层的概念，连接同一冲突域的设备有Hub、Repeter或者其他进行简单复制信号的设备。也就是说，用Hub或者Recepter连接的所有节点可以被人为是在同一个冲突域内，它不会划分冲突域。而第二层设备（网桥、交换机）第三层设备（路由器）都可以划分冲突域，当然也可以连接不同的冲突域。</p>
<p>广播域：接收同样广播消息的节点的集合。如：在该集合中的任何一个节点传输一个广播帧，则所有其他能受到这个帧的几点都被人是该广播帧的一部分。由于许多设备都极易产生广播，所以如果不维护，就会消耗大量的带宽，降低网络的效率。由于广播域被认为是OSI中的第二层概念，所以像Hub、交换机等这些第一、第二层设备连接的节点被认为都是再同一个广播域，而路由器、第三层交换机则可以划分广播域，即可以连接不同的广播域。</p>
<h2 id="以太网传输介质"><a href="#以太网传输介质" class="headerlink" title="以太网传输介质"></a>以太网传输介质</h2><p>1、同轴电缆</p>
<p>基带同轴电缆：50欧姆电缆，用于数字传输，通信行业</p>
<p>宽带同轴电缆：75欧姆电缆，用于模拟传输，电视行业、安防行业的视频传输</p>
<p>2、双绞线</p>
<p>（1）无屏蔽双绞线UTP</p>
<table>
<thead>
<tr>
<th>型号</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>3类（CAT-3）</td>
<td>10Mbps</td>
</tr>
<tr>
<td>4类（CAT-4）</td>
<td>基于令牌的局域网</td>
</tr>
<tr>
<td>5类（CAT-5）</td>
<td>100Mbps</td>
</tr>
<tr>
<td>6类（CAT-6A）</td>
<td>1000Mbps</td>
</tr>
</tbody></table>
<p>（2）屏蔽双绞线STP</p>
<p>最大传输距离25m，用于交换机与交换机之间的短距离传输。</p>
<p>（3）EIA/TIA-568标准</p>
<p>568A：绿白|绿|蓝白|橙|橙白|蓝|棕白|棕</p>
<p>568B：<strong>橙白</strong>|<strong>橙</strong>|<strong>蓝白</strong>|绿|绿白|<strong>蓝</strong>|棕白|棕（常用）</p>
<p>（4）直线（直通线）：两端同时采用568B。用于不同类设备之间（就是DTE-DCE）互连。</p>
<p>■DTE：PC、路由器、交换机uplink口、HUB级联口</p>
<p>■DCE：交换机普通口、HUB普通口。（DTE和DCE的区别是DCE主动与DTE协调时钟频率，DTE会根据协调的时钟频率工作）</p>
<p>（5）反线（交叉线）：一端采用568A，一端采用568B，用于同类设备之间互连（PC-PC，交换机-交换机）</p>
<p>6）双绞线测试指标：主要测试指标包括衰减、近端串扰、直流电阻、阻抗特性、衰减串扰比和电缆特性等</p>
<p>3、光纤</p>
<p>单模光纤：直径较细，光在其中直线传播，很少反射，所以色散减小，带宽增加，传输距离也得到加长。带宽超过10Gbps。</p>
<p>多模光纤：直径较大，不同波长和相位的光束沿光纤壁不停地反射着向前传输，造成色散，限制了两个中继器之间的传播距离和带宽。带宽约为2.5Gbps。传输距离如果在550米之内，首选多模。</p>
<h2 id="高速以太网传输介质"><a href="#高速以太网传输介质" class="headerlink" title="高速以太网传输介质"></a>高速以太网传输介质</h2><p>1、百兆以太网（快速以太网）（802.3u）</p>
<p>100BASE-T规定从收发器到集线器的距离不超过100米。</p>
<table>
<thead>
<tr>
<th>标准</th>
<th>传输介质</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>100BASE-TX</td>
<td>2对5类UTP或2对1类STP</td>
<td>1对5类UTP或1对1类STP就可以发送，而另一对双绞线就可以用于接收，因此100BASE-TX是一个全双工系统，每个节点都可以同时以100Mbps的速率发送与接收。</td>
</tr>
<tr>
<td>100BASE-FX</td>
<td>一对多模光纤或一对单模光纤</td>
<td>100BASE-FX主要用做高速主干网，从节点到集线器（HUB）的距离可以达到2km，是一种全双工系统。</td>
</tr>
<tr>
<td>100BASE-T4</td>
<td>4对3类UTP</td>
<td>其中3对用于数据传输，1对用于冲突检测。100BASE-T4是快速以太网的早期实现。</td>
</tr>
<tr>
<td>100BASE-T2</td>
<td>2对3类UTP</td>
<td>1对用于发送数据，另1对用于接收数据，可实现全双工操作。</td>
</tr>
</tbody></table>
<p>2、千兆以太网（802.3z）</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>电缆</th>
<th>最大段长</th>
</tr>
</thead>
<tbody><tr>
<td>1000BASE-T</td>
<td>4对5类UTP</td>
<td>100m</td>
</tr>
<tr>
<td>1000BASE-CX</td>
<td>2对STP</td>
<td>25m</td>
</tr>
<tr>
<td>1000BASE-LX</td>
<td>1300nm的单模光纤</td>
<td>3000m</td>
</tr>
<tr>
<td>1000BASE-SX</td>
<td>850nm的多模光纤</td>
<td>550m</td>
</tr>
</tbody></table>
<p>其中1000BASE-T的标准是IEEE802.3ab，后三项的标准是IEEE802.3z。</p>
<p>注意：如果千兆以太网工作在半双工方式下，就必须进行冲突检测，采用的是载波延伸和分组突发的方式。</p>
<p>3、万兆以太网（IEEE802.3ae）</p>
<p>（1）帧格式与之前的以太网（10Mbps、100Mbps、1000Mbps）完全相同；</p>
<p>（2）保留了IEEE802.3标准对以太网最小帧长度和最大帧长度的规定。</p>
<p>（3）只工作在==全双工==方式下。</p>
<h2 id="交换式以太网-交换机"><a href="#交换式以太网-交换机" class="headerlink" title="交换式以太网-交换机"></a>交换式以太网-交换机</h2><p>1、交换机的工作原理：</p>
<p>（1）广播：如果目标地址在MAC地址表中没有，交换机就向除接收到该数据帧的端口外的其他所有端口广播该数据帧。</p>
<p>（2）学习：MAC地址表是交换机通过学习接收的数据帧的源MAC地址来形成的。</p>
<p>（3）转发：交换机根据MAC地址表单播转发数据帧。</p>
<p>（4）更新：交换机MAC地址表的老化时间是300秒，交换机如果发现一个帧的如端口和MAC地址表中源MAC地址的所在端口不通，交换机将MAC地址重新学习到新的端口。</p>
<p>2、交换机转发模式</p>
<p>（1）快速转发：时延最低、可靠性最低</p>
<p>（2）碎片丢弃：小于64B的帧直接丢弃 </p>
<p>（3）存储转发：时延最高、可靠性最高</p>
<p>3、交换机连接方式</p>
<p>（1）级联：通过任意一根双绞线在任何网络设备厂家的交换机之间进行。级联可以使用普通端口级联也可以使用uplink端口级联。</p>
<p>（2）堆叠：只能在自己厂家的设备之间进行。需要使用专门的堆叠模块和堆叠线缆。堆叠后的带宽是单一交换机端口速率的几十倍。堆叠后的所有交换机可视为一个整体交换机来进行管理。</p>
<h2 id="VLAN-802-1q"><a href="#VLAN-802-1q" class="headerlink" title="VLAN(802.1q)"></a>VLAN(802.1q)</h2><p>1、分类广播域有两种方法：</p>
<p>（1）一是物理分割，将网络从物理层上划分为若干小的网络，然后使用能隔离广播的路由设备，将不同的设备连接起来实现通信。</p>
<p>缺点是它使局域网中的设备及缺乏灵活性，例如连接在同一台交换机上的用户职能划分为同一个网络中，而不能划分在多个不同的网络种。</p>
<p>（2）二是逻辑隔离，将网络从逻辑上划分为若干个小的虚拟网络，即VLAN。VLAN工作在OSI的数据链路层，一个VLAN就是交换网络，其中所有的用户在同一个广播域中，各VLAN通过路由设备连接实现通信。</p>
<p>VLAN 的产生主要是为了给局域网的设计增加灵活性，VLAN使得网络管理员在划分工作组时，不再受限于用户所处的物理位置。</p>
<p>在交换机的汇聚链路上，可以通过对数据帧附加VLAN信息，构建跨越多台交换机的VLAN。附加VLAN的信息方法：802.1q和ISL</p>
<p>2、VLAN的分类</p>
<p>（1）静态VLAN</p>
<p>静态VLAN也叫基于端口的VLAN，需要在交换机的端口上进行配置。当一个主机连接上交换机上的一个端口之后，该主机就进入该端口所属的VLAN，能够和该VLAN里的其他主机直接通信。</p>
<p>（2）动态VLAN</p>
<p>■基于MAC地址的VLAN：当一台主机接入网络的时候，会查询数据库表中主机属于哪个VLAN，再根据主机的MAC分配到相应的VLAN中去，这种方法的缺点当用户数量很多时，对每个用户设备分配VLAN的工作量是很大的管理负担。</p>
<p>■基于网络协议的VLAN：根据每个主机的网络层地址或协议类型划分的，虽然这种划分方法是根据网络地址，比如IP地址，但它不是路由，与网络层的路由毫无关系。</p>
<p>■基于策略的VLAN：可实现用户终端的即插即用功能，同时可为终端用户提供安全的数据隔离。这里的策略主要包括“基于MAC地址+IP地址”组合策略和“基于MAC地址+IP地址+端口”组合策略两种。</p>
<p>3、VLAN配置</p>
<table>
<thead>
<tr>
<th>VLAN号</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>0、4095</td>
<td>保留</td>
</tr>
<tr>
<td>1</td>
<td>交换机端口默认属于VLAN1</td>
</tr>
<tr>
<td>2~1001</td>
<td>用于以太网VLAN</td>
</tr>
</tbody></table>
<p>4、VLAN端口类型</p>
<p>（1）Access</p>
<p>Access即用户接入端口，该类型端口只能属于一个VLAN，一般用于连接计算机的端口。</p>
<p>Access端口接收到报文后，先判断该报文中是否有VLAN标记信息；如果没有VLAN标记，则打上该Access端口的VLAN（PVID）后继续转发；如果有VLAN标记则默认直接丢弃。    </p>
<p>Access端口发送报文时，会先将报文中的VLAN信息去掉，然后直接发送，所以Access端口发出去的报文都是不带VLAN标记的。</p>
<p>（2）Trunk</p>
<p>Trunk即汇聚端口，该类型端口可以属于多个VLAN，可以接受和发送多个VLAN的报文，一般用于交换机之间或交换机与路由器之间连接的端口。并且除了缺省VLAN外，其它的VLAN都带标签通过Trunk端口。</p>
<p>Trunk接收到报文时，先判断该报文中是否有VLAN标记信息；如果没有VLAN标记，则打上该Trunk端口的VLAN（PVID）后继续转发；如果有VLAN标记则判断该Trunk端口是否允许该VLAN的报文进入，如果允许则直接转发，否则丢弃。</p>
<p>在Trunk端口上发送报文时，会先将要发送报文的VLAN标记与Trunk端口的PVID进行比较，如果PVID相等，则报文中去掉VLAN标记再发送；如果与PVID不相等，则直接发送。</p>
<p>（3）Hybrid</p>
<p>Hybrid即混合端口模式，该类型的端口可以属于多个VLAN，可以接收和发送多个VLAN报文，可以用于交换之间的连接，交换机与路由器之间连接，也可以用于交换机与用户计算机的连接。</p>
<p>Hybrid端口和Trunk段口的不同之处在于Hybrid端口可以允许多个VLAN的报文发送时不打标签，而Trunk端口只允许缺省的VLAN的报文发送时不打标签。Access端口只属于1个VLAN；Hybrid和Trunk端口属于多个VLAN，所以需要设置PVID。缺省情况下Hybrid和Trunk的PVID为VLAN1。如果设置了端口的PVID，当端口接收到不带VLAN Tag的报文后，则将报文转发到属于PVID的端口；当端口发送带有VLAN Tag的报文时，如果报文的VLAN ID与端口PVID相同在，则系统去掉报文的VLAN ID，然后再发送报文。</p>
<h2 id="VLAN中继协议-VTP（CISCO）"><a href="#VLAN中继协议-VTP（CISCO）" class="headerlink" title="VLAN中继协议-VTP（CISCO）"></a>VLAN中继协议-VTP（CISCO）</h2><p>从一个控制点（一台交换机），维护整个VTP域中的VLAN添加、删除和重命名工作。通过Trunk链路广播传送VTP通告。交换机通过配置修订好来表示VTP信息的修改和同步。</p>
<p>VTP Pruning：减少中继（Trunk）链路上不必要的广播信息。</p>
<p>1、服务器模式（默认）</p>
<p>可以创建、删除和修改VLAN，学习并转发相同域名的VTP通告。</p>
<p>2、客户机模式</p>
<p>不可以创建、删除和修改VLAN，但是学习并转发相同域名的VTP通告，</p>
<p>3、透明模式</p>
<p>可以创建、删除和修改VLAN，不提供VTP消息，不学习相同域名的VTP消息，但是转发。</p>
<h2 id="VLAN注册协议-GVRP"><a href="#VLAN注册协议-GVRP" class="headerlink" title="VLAN注册协议-GVRP"></a>VLAN注册协议-GVRP</h2><p>GVRP传播的VLAN注册信息纪要包括本地手动配置的静态注册信息，也包括来自其他设备的动态配置信息。GVRP的端口注册模式Nomal模式、Fixed模式和Forbidden模式。</p>
<p>1、Nomal模式（默认）</p>
<p>允许该端口动态注册或注销VLAN，传播动态VLAN和静态VLAN信息。</p>
<p>2、Fixed模式</p>
<p>禁止该端口动态注册或注销VLAN，只传播静态VLAN信息，不传播动态VLAN信息。</p>
<p>3、Forbidden模式</p>
<p>禁止该端口动态注册或注销VLAN，不传播除VLAN1以外的任何VLAN信息。</p>
<h2 id="STP-802-1d"><a href="#STP-802-1d" class="headerlink" title="STP(802.1d)"></a>STP(802.1d)</h2><p>二层网络环路会导致网络网络风暴及MAC表震荡。</p>
<p>STP通过关闭AP端口的转发功能，将物理上的网络拓扑转变为逻辑上的树状拓扑，从而消除网络环路。</p>
<p>STP是通过在交换机之间传递桥接协议数据单元（BPDU）来相互告知诸如计算机的桥ID、链路性质、根桥ID等信息，以确定根交换机、决定哪些端口出与转发状态，哪些端口出与阻断状态，以免引起网络环路。</p>
<p>1、STP算法的收敛过程分为3步：选择根交换机、选择根端口、选择指定端口。</p>
<p>（1）选择根交换机（根网桥）</p>
<p>运行STP协议的交换机，会相互交换BPDU。STP交换机初始启动后，都会认为自己是根交换机，并在发送给其他交换机的BPDU里面宣告自己是根交换机。交换机从网络中其他设备发送过来BPDU的时候，会比较BPDU里面的跟交换BID和自己的BID（交换机ID），选举出一台BID最小的交换机作为根交换机。</p>
<p>交换机ID是一个8字节的字段：交换机优先级2字节，交换机MAC地址6个字节。交换机优先级默认值是32768。优先级的值最小的为根交换机，优先级的值是4096的倍数。</p>
<p>（2）选择根端口（RP）</p>
<p>STP会在每个非根交换机上建立一个根端口。</p>
<p>选择依据：</p>
<p>① 端口到根交换机最低的根路径开销成本：根端口所连路径是非根交换机到跟交换机之间开销最低的路径。根路径开销和传输链路的带宽有关，带宽越大开销越小。</p>
<p>② 直连的交换机ID最小：当一台交换从两台交换机上分别收到一份BPDU时，此交换机就会比较接收到BPDU中的交换机ID谁的小，哪个接口收到的BPDU中交换机ID小则谁是根端口。</p>
<p>③ 对端的端口ID最小：端口ID包括端口优先级和端口编号。端口优先级的取值范围是0~255，默认为128。端口号低的端口，端口编号也小。</p>
<p>（3）选择指定端口（DP）</p>
<p>STP会在每个网段分别建立一个指定端口，根网桥上的所有端口都是指定端口。</p>
<p>选择顺序：</p>
<p>① 根路径成本最低（端口所在交换机到根交换机的成本）</p>
<p>② 端口所在的交换机的网桥ID的值较小</p>
<p>③ 本端口ID的值较小</p>
<p>可选端口（AP）：既非RP、也非DP，说明该端口不在生成树上，则该端口需要阻塞，所以可选端口也称为阻塞端口。</p>
<p>2、端口的状态</p>
<p>阻塞状态（blocking）：不转发数据帧，接收BPDU</p>
<p>监听状态（listening）：不转发数据帧，监听BPDU，并进入生成树构造过程</p>
<p>学习状态（learning）：不转发数据帧，学习地址</p>
<p>转发状态（forwarding）：转发数据帧，学习地址</p>
<p>注意：学习状态结束后，那些依然是指定端口或根端口的端口将进入转发状态，其他的端口则设置为阻塞状态。</p>
<p>端口由阻塞状态转换到转发状态通常需要50s的时间，这段时间也称为收敛时间。对于STP来说，收敛就意味着这样一种状态：所有的交换机和网桥的端口要么处于阻塞状态，要么出与转发状态。STP的收敛时间可以通过配置生成树计时器来调整。但是一般情况下，这个时间最好设置为默认值，因为这个时间可以保证STP有足够的时间来收集网络的信息。</p>
<h2 id="RSTP-802-1w"><a href="#RSTP-802-1w" class="headerlink" title="RSTP(802.1w)"></a>RSTP(802.1w)</h2><p>RSTP能够完成时生成树的所有功能，并且在网络结构发生变化时，能更快地收敛网络。</p>
<p>RSTP主要从两个方面实现快速收敛：</p>
<p>1、边缘端口</p>
<p>当端口没有连接到其他网桥，而是直接与用户终端连接的时候，这个端口即为边缘端口。使用了边缘端口直接就进入转发状态，而不需要经过中间的其他状态。假设对交换机A的f0/1端口来说，如果没有启用边缘端口，那么当f0/1有计算机接入时，f0/1接口将立即进入监听状态，随后进入学习状态，最后进入转发状态，这期间需要30s的时间。接口一旦配置成边缘端口特性，计算机接入时，接口将立即进入转发状态。</p>
<p>注意：由于网桥无法自动判断端口是否和终端相连，所以需要用户手动把终端连接的端口配置为边缘端口。</p>
<p>2、根端口和指定端口的快速切换</p>
<p>根端口和指定端口这两个角色在RSTP中被保留，阻塞端口分成备份和替换端口角色。生成树算法使用BPDU来决定端口的角色，端口类型也是通过比较端口中保存的BPDU来确定哪个比其他的更优先。</p>
<h2 id="MSTP"><a href="#MSTP" class="headerlink" title="MSTP"></a>MSTP</h2><p>MSTP在IEEE 802.1S标准中定义，MSTP既可以实现快速收敛，又可以弥补STP和RSTP协议的缺点。MSTP是多生成树协议，能够让不同的VLAN的流量沿着各自的路径转发，从而利用冗余链路提供了更好的负载分担机制。</p>
<p>MSTP的“多生成树”包括两层含义：一是在一个交换网络中可以基于VLAN划分出多个生成树实例（STI）；二是在每个生成树实例中可以包括多个VLAN，可以避免为每一个VLAN维护一颗生成树的巨大资源浪费。而不是像Cisco的PVST、PVST+协议一样一个VLAN对应一个实例，增加系统开销，所以MSTP更适用于比较大的网络种，能更方便的实现VLAN的负载均衡。</p>
<p>MSTP是IEEE 802.1S，后来并入了IEEE 802.1Q-2003标准。</p>
<h2 id="链路聚合概念"><a href="#链路聚合概念" class="headerlink" title="链路聚合概念"></a>链路聚合概念</h2><p>链路聚合是将计算机上的多条线路捆绑成一个组，相当于逻辑链路，组中活动的物理链路同时提供数据的转发，可以提高链路带宽。生成树协议将其看作为一个端口的链路。当组中有物理链路断掉之后，那么流量将被转移到剩下的活动链路中去，只要组中还有活动链路，用户的流量就不会中断。</p>
<p>所以链路聚合的作用是：根据需要灵活增加网络设备之间的带宽；增加网络设备之间连接的可靠性；节约成本。</p>
<p>捆绑规则：参与捆绑的端口必须属于同一个VLAN；如果端口配置的是中继模式，那么应该在链路两端通道中所有端口配置成相同的中继模式；所有参与捆绑的端口的物理参数设置必须相同。</p>
<p>两台交换机之间形成以太网通道可以静态绑定聚合LACP也可以用协议自动协商。</p>
<h2 id="无线局域网工作模式"><a href="#无线局域网工作模式" class="headerlink" title="无线局域网工作模式"></a>无线局域网工作模式</h2><p>802.11的标准中，规定了两种工作模式，分别是有接入点模式和无接入点模式（Ad Hoc网络）</p>
<p>1、有接入点模式</p>
<p>它需要通过接入点（AP）来访问骨干网。AP叫无线接入点，其作用是把局域网里通过双绞线传输的有线信号（即电信号）经过编译，转换成无线电信号传递给笔记本、手机等无线终端，与此同时，又把这些无线中断发送的无线信号转换成有线信号通过双绞线在局域网内传输。通过这种方式，形成无线覆盖，即无线局域网。</p>
<p>注意：</p>
<p>无线AP往往通过交换机POE模块对其供电。以太网供电POE技术是交换机POE模块通过以太网线路为IP电话、无线AP、网络摄像头等小型网络设备直接提供电源的技术。该技术可以避免大量的独立铺设电力线，以简化系统布线，降低网络基础设施的建设成本。</p>
<p>2、Ad Hoc网络</p>
<p>Ad Hoc是一种多跳的、无中心的、自组织无线网络，又称为多跳网、无基础设施网或自组织网。整个网络没有固定的基础设施AP，每个节点都是移动的，动态地保持与其他节点的联系。在这种网络种，由于终端无线覆盖范围是有限的，两个无法直接进行通信的用户终端可以借助其他节点进行分组转发。每一个节点同时是一个路由器。</p>
<h2 id="无线局域网标准"><a href="#无线局域网标准" class="headerlink" title="无线局域网标准"></a>无线局域网标准</h2><table>
<thead>
<tr>
<th>标准</th>
<th>运行频段</th>
<th>主要技术</th>
<th>数据速率</th>
</tr>
</thead>
<tbody><tr>
<td>802.11</td>
<td>2.4GHz</td>
<td>扩频通信技术</td>
<td>1Mbps和2Mbps</td>
</tr>
<tr>
<td>802.11b</td>
<td>2.4GHz</td>
<td>CCK技术</td>
<td>11Mbps</td>
</tr>
<tr>
<td>802.11a</td>
<td>5GHz</td>
<td>DFDM调制技术</td>
<td>54Mbps</td>
</tr>
<tr>
<td>802.11g</td>
<td>2.4GHz</td>
<td>DFDM调制技术</td>
<td>54Mbps</td>
</tr>
<tr>
<td>802.11n</td>
<td>2.4GHz和5GHz</td>
<td>DFDM和MIMO</td>
<td>600Mbps</td>
</tr>
<tr>
<td>802.11ac</td>
<td>5GHz</td>
<td>DFDM和MIMO</td>
<td>1000Mbps</td>
</tr>
</tbody></table>
<p>IEEE 802.11工作在2.4GHz情况下定义了14个信道，每个信道的频带宽度是22MHz。为了最大限度利用频带资源，可以使用（1、6、11），（2、7、12），（3、8、13），（4、9、14）这4组互不干扰的信道来进行无线覆盖。但由于只有部分国家开放了12-14的信道频带，所以我们一般情况下就是用1、6、11这3个信道的组合。</p>
<h2 id="无线局域网CSMA-CA"><a href="#无线局域网CSMA-CA" class="headerlink" title="无线局域网CSMA/CA"></a>无线局域网CSMA/CA</h2><p>IEEE802.11的MAC协议定义了两种接入机制</p>
<table>
<thead>
<tr>
<th>机制</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>分布式协调功能DCF</td>
<td>DCF是基于竞争的接入方法，所有节点竞争接入媒体；DCF是一种基本的访问协议。</td>
</tr>
<tr>
<td>点协调功能PCF</td>
<td>PCF是无竞争的，节点可以被分配在特定的时间单独接入媒体；PCE是一种可选功能。</td>
</tr>
</tbody></table>
<p>CSMA/CD协议已经成功应用于有线连接的局域网，但在无线局域网的环境下，DCF不能简单的搬用CSMA/CD协议，特别是冲突检测部分。主要原因有两个</p>
<p>第一：在无线局域网中，接收信号的强度往往会小于发送信号的强度，因此如果要实现冲突检测的话，在硬件上需要花费就会过大。</p>
<p>第二：在无线局域网中，并非所有的站点都能监听到对方，而“所有站点都能检测到对方”正是实现CSMA/CD协议必须具备的基础。</p>
<p>DCF子层介质存取方式采用CSMA/CA算法。与以太网所采用的CSMA/CD很相似，只不过DCF没有冲突检测功能，因为无线网上进行冲突检测是不太现实的。介质上信号动态范围非常大，因而发送站不能有效地辨别出输入的微弱信号是噪声还是站点自己发送的结果。所以取而代之的方案是采用一种碰撞避免的算法。</p>
<h2 id="无线局域网的安全"><a href="#无线局域网的安全" class="headerlink" title="无线局域网的安全"></a>无线局域网的安全</h2><p>1、认证技术</p>
<p>（1）MAC地址认证</p>
<p>MAC地址认证是一种基于端口和MAC地址对用户的网络权限进行控制的方法，不需要用户安装任何客户端软件。MAC地址过滤要求预先在AC或胖AP上写入合法的MAC地址列表，只有当用户设备的MAC地址和合法MAC地址列表一致的时候，才允许用户和设备进行通信。</p>
<p>（2）802.1x认证</p>
<p>802.1x协议属于二层协议，是基于Client/Server的访问控制和认证协议。它可以限制未经授权的用户/设备通过接入端口访问LAN/WLAN的资源（而对于无线局域网来说一个“端口”就是一条信道）。</p>
<p>（3）PSK认证</p>
<p>预共享密钥认证方式。不需要有单独的认证服务器，直接由AP提供认证。</p>
<p>（4）Portal认证</p>
<p>Portal认证的基本方式是通过在Portal页面的显著位置设置认证窗口，用户开机获取IP地址后，通过登录Portal认证页面进行认证，认证通过后即可访问Internet。</p>
<p>对于用户来说有两种方式访问认证页面：</p>
<p>■主动Portal：用户必须知道Portal服务器的IP地址，主动登录Portal服务器进行认证，之后才能访问网络。</p>
<p>■强制Portal：未认证用户访问网址，都会先强制定向到Portal服务器进行认证，用户不需要记忆Portal服务器的IP地址。</p>
<p>Portal可以为运营商提供方面的管理功能，基于其门户网站可以开展广告、社区服务、个性化的业务等，使宽带运营商、设备提供商和内容服务提供商形成一个产业生态系统。</p>
<p>2、加密技术</p>
<p>（1）WEP加密技术使用静态共享密钥和未加密循环冗余码校验（CRC），无法保证加密数据的完整性，并存在弱密钥等。这使得WEP加密技术在安全保护方面存在明显的缺陷。</p>
<p>（2）WPA标准对WEP做了改进，其中包括消息的完整性检查（确定接入点和客户端之间传输的数据包是否被攻击者捕获或改变）和临时密钥完整性协议（TKIP）。TKIP采用的包密钥系统，比WEP采用的固定密钥系统更加安全。</p>
<p>TKIP只是针对WEP的弱点作了重大的改良（动态密钥），但保留了WEP加密的算法和架构，虽说安全系统大大增强，但相对后来出现的AES安全性还是不够。</p>
<p>（3）WPA2是WPA的第二个版本，是对WPA在安全方面的改进版本。与第一版的WPA相比，主要改进的是所采用的加密标准（AES）。WPA2新增了支持AES的加密方式。</p>
<p>注意：选择WPA-PSK或WPA2-PSK时，加密用的密码采用预设密码。选择WPA或WPA2时，加密用的密码保存在RADIUS服务器中。</p>
<h2 id="无线局域网组网"><a href="#无线局域网组网" class="headerlink" title="无线局域网组网"></a>无线局域网组网</h2><p>1、胖AP模式</p>
<p>胖AP除了前面提到的无线接入功能外，一般还同时具备数据加密、QOS、用户认证、网络管理、DHCP等其他功能。胖AP通常有自带的完整操作系统，是可以独立工作的网络设备，可以实现拨号、路由等功能，一个典型的例子就是我们常见的家用无线路由器。胖AP一般应用于小型的无线网络建设，可独立工作，不需要AC配合。一般应用于仅需要较少数量即可完整覆盖的家庭、小型商户或小型办公类场景。</p>
<p>2、瘦AP模式</p>
<p>瘦AP就是去掉路由、DNS、DHCP服务器等诸多加载的功能，仅保留无线接入的部分，我常说的AP就是指这类瘦AP，它相当于无线交换机或者集线器，仅提供一个有线/无线信号接收/发射的功能。瘦AP作为无线局域网的一个部件，是不能独立工作的，必须配合AC的管理才能成为一个完整的系统。瘦AP一般应用于中大型的无线网络建设，以一定数量的AP配合AC产品来组建较大的无线网络覆盖，使用场景一般为场商、超市、景点、酒店、餐饮娱乐、企业办公等。</p>
<h2 id="虚拟接入点VAP"><a href="#虚拟接入点VAP" class="headerlink" title="虚拟接入点VAP"></a>虚拟接入点VAP</h2><p>VAP就是在一个物理实体AP上虚拟出多个AP，每一个被虚拟出的AP就是一个VAP，每个VAP提供和物理实体AP一样的功能。用户可以在一个AP上创建不同的VAP来为不同的用户群体提供无线接入服务。</p>
<p>1、VAP类型根据其功能分为以下：</p>
<p>业务型VAP：用于WLAN无线业务，供无线用户访问网络。</p>
<p>WDS型VAP：用于WDS无线建链，供无线业务回传。</p>
<p>Mesh型VAP：用于Mesh无线建链，供无线业务回传。</p>
<p>管理AP型VAP：顾名思义，这个类型的VAP可以通过无线用户登录到AP上对AP管理。</p>
<h1 id="第八章-广域网和接入网技术"><a href="#第八章-广域网和接入网技术" class="headerlink" title="第八章    广域网和接入网技术"></a>第八章    广域网和接入网技术</h1><h2 id="广域网交换方式"><a href="#广域网交换方式" class="headerlink" title="广域网交换方式"></a>广域网交换方式</h2><p>1、电路交换</p>
<p>数据交换最早的方式是电路交换。电路交换是利用原有的电话交换网络，在任意两个用户之间建立一个物理电路来交换数据。</p>
<p>所有的电路交换都经过连接建立、数据传输、电路拆除3个阶段。并在信息传输期间，这个信道为用户所占用，通信结束后才进行释放。</p>
<p>电路交换的缺点在于电路利用率低，特别时用来传送计算机数据的时候。因为计算机数据都是突发式地出现在传输线路上，所以电路交换的利用率往往不到1%。</p>
<p>2、报文交换</p>
<p>在报文交换中，信息以报文为单位进行接收、存储和转发。报文交换不要求在两个通信节点之间建立转发通路。发送节点把要发送的信息组织成一个数据包-报文，该报文中含有目标节点的地址，完整的报文在网络种一站一站地向前传送。由于报文长度没有限制，而每个中间节点都要完整地接受传来的整个报文，当输出线路不空闲时，还可能要存储几个完整报文等白转发，要求网络种每个节点有较大的缓冲区。为了降低成本，减少节点的缓冲存储器的容量。有时要把等待转发的报文存在磁盘上，进一步增加了传送时延。所以报文交换出现的时间比较短，已经被分组交换所取代。</p>
<p>3、分组交换</p>
<p>分组交换仍采用存储转发传输方式，但将一个长报文分割为若干个较短的分组，然后把这些分组（携带源、目的地址和编号信息）逐个地发送出去。按照实现方式，分组交换可以分为虚电路分组交换和数据报分组交换。</p>
<p>（1）虚电路分组交换</p>
<p>它与数据报方式的区别主要是在信息交换之前，需要在发送端和接收端之间建立一个逻辑连接，然后才开始传送分组，所有分组沿相同的路径进行交换转发，通信结束后再拆除逻辑连接。网络保证所传送的数据按发送的顺序到达接收端。所以网络提供的服务是可靠的，也保证服务质量。这种方式对信息传输频率高、每次传输量小的用户不太适用，但由于每个分组头只需标出虚电路标识符和序号，所以分组头开销小，适用长报文传送，典型的网络代表有X2.5、帧中继网络、ATM网络。</p>
<p>■ X2.5：是一个使用电话或者ISDN设备作为网络硬件设备来架构</p>
<p>广域网ITU-T网络协议。它的物理层、数据链路层和网络层都是按照OSI体系模型来架构的。通过建立虚电路，实现可靠交付。</p>
<p>■ 帧中继（FRN）：在第二层建立虚电路，用帧方式承载数据业务，第三层被简化。并且帧中继只做检错，不重传，==没有滑动窗口式的流控机制，只有拥塞机制==，把复杂的检错交给高层处理，因此适合突发性业务。在虚连接中，用数据链路连接标识（DLCI）来标识该网络中的虚电路。帧中继本地管理接口类型包括：Cisco、ASNII、Q933A</p>
<p>■ ATM异步传输网络：采用面向连接的传输方式，将数据分割成固定长度的信元（53B），通过异步时分复用技术，在虚连接上实现快速交换的技术，ATM的典型数据速率为155Mbps。</p>
<p>（2）数据报分组交换</p>
<p>发送者需要在通信之前将所有传输的数据包准备好，数据包都包含有发送者和接收者的地址信息。数据包的传输彼此独立，互不影响，可以按照不同的路由机制到达目的地，并重新组合。网络只是尽力地将分组交付给目的主机，但不保证所传送的分组不丢失，也不保证分组能够按发送到 顺序到达接收端。所以网络提供的服务是不可靠的，也不保证服务质量。典型的网络代表有因特网。</p>
<p>（3）信元交换</p>
<p>ATM数据传送单位是一固定长度的分组，称为信元，它有一个信元头以及一个信元信息域。信元长度为53个字节，其中信元头占5个字节，信息域占48个字节。</p>
<h2 id="广域网流量控制"><a href="#广域网流量控制" class="headerlink" title="广域网流量控制"></a>广域网流量控制</h2><p>流量控制是一种协调发送站和接收站工作步调的技术，其目的是避免发送站发送速度过快，使得接收站来不及处理而丢失数据。通常接收站维持一定大小的接收缓冲区，当接收到的数据进入缓冲区后，接收器要进行简单的处理，清除缓冲区，再开始接受下一批的数据，如果发送的过快，缓冲区就会溢出，从而引起数据丢失。流量控制可以避免这种情况的 产生。</p>
<p>流量控制协议和链路利用率：</p>
<table>
<thead>
<tr>
<th>协议名称</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>停等协议（单工通信）</td>
<td>发送站每传送一帧，就停止发送，等收到应答信号后在发送下一帧，在局域网中效率较高，对广域网而言效率太低</td>
</tr>
<tr>
<td>滑动窗口协议（双工通信）</td>
<td>允许连续发送多个帧而无须等待应答，所允许的这个帧数是固定的，也称为窗口。当成功收到一个确认包后，窗口就向前滑动1位</td>
</tr>
<tr>
<td>停等ARQ协议（有噪声环境的单工通信）</td>
<td>它是停等协议和自动请求重发技术的结合，发送站没传送一帧，就停止发送，等收到肯定应答信号（ACK）后再发送下一帧，如果收到否定应答（NAK）后重发该帧，在一定时间间隔内未收到ACK，也重发</td>
</tr>
<tr>
<td>选择重发ARQ（有噪声环境的双工通信）</td>
<td>它是滑动窗口协议与自动请求重发技术的结合，当收到否定应答（NAK）时，只重发出错的帧，位了避免异常，其最大值就是小于帧编号总的一半，即W<del>发</del>=W<del>收</del>≤2^K-1^（K为帧编号的位数）</td>
</tr>
<tr>
<td>后退N帧ARQ（有噪声环境的双工通信）</td>
<td>也是滑动窗口协议与自动请求重发技术的结合，只是当收到否定应答（NAK）时，将从出错处重发已发出过的N个帧。为了避免异常，必须限制发送窗口的大小W≤2^K^-1（K为帧编号的位数）</td>
</tr>
</tbody></table>
<p>注：其中帧计数长度a的计算方法有：（传播时延/发送一帧的时间）、（数据速率*传播时延/帧长）</p>
<h2 id="广域网链路层协议"><a href="#广域网链路层协议" class="headerlink" title="广域网链路层协议"></a>广域网链路层协议</h2><p>1、HDLC协议（思科的WAN接口封装协议）</p>
<p>使用固定大小的窗口滑动协议。</p>
<p>HDLC是一种面向比特的链路层协议，在HDLC中，只要载荷的数据流中不存在和标志字段F（01111110）相同的数据，就不会引起帧边界的判断失误。万一出现了同标志字段F一样的数据，也就是数据流中出现了6个连续的1，也可以用0比特填充技术解决。具体做法是，在发送端，在加标志字段之前，先对比特串扫描，若发现5个连续的1，立即在其后加一个0。在接收端收到帧后，去掉头尾的标志字段，对比特串进行扫描，当发现5个连续的1时，立即删除其后的0，这样就还原成原来的比特流了。</p>
<p>HDLC帧由标志、地址、控制、信息和帧校验序列等字段组成</p>
<table>
<thead>
<tr>
<th>起始标志</th>
<th>地址数据</th>
<th>控制数据</th>
<th>信息数据</th>
<th>帧校验序列</th>
<th>结束标志</th>
</tr>
</thead>
<tbody><tr>
<td>01111110</td>
<td>8bits</td>
<td>8bits</td>
<td>8bits*n</td>
<td>16或32bits</td>
<td>01111110</td>
</tr>
</tbody></table>
<p>HDLC有三种不同类型的帧：信息帧（I帧）、监控帧（S帧）和无编号帧（U帧）。HDLC帧结构中的控制字段中的第一位或第一、第二位表示帧的类型。</p>
<p>（1）信息帧用于传送用户数据。I帧以控制字段第一位“0“来标识，信息帧的控制字段中的N(S)用于存放发送帧序号，可以让发送方不必等待确认而连续发送多帧。N(R)用于存放下一个预期要接受帧的序号。例如N(R)=5，即标识下一帧要接收5号帧，换言之，5号帧前的各帧接收到。N(S)和N(R)均为3位二进制编码，可取值0~7。</p>
<p>（2）监控帧用于差错控制和流量控制。S帧以控制字段第一位、第二位为”10“来标识。S帧只有6个字节即48个比特。S帧的控制字段的第三、第四位为S帧类型编码，共有四种不同编码：</p>
<p>00：接受就绪（RR），发送该RR监控帧的一方准备接受编号为N(R)的帧。</p>
<p>01：拒绝（REJ），要求发送方对编号为N(R)开始的帧及其以后所有的帧进行重发，这也说N(R)之前的I帧已经被正确接收。</p>
<p>10：接收未就绪（RNR），标识编号小于N(R)的I帧已经收到，但目前正处于忙状态，尚未准备好接收编号为N(R)的I帧，希望对方暂缓发送N(R)的I帧，可以来对链路流量进行控制。</p>
<p>11：选择拒绝（SREJ），该帧的含义类似REJ监控帧，但希望对方仅仅重发N(R)帧。</p>
<p>（3）无编号帧因其控制字段中不包含编号N(S)和N(R)而得名。U帧用于提供对链路的建立、拆除以及多种控制共，但是当要求提供不可靠的无连接服务时，它有时也可以承载数据。</p>
<p>2、PPP协议</p>
<p>HDCL在控制字段中提供了可靠的确认机制，因此它可以实现可靠传输，而PPP则不提供可靠传输，要靠上层实现保证其正确性，因此，曾经在误码率比较高的链路中，HDLC起到了极大的作用，但随着技术的发展，在数据链路层出现差错的概率不大，因此现在全世界使用的最多的数据链路层协议是PPP协议。PPP帧格式和HDLC帧格式相似，二者主要区别在于：==PPP是面向字符的，HDLC是面向比特的==。</p>
<p>PPP协议是一种点到点链路上传输、封装网络层数据包的数据链路层协议。PPP协议提供了一整套方案来解决链路建立、维护、拆除、上层协议协商、认证等问题。</p>
<p>PPP协议具体包含：链路控制协议LCP、认证协议、网络控制协议NCP</p>
<p>（1）LCP主要管理PPP数据链路，包括进行链路层参数的协商，建立、拆除和监控数据链路等。</p>
<p>（2）认证阶段：在这个阶段客户端会将自己的身份验证请求发送给远端的接入服务器寻求认证。</p>
<p>认证协议包括PAP和CHAP：</p>
<p>■PAP认证过程非常简单，二次握手机制。使用明文格式发送用户名和密码。首先被认证方（客户）向主认证方发送认证请求（包含用户名和密码），主认证方接到证请求，再根据客户发送来的用户名去到自己的数据库认证用户名密码是否正确，如果密码正确，PAP认证通过，如果用户名密码错误，PAP认证未通过。目前在PPPOE拨号环境比较常见。</p>
<p>■CHAP认证比PAP认证更安全，采用的是三次握手机制，先由服务端给客户端发送一个随机challenge，客户端根据challenge对口令进行哈希运算，然后把这个结果发送给服务器端。服务器端从数据库中取出口令，同样进行哈希处理。最后比较两个哈希的结果是否相同。如相同，则认证通过，向客户端发送认可消息。</p>
<p>（3）NCP：验证成功后进入网络协商阶段，配置网络层协议，双方会协商彼此使用的网络层地址。</p>
<p>注意：PPPOE是以太网上的点对点协议，是将点对点协议PPP封装在以太网框架中的一种网络隧道协议。由于协议中集成了PPP协议，所以实现了传统以太网不能提供的身份验证、加密以及压缩等功能。</p>
<h2 id="SONET-SDH"><a href="#SONET-SDH" class="headerlink" title="SONET/SDH"></a>SONET/SDH</h2><table>
<thead>
<tr>
<th>SONET信号</th>
<th>比特率/Mbps</th>
<th>SDH信号</th>
</tr>
</thead>
<tbody><tr>
<td>STS-1/OC1</td>
<td>51.840</td>
<td></td>
</tr>
<tr>
<td>STS-3/OC-3</td>
<td>155.520</td>
<td>STM-1</td>
</tr>
<tr>
<td>STS-12/OC-12</td>
<td>622.080</td>
<td>STM-4</td>
</tr>
<tr>
<td>STS-48/OC48</td>
<td>2488.320</td>
<td>STM-16</td>
</tr>
<tr>
<td>STS-192/OC-192</td>
<td>9953.280</td>
<td>STM-64</td>
</tr>
<tr>
<td>STS-768/OC-768</td>
<td>39812.120</td>
<td>STM-256</td>
</tr>
</tbody></table>
<p>注：STS代表电信号，OC、SDH代表光信号</p>
<h2 id="ISDN接入"><a href="#ISDN接入" class="headerlink" title="ISDN接入"></a>ISDN接入</h2><p>ISDN是一种在数字电话网IDN的基础上发展起来的通信网络，ISDN能够支持多种业务，包括电话业务和提供电话、传真、可视图文以及数据通信等多种业务。</p>
<p>ISDN有窄带和宽带两种。窄带ISDN有基本速率（2B+D，144kbps）一次群速率（30B+D，2Mbps）两种接口。基本速率接口包括两个独立工作的B信道（64kbps）和一个D信道（16kbps），其中B信道一般用来传输话音、数据和图像，D信道用来传输信令或分组信息。B代表承载，D代表控制。</p>
<h2 id="xDSL接入"><a href="#xDSL接入" class="headerlink" title="xDSL接入"></a>xDSL接入</h2><p>xDSL技术就是用数字技术对先用的模拟用户线进行改造，使它能够承担宽带业务。xDSL技术把0~4000hz的低端频谱都留给传统电话使用，把原来没有使用的高端频谱留给用户上网使用。DSL就是用户数字线的缩写，而x则表示数字用户线上实现不同的宽带方案。</p>
<table>
<thead>
<tr>
<th>XDSL</th>
<th>对称性</th>
<th>下行带宽</th>
<th>上行带宽</th>
</tr>
</thead>
<tbody><tr>
<td>ADSL</td>
<td>非对称</td>
<td>8Mbps</td>
<td>640kbps~1Mbps</td>
</tr>
<tr>
<td>HDSL</td>
<td>对称</td>
<td>1.544Mbps~2.048Mbps</td>
<td>1.544Mbps~2.048Mbps</td>
</tr>
<tr>
<td>SDSL</td>
<td>对称</td>
<td>2.3Mbps</td>
<td>2.3Mbps</td>
</tr>
<tr>
<td>VDSL</td>
<td>非对称</td>
<td>55Mbps</td>
<td>19.2Mbps</td>
</tr>
<tr>
<td>RADSL</td>
<td>非对称</td>
<td>8Mbps</td>
<td>640kbps~1Mbps</td>
</tr>
</tbody></table>
<p>ADSL是非对称数字用户线路的简称，理论上，ADSL可在5km范围内，在一对铜缆双绞线上提供最高1Mbps的上行速率和最高8Mbps的下行速率，能同时提供话音和数据业务，上行速率也已经提高到640Kbit/s。ADSL的服务端设备和用户端设备之间通过普通的电话铜线连接，无需对入户线缆进行改造就可以为现有的大量电话用户提供ADSL宽带接入。在调制技术方面，主要采用的是离散多音频DMT技术。</p>
<p>ADSL的用户端在原来的电话终端的基础上，增加了一个POTS分频（分离）器和ADSL Modcm，局端也有相对应的一套。其中POTS分频器实际上是由低通滤波器和高通滤波器合成的设备，作用是把4KHz以下的语音低频信号和ADSL Modem调制用的高频信号分离，以实现两种业务的互不干扰。ADSL Modem的作用是完成数据信号的调制和解调，以便数字信号能在模拟信道上传输。<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033034.png" alt=""></p>
<h2 id="HFC接入"><a href="#HFC接入" class="headerlink" title="HFC接入"></a>HFC接入</h2><p>HFC是将光缆敷设到小区，然后通过光电转换结点，利用有线电视CATV的总线式同轴电缆连接到用户，提供综合电信业务的技术。这种方式可以充分利用CATV原有的网络，建网快、造价低，逐渐成为最佳的接入方式之一。</p>
<p>HFC通常由光纤干线、同轴电缆直线和用户配线网络三部分组成，其中光纤干线网采用星型拓扑，同轴电缆直线采用树型结构。</p>
<p>在同轴电缆的技术方案中，用户端需要使用一个称为Cable Modem（电缆调制解调器）的设备，它不单纯是一个调制解调器，还集成了调谐器、加/解密设备、桥接器、网络接口卡、虚拟专网代理和以太网集线器的功能于一身，它无需拨号，可提供随时在线的永远连接。其上行速率已达10Mbps以上，下行速率更达到了30Mbps。在电信局端有电缆调制解调器终端系统CMTS，用来管理控制Cable Modem。</p>
<p>在HFC网络种各种广播和电视信号采用载波频分复用方式实现传输介质的共享。</p>
<h2 id="PON接入"><a href="#PON接入" class="headerlink" title="PON接入"></a>PON接入</h2><p>通常光纤接入网（OAN）是指无源光网络（PON）。</p>
<p>无源光网络（PON）：“无源”是指在服务提供商和客户之间不需要电源和有源的电子组件。它仅由光纤、分路器、接头和连接器组成。只有局端和用户侧设备为有源设备，中间的光分配网采用稳定性高、体积小、成本低的无源光分支器，不需要提供电源、空调等机房设备，只需要安装在光接线箱或光配线架的适当位置即可，相对于有源光网络AON来说，可以避免电磁干扰和雷电影响，减少线路和外部设备的故障率，降低相应的运维成本。采用点到多点模式，其下行采用广播方式，上行采用TDMA时分多址方式。</p>
<p>1、PON的分类</p>
<p>APON：最高速率为622Mbps，二层采用了ATM封装</p>
<p>EPON：可以支持1.25Gbps对称速率，将以太网与PON技术完美结合</p>
<p>GPON：二层采用ITU-T定义的GFP（通用成帧规程）对Ethernet、TDM、ATM等多种业务进行封装映射，能提供1.25Gbps、2.5Gbps下行速率和所有标准的上行速率。</p>
<p>2、PON的组网结构</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033008.png" alt=""></p>
<p>（1）OLT</p>
<p>光线路中断OLT设备是重要的局端设备，位于网络侧，既是一个二层交换机或路由器，又是一个多业务提供平台，提供多个1Gbps和10Gbps的以太接口，可以支持WDM传输。提供网络的集中和接入，实现对用户端设备ONU的控制、管理。</p>
<p>（2）ODN</p>
<p>光分配网络（ODN）是位于OLT和ONU之间的无源光分配网络，其主要功能是完成OLT和ONU之间光信号的传输和功率分配，同时提供光路监控等功能。ODN中的POS是连接OLT和ONU的光源光设备，也就是多个ONU通过ODN和一个OLT连接，属于点到多点模式，演唱传输距离和扩大服务数目，从而来节约成本。</p>
<p>（3）ONU</p>
<p>网络单元ONU提供用户侧接口并与光分配网络ODN相连。负责用户接入PON网络，实现光信号和电信号的转换。在应用上，根据ONU到达的位置，可以将光纤接入网（OAN）分为光纤到路边（FTTC）、光纤到大楼（FTTB）、光纤到户（FTTH）或光纤到办公室（FTTO）等。</p>
<p>（4）AF</p>
<p>AF适配功能为ONU和用户设备提供适配功能，一般包含在ONU内，也可以独立。</p>
<p>PON采用点对多点的架构，一根光纤承载上下行数据信号，经过1:N分光器将光信号等分成N路，以覆盖多个接入点或接入用户。</p>
<p>下行的数据流采用广播方式，OLT数据流推送到所有的ONU处；ONU通过判断以太网帧帧头里的由OLT分配的LLID来判断是否接受，接受属于自己的数据帧，将不属于自己的数据帧丢弃。</p>
<p>上行的数据流采用时分多址（TDMA）技术，把上行的时间分成吧了许多的时间片，根据ONU分配的带宽和业务的优先级给ONU的上行数据流分配不同的时间片，每个时间点光纤只传送一个ONU的上行数据流。通过OLT和ONU之间的协商，避免了ONU上行数据流之间的冲突，不会造成数据丢失。</p>
<h1 id="第九章-互联网技术"><a href="#第九章-互联网技术" class="headerlink" title="第九章    互联网技术"></a>第九章    互联网技术</h1><h2 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h2><p>1、网络号的位数直接决定了可以分配的网络数（2^网络号位数^），主机号的位数则决定了网络中最大的可用主机数（2^主机号位数^-2）</p>
<p>A、B、C三类是常用的单播地址、D类属于组播地址、E类属于保留地址。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033009.png" alt=""></p>
<table>
<thead>
<tr>
<th>IP地址类型</th>
<th>IP地址范围</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>1.0.0.0~126.255.255.255</td>
</tr>
<tr>
<td>B</td>
<td>128.0.0.0~191.255.255.255</td>
</tr>
<tr>
<td>C</td>
<td>192.0.0.0~223.255.255.255</td>
</tr>
<tr>
<td>D</td>
<td>224.0.0.0~239.255.255.255</td>
</tr>
<tr>
<td>E</td>
<td>240.0.0.0~255.255.255.255</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>类别</th>
<th>IP地址范围</th>
<th>网络号</th>
<th>网络数</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>10.0.0.0~10.255.255.255</td>
<td>10</td>
<td>1</td>
</tr>
<tr>
<td>B</td>
<td>172.16.0.0~172.31.255.255</td>
<td>172.16~172.31</td>
<td>16</td>
</tr>
<tr>
<td>C</td>
<td>192.168.0.0~192.168.255.255</td>
<td>192.168.0~192.168.255</td>
<td>255</td>
</tr>
</tbody></table>
<p>2、特殊IP地址</p>
<p>（1）组播地址</p>
<table>
<thead>
<tr>
<th>组播IP地址</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>224.0.0.1</td>
<td>代表本地子网中的所有主机</td>
</tr>
<tr>
<td>224.0.0.2</td>
<td>代表本地子网中的所有路由器</td>
</tr>
<tr>
<td>224.0.0.5</td>
<td>代表所有OSPF路由器</td>
</tr>
<tr>
<td>224.0.0.9</td>
<td>代表所有RIP2路由器</td>
</tr>
<tr>
<td>224.0.0.12</td>
<td>代表DHCP服务器或中继代理</td>
</tr>
<tr>
<td>224.0.0.15</td>
<td>代表支持PIM的路由器</td>
</tr>
</tbody></table>
<p>（2）广播地址</p>
<p>一种是直接广播（主机位全为1的地址），另一种称为本地广播（255.255.255.255）。广播地址只能作为目的地址。</p>
<p>（3）回环地址</p>
<p>A类网络地址127.0.0.0是一个保留地址，用于网络软件测试及本地机器进程间通信，这个IP地址称为回送地址。无论什么程序，一旦使用回环地址发送数据，协议软件不进行任何网络传输，立即将之返回。因此，含有网络号127的数据报不可能出现在任何网络上。</p>
<p>（4）169.254</p>
<p>Widnows主机DHCP服务器故障分配。</p>
<p>（5）不确定地址</p>
<p>不确定地址0.0.0.0代表本网络中的本主机，只能作为源地址临时使用。在路由表中，0.0.0.0代表任意网络，当路由表中找不到具体匹配条目的时候使用。</p>
<h2 id="子网划分与子网掩码"><a href="#子网划分与子网掩码" class="headerlink" title="子网划分与子网掩码"></a>子网划分与子网掩码</h2><p>1、子网划分</p>
<p>（1）一个拥有许多物理网络的单位，可以将所属的物理网络划分为若干个子网。划分子网纯属于一个单位内部的事情。本单位以外的网络看不见这个网络是由多少个子网组成，因为这个单位对外仍表现为一个网络。</p>
<p>（2）划分子网的方法是从网络中的主机号借用若干位作为子网号。于是两级的IP地址变为三级IP地址：网络号、子网号和主机号。</p>
<p>（3）凡是从其他网络发给本单位某个主机的IP数据报，仍然是根据IP数据报的目的网络号找到本单位网络上的路由器。但此路由器收到IP数据报后，再根据目的网络号和子网号找到目的子网，把IP数据报交付给目的主机。</p>
<p>2、子网掩码</p>
<p>只根据IP地址本身无法确定子网号的长度，为了把主机号和子网号区分开来，就必须使用子网掩码。</p>
<p>子网掩码也是32位，由一连串的1和一连串的0组成，子网掩码中的1对应IP地址的网络号和子网号，子网掩码中的0对应主机号。路由器将子网掩码和收到的数据报的目的IP地址逐位相“与”，得出了所要找的子网网络地址。</p>
<h2 id="无类编址CIDR"><a href="#无类编址CIDR" class="headerlink" title="无类编址CIDR"></a>无类编址CIDR</h2><p>CIDR可以用来做IP地址汇总（俗称超网）。在未做地址汇总之前，路由器需要对外声明所有的内部网络IP地址空间段。这将导致Internet核心路由器中的路由条目非常庞大（接近10万条）。采用CIDR地址汇总后，可以将连续的地址空间快总结成一条路由条目。路由器不需要对外声明内部网络的所有IP地址段。这样，就大大减小了路由表中路由条目的数量。</p>
<p>1、CIDR概念</p>
<p>（1）消除了传统A、B、C类地址以及划分子网的概念。因此可以更加有效地分配IPv4的地址空间，并且可以在新的IPv6使用之前容许因特网的规模继续增长。CIDR把32位IP地址重新划分为两个部分。前面的部分就是“网络前缀”，用来指明网络。后面的部分用来指明主机。因此CIDR使IP地址从三级编址回到了二级编址。</p>
<p>CIDR使用“斜线记法”，即在IP地址后面加上斜线“/”，然后写上网络前缀所占的位数。这个网络前缀可以有任何长度。</p>
<p>（2）CIDR把网络前缀都相同的连续的IP地址组成一个“CIDR地址块”。我们只要知道这个CIDR地址块中的任何一个地址，就可以知道这个地址块的起始地址和最大地址。</p>
<p>2、路由汇聚</p>
<p>路由汇聚是用来解决路由表的内容冗余问题，使用路由聚合能够缩小路由表的规模，减少路由表的内存。提高路由器数据转发的效率。</p>
<p>3、最长匹配原则</p>
<p>在使用CIDR时，由于采用了网络前缀这种记法，IP地址由网络前缀和主机号两部分组成，因此在路由表中的项目也要有相应的改变。这时，每个项目由“网络前缀”和“下一跳地址”组成。但是在查找路由表时可能会得到不止一个匹配结果，所以应道在匹配结果中选择具有最长网络前缀的路由。这叫做最长前缀匹配，这是因为网络前缀越长，其地址块就越小，路由就越具体。</p>
<h2 id="IPv4地址分类"><a href="#IPv4地址分类" class="headerlink" title="IPv4地址分类"></a>IPv4地址分类</h2><p>1、单播地址</p>
<p>实现1对1通信的地址，典型的A、B、C类地址属于单播地址。</p>
<p>2、组播地址</p>
<p>组播报文的目的地址使用D类IP地址，D类地址不能出现在IP报文的源IP地址字段。在IP组播中，数据包的目的地址不是一个，而是一组，形成组地址。组中的所有成员都能接收到数据包。</p>
<p>和IP单播相比，多播可以大大节约网络资源。比如视频服务器用单播方式向90台主机传送同样的视频节目，需要发送90个单播。如果改用多播的话，视频服务器只需要发送一次。</p>
<p>3、广播地址</p>
<p>255.255.255.255叫做受限广播地址，路由器收到的目的IP地址为255.255.255.255的IP包，不会对此IP包转发。路由器都不转发目的地址为受限的广播地址的数据报，这样的数据报仅出现在本地网络中。</p>
<p>还有一种是直接广播地址，直接广播地址包含一个有效的网络号和一个全“1”的主机号，用户将信息送到此地址，就是将信息送给此网络号的所有主机。</p>
<h2 id="IPv4数据报格式"><a href="#IPv4数据报格式" class="headerlink" title="IPv4数据报格式"></a>IPv4数据报格式</h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033010.png" alt=""></p>
<p>一个IP数据报是由首部和数据两部分所组成的。首部的前一部分为固定长度，共20字节。是所有IP数据报都必须具有的。 </p>
<p>（1）版本</p>
<p>版本占4位，指的是IP协议的版本。目前广泛使用的IP协议版本号为4.</p>
<p>（2）首部长度</p>
<p>首部长度占4位，单位是“4B”，可表示的最大十进制数值为15。因此首部长度的最大值是15个4字节长的字，即60字节。当IP分组的首部长度不是4字节整数的时候，必须利用最后的天从字段加以填充：典型的IP数据报不使用首部中的选项，因此典型的IP数据报首部长度是20字节，这个字段的值是5。</p>
<p>（3）区分服务</p>
<p>区分服务占8位，用来获得更好的服务。这个字段在旧标准中叫做服务类型，但实际上一直没有使用过。</p>
<p>（4）总长度</p>
<p>总长度指首部和数据之和的长度，单位为字节。总长度字段为16位，因此数据报的最大长度2^16^-1=65535字节。</p>
<p>在IP层下面的每一种数据链路层都有其自己的帧格式，其中包括帧格式中的数据字段的最大长度。这称为最大传送 单元MTU，当一个IP数据报封装成链路层的帧时，此数据报的总长度一定不能超过下面的数据链路层的MTU值。当数据报长度超过网络所允许的最大传送单元MTU时，就必须把长的数据报进行分片后才能在网络上传送。这时，数据报首部中的“总长度”字段不是指未分片前的数据长度，而是指分片后的每一片的首部长度与数据长度的综合。</p>
<p>（5）标识</p>
<p>标识占16位。IP软件在存储器中维持一个计数器，每产生一个数据报，计数器就加1，并将此值赋予标识字段。但这个“标识”并不是序号，因为IP是无连接服务，数据报不存在按序接收的问题。当数据报长度超过MTU时就必须分片，这个标识字段的值就被复制到所有数据报片后的标识字段中。相同的标识字段的值使分片后的各数据报片最后能正确地重装成为原来的数据报。</p>
<p>（6）标志</p>
<p>标志占3位，但目前只有两位有意义。</p>
<p>标志字段中的最低位记为MF。当MF=1表示后面“还有分片”的数据报。MF=0表示这已是若干数据报片中的最后一个。</p>
<p>标志字段中间的一位记为DF，意思是“不能分片”。当DF=0时，才允许分片。</p>
<p>（7）片偏移</p>
<p>片偏移占13位，单位是“8B”。较长的分组在分片后，某片在原分组中的相对位置。相对于用户数据字段的起点，该片从何处开始。片偏移以8各字节为偏移单位。这就是说，每个分片的长度一定是8字 节的整数倍。</p>
<p>（8）生存时间</p>
<p>生存时间占8位，生存时间字段常用的英文缩写为TTL，表明数据报在网络种的寿命，由发出数据报的源点设置这个字段。其目的是防止无法交付的数据报在因特网上兜圈子，浪费网络资源。TTL的意义是设置数据报在因特网智商可经过多少个路由器。数据报在网络种能经过的路由器的最大值是255。若TTL的值为1，就代表这个数据报只能在本局域网中进行传输。因为这个数据报一传送到局域网的某个路由器，在转发前就将TTL值减小到0，因此这个数据报就会被路由器丢弃。</p>
<p>（9）协议</p>
<p>协议占8位，用于指定数据部分携带的消息是由哪种高级协议建立的，例如ICMP为1，TCP为6，UDP为17。</p>
<p>（10）首部校验和</p>
<p>首部校验和占16位。这个字段只检验数据报的首部，但不包括数据部分。</p>
<p>（11）源地址</p>
<p>源地址占32位，指的是发送方的地址。</p>
<p>（12）目的的地址</p>
<p>目的地址占32位，指的是接收方的地址。</p>
<p>（13）选项与填充</p>
<p>选项字段允许IP支持 各种选项，如安全性。在使用选项的过程中，有可能造成数据包头部是不是4字节的整数倍，那么则需要填充字段来凑齐。最后使用全0的填充资源补齐成为4字节的整数倍。</p>
<p>（14）数据</p>
<p>用于封装上层协议的数据，如TCP、UDP等。数据长度=总长度-报头长度，其最长可为65515字节。</p>
<h2 id="IPv6协议"><a href="#IPv6协议" class="headerlink" title="IPv6协议"></a>IPv6协议</h2><p>IPv6在IP地址空间、路由协议、安全性、移动性以及QoS支持等方面作了较大的改进，增强了IP协议的功能。</p>
<p>1、IPv6地址的特点</p>
<p>（1）更大的地址空间：把原来32位扩展到128位，采用16进制表示，每4位构成一组，每组用一个冒号隔开。</p>
<p>（2）扩展的地址层次结构 ：IPv6地址空间很大，因此可以划分为更多的层次。取消了IPv4的网络号、主机号和子网掩码的概念，IPv6以前缀、接口标识符、前缀长度取代，也没有A、B、C、类地址的概念。</p>
<p>（3）灵活的首部格式：IPv6定义了很多可选的扩展首部。可提供比IPv4更多的功能。其首部长度是40自己。</p>
<p>（4）改进的选项：允许数据报含有选项的控制信息，IPv4的选项是固定不变的。</p>
<p>（5）允许协议继续扩充：因为网络技术的不断变化。</p>
<p>（6）支持即插即用。</p>
<p>（7）支持资源的预分配：IPv6支持视频图像等要求有一定带宽和时延的应用。</p>
<p>2、IPv6地址表示</p>
<p>IPv6地址为128位长，但通常写作8组，每组4各十六进制数的形式。</p>
<p>如果4个数字都是0零，可以被省略。如果因为省略而出现了两个以上的冒号，则可以压缩为一个，但这种零压缩在地址中只能出现一次。前导的零也可以省略。</p>
<p>因此：2001:0DB8:0000:0000:0000:0000:1428:54ab<br>等价于：2001:DB8::1428:54ab</p>
<p>3、IPv6地址类型</p>
<p>（1）单播</p>
<p>单播地址常见的有可聚合的全球单播地址、链路本地单播地址等。</p>
<p>■ 可聚合全球单播地址是可以在全球范围进行路由转发的IPv6地址，可聚合全球单播地址把128位的IP地址分类三级：</p>
<table>
<thead>
<tr>
<th>全球路由选择前缀（48位）</th>
<th>子网标识符（16位）</th>
<th>接口标识符（64位）</th>
</tr>
</thead>
</table>
<p>全球路由选择前缀：分配给各个公司和机构，用于路由器的路由选择。相当于IPv4地址中的网络号。主要这类地址的前三位是001，那么可进行分配的地址是45位。具体来说，全局单播IPv6地址的范围是2000::/3。</p>
<p>子网标识符：占16位，用于各个公司和机构创建自己的子网。对于小公司可以把这个字段置为0.</p>
<p>接口标识符：指明主机或路由器单个接口。接口标识符字段有64位，由此可以将各接口的硬件地址直接进行编码形成接口标识符，而不需要ARP协议进行解析。</p>
<p>■ 链路本地单播地址是IPv6网络中的概念，接口在启动IPv6时，就会自动给自己配置上一个链路本地单播地址。链路本地单播地址的格式前缀为1111 1110 10，即FE80::/10；其后是64位的接口ID。链路本地单播地址用于在本地单条链路中各个相邻接口之间的发现、IPv6地址的自动配置和相邻接口的通信等。</p>
<p>■ 站点本地地址的前缀为11111110 11，即FEC0::/10，</p>
<p>（2）组播</p>
<p>组播地址是一组接口共用的地址，发送一个组播地址的数据报将被传送至由该地址标识的的所有接口上。在IPv6地址中没有广播地址，在IPv4协议中某些需要用到广播地址的服务或功能，都用组播地址来完成。IPv6组播地址的格式前缀为1111 1111，其后面是4位的Flag（标志）、4位的Scope（范围域）和Group ID（组ID）。</p>
<p>（3）任播</p>
<p>任播地址是IPv6中特有的地址类型，也用来标识一组接口，但与组播地址不同的是，发送到任播地址的数据报文被传送给此地址标识的一组接口中距离源节点最近的一个接口。IPv6任播地址是从单播地址空间中分配的，并使用单播地址的格式。仅看地址本身，节点是无法区分任播地址和单播地址的。所在配置的时候，必须明确指明它是一个任播地址。</p>
<p>4、特殊的IPv6地址</p>
<p>（1）未指定地址：就是128位全是0 的地址，IPv6单播地址中的0:0:0:0:0:0:0:0或者::/128形式的地址叫未指定地址。</p>
<p>通常在初始化主机、主机未取得具体的地址之前，通过主机发送IPv6数据包时，主机的的地址（源地址）可以临时使用一下未指定地址（用来验证数据包源地址的唯一性）。</p>
<p>（2）环回地址（回送地址）：前127位是0，最后1位是1的地址。IPv6单播地址中的0:0:0:0:0:0:0:0:1或者::1形式的地址叫做环回地址（回送地址），表示本身，用来把IPv6包环发给接口自己。</p>
<p>5、IPv6数据报格式</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033011.png" alt=""></p>
<p>（1）版本号：长度为4位，对于IPv6，本字段的值必须为6。</p>
<p>（2）通信量类IHL：长度为8位，区分不同的IPv6数据报的类别或优先级。</p>
<p>（3）流标签：长度为20位，用于标识属于同一业务流的包（和资源分配挂钩）。</p>
<p>（4）净荷长度：长度为16位，除基本首部以外的字节数。</p>
<p>（5）下一个首部：长度为8位，指出了IPv6投后所跟的头字段中的协议类型。</p>
<p>（6）跳极限：长度为8位，没转发一次该值减1，到0则丢弃，用于高层设置其超时。</p>
<p>（7）源IP地址：长度为128位，指出发送方的地址。</p>
<p>（8）目的IP地址：长度为128位，指出接收方的地址。</p>
<p>IPv6扩展报文头是跟在IPv6基本报文头后面的可选报文头。在IPv6，每个中间路由器必须处理的扩展报文头只有逐跳选项报头，这种处理方式提高了路由器处理数据报文的速度，也提高了其转发性能。</p>
<p>扩展报文头有以下几类：逐跳选项扩展头、目的选项扩展头、路由扩展头、分片扩展头、身份认证扩展头、封装安全有效载荷扩展头。</p>
<p>6、IPv4过渡IPv6</p>
<p>IPv4和IPv6互通包括3个层面：IPv6与IPv4终端或服务器互通，IPv6与IPv4网互通以及通过骨干IPv4网与终端IPv6网连接。</p>
<p>针对不同的互通需求，已经有不同的技术标准出现。IPv4终端或服务器互通采用双协议栈技术（设备上同时启用IPv4和IPv6的协议栈）来实现，对于需要跨越IPv4设备的IPv6网络之间的互连可以采用隧道技术，单一的IPv6网络需要访问IPv4网络，可以采用协议转换技术NAT/PT技术。</p>
<h2 id="ARP技术"><a href="#ARP技术" class="headerlink" title="ARP技术"></a>ARP技术</h2><p>ARP协议就是在主机的ARP缓存中存放一个从IP到MAC的映射表。当主机A向本局域网内的主机B发送IP数据报的时候，就会先查找自己的ARP映射表，查看是否有主机B的IP地址，如有的话，就继续查找出其对应的硬件地址，再把这个硬件地址写入MAC帧中，然后通过局域网发往这个硬件地址。 </p>
<p>也有可能找不到主机B的IP地址，在这种情况下，主机A就要运行ARP，将包含目标IP地址的ARP请求广播道网络上的 所有主机，B主机收到后单播返回ARP响应报文给A，A主机就在自己的ARP缓存表中缓存B主机IP和MAC的映射关系，下次请求和B通信时直接查询ARP缓存找到B的MAC去封装IP数据报以节约资源。ARP缓存表中的每一个映射项目都有一个生存时间（10~20分钟），超过生存时间的项目就从ARP缓存中删除。</p>
<p>arp -a    查看arp缓存表</p>
<p>arp -d    清除arp缓存</p>
<p>arp -s ip地址 mac地址    arp绑定</p>
<h2 id="ICMP协议"><a href="#ICMP协议" class="headerlink" title="ICMP协议"></a>ICMP协议</h2><p>因为IP协议是一个不可靠且非连接的传送协议，为了能够更加有效的转发IP数据报和提高交付成功的机会，在网际层使用了网际控制报文协议ICMP协议，ICMP协议作为IP数据报终端 数据，封装在IP数据包中发送。</p>
<p>1、差错报告报文</p>
<p>ICMP差错抱抱报文包括：终端不可达、源站抑制、时间超时、路由重定向、参数问题等报文。</p>
<p>（1）终点不可达：主机或路由器无法交付数据报的时候就向源点发送终点不可达报文。比如：如果收到UDP数据报而且目的端口与某个正在使用的进程不相符，那么返回一个ICMP不可达报文。比如目标主机关机了或者不存在，路由器设置了ACL也会发送终点不可达。</p>
<p>（2）源站抑制：当路由器或主机由于拥塞而丢弃数据报时，就向源站发送源站抑制报文，使源站知道应当将数据报的发送速率放慢。</p>
<p>（3）时间超时：当路由器收到生存时间为零的数据报时，除丢弃该数据报外，还向源站发送时间超时报文。当目的站在预先规定的时间内不能收到一个数据报的全部数据报片时，就将已收到的数据报片都丢弃，并向源站发送时间超过报文。</p>
<p>（4）参数问题：当路由器或目的主机收到的数据报的首部中的字段的值不正确时，就丢弃该数据报，并向源站发送参数问题报文。</p>
<p>（5）改变路由（重定向）：路由器将改变路由报文发送给主机，让主机知道下次应该将报文发送给另外的路由器。</p>
<p>2、询问报文</p>
<p>（1）回送请求和回答：ICMP回送请求报文是由主机或路由器向一个特定的目的主机发出的询问。收到此报文的主机必须给源主机或路由器发从ICMP回送回答报文。主要是用来测试目的的站是否可达以及了解其有关状态。</p>
<p>（2）时间戳请求和回答：主要是请某个主机或路由器回答当前的日期和时间。使用了重点不可达和时间超时报文。</p>
<h2 id="服务质量QoS"><a href="#服务质量QoS" class="headerlink" title="服务质量QoS"></a>服务质量QoS</h2><p>QoS指一个玩过能够利用各种基础技术，为指定的网络通信提供更高的服务能力，是用来解决网络延迟和阻塞等问题的一种技术。QoS模型包括尽力而为服务、综合服务以及区分服务。</p>
<p>1、尽力而为服务模型</p>
<p>尽力而为服务模型是一个单一的服务模型，也是最简单的服务模型。对尽力而为服务模型，网络尽最大的努力来发送报文。但对延时、可靠性等性能不提供任何保证，不能区别对待不同类型的业务。尽力而为服务模型是网络的缺省服务模型。</p>
<p>2、综合服务模型</p>
<p>综合服务模型由RFC-1633定义，在这种模型中，节点在发送报文前，需要向网络申请所需要的资源，是通过资源预留协议RSVP来实现的，RSVP的特点是具有单向性，由接收者向发送方的方向发起对中途的路由器资源预留的请求，并维护资源预留信息。</p>
<p>综合服务模型要求为单个流预先保留所有连接路径上的 网络资源，很难独立应用于大规模的网络。</p>
<p>综合服务模型可以提供保证服务和负载控制服务两种服务。</p>
<p>（1）保证服务：提供保证的延迟和带宽来满足应用程序的要求（比如在IP电话的应用中可以预留64Kbps的带宽并要求不超过100ms的延迟）；</p>
<p>（2）负载控制服务：保证即使在网络过载的情况下，也能对报文提供与网络未过载时类似的服务，也就是网络出现拥塞的时候，也可以保证某些应用报文优先通过。</p>
<p>3、区分服务模型</p>
<p>应用于MPLS协议。</p>
<p>区分服务模型由RFC-2475定义，在区分服务中，根据服务要求对不同业务的数据进行分类，对报文按类进行优先级标记，然后有差别的提供服务。</p>
<p>区分服务将IPv4协议中原有的服务类型字段和IPv6的通信量类字段定义为区分服务字段DS。该字节中的前6个比特称为区分服务编码点，用于QoS的特殊定义，包括“等级”和“丢弃优先级”。当数据流进入区分服务网络时，边缘路由器通过标识该字段，将IP包分为不同的服务类型，而网络种的其他路由器在接收到该IP包时，则根据该字段所标识的服务类别将其放入不同的队列，并由作用于输出队列的流量管理机制，按事先设定的带宽、传冲处理控制每个队列，即给予不同的每一条行为PHB。</p>
<h2 id="传输控制协议TCP"><a href="#传输控制协议TCP" class="headerlink" title="传输控制协议TCP"></a>传输控制协议TCP</h2><p>1、TCP主要特点</p>
<p>（1）面向连接从传输层协议。</p>
<p>（2）每一条TCP连接只能有两个端点：只能是点对点。</p>
<p>（3）TCP提供可靠交付的服务：通过TCP连接传送到 数据无差错、不丢失、不重复、并且按顺序到达。</p>
<p>（4）TCP提供全双工通信：TCP允许通信双方的 应用进程在任何时刻都能发送数据。在TCP连接的两端都有发送缓存和接收缓存，用来临时存放通信的数据。</p>
<p>（5）面向字节流：TCP把应用进程交下来的数据看成是一连串无结构的字节流。TCP并不关心应用进程一次把多长的报文发送到TCP缓存中，而是根据对端给出的窗口值和当前网络拥塞的程度来决定一个报文段应包含多少个字节。</p>
<p>2、TCP报文格式</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033012.png" alt=""></p>
<p>（1）源端口：该字段长度为2字节。TCP报文发送方使用的端口号。</p>
<p>（2）目的端口：该字段长度为2字节。TCP报文接收方使用的端口号。</p>
<p>（3）序列号（SEQ）：该字段长度为4字节。序列号是本报文段的的编号。序列号的初始值称为初始序列号，由系统随机产生。</p>
<p>（4）确认号（ACK）：该字段长度为4字节。确认号是目的端期望收到的下一个报文段的序列号。</p>
<p>（5）报文长度：该字段长度为4字节。标识了TCP报头的结束和数据的开始。没有任何选项字段的TCP报头长度为20字节，做多可以有60字节。</p>
<p>（6）预留：该字段长度为6位。预留位默认为0。</p>
<p>（7）URG：该字段长度为1位。紧急标志，URG为1时，表明紧急指针字段有效。</p>
<p>（8）ACK：该字段长度为1位。确认标志，ACK为1时，表明确认号字段有效。</p>
<p>（9）PSH：该字段长度为1位。推送标志，接收方收到PSH置1的报文段，会尽快交给应用进程，而不再等到整个缓存都填满后再交给应用进程。</p>
<p>（10）RST：该字段长度为1位。复位连接标志，RST为1时，表明TCP连接出现严重差错，必须释放连接，并重新连接。</p>
<p>（11）SYN：该字段长度为1位。同步标志，SYN为1时，表示一个连接请求或连接接收。</p>
<p>（12）FIN：该字段长度为1位。释放连接标志，FIN为1时，表明发送端的数据发送完毕，要求释放连接。</p>
<p>（13）窗口（win）：该字段长度为2字节。用来进行流量控制，单位为字节，这个值是本端期望一次接收的字节数，并通知对方。</p>
<p>（14）校验和：该字段长度为2字节。对TCP报头和TCP数据部分进行校验和计算并由目标端进行验证。</p>
<p>（15）紧急指针：该字段长度为2字节。它是一个偏移量，与序号字段值相加表示紧急数据最后一个字节的序号。</p>
<p>（16）选项：可包括窗口扩大因子、时间戳等选项、长度可变。</p>
<p>（17）数据部分：应用层数据，长度可变。</p>
<p>3、TCP三次握手</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033013.png" alt=""></p>
<p>第一步，A发出连接请求</p>
<p>TCP数据为：SEQ=X，SYN=1。SEQ=X表示A发送序列号为X的报文段；SYN=1表示A请求连接</p>
<p>第二步，B确认请求，同意建立连接</p>
<p>B收到连接请求，发送TCP数据为：SEQ=Y，ack=X+1，ACK=1，SYN=1。SEQ=Y表示B发送序列号为Y的报文段；ack=X+1，ACK=1表示B确认已经正确收到A发送的序列号为X的报文段；SYN=1表示B同意建立连接。</p>
<p>第三步，A确认，连接建立。</p>
<p>TCP数据为：SEQ=X+1，ACKNUM=Y+1，ACK=1。SEQ=X+1表示A发送序列号为X+1的报文段；ACKNUM=Y+1，ACK=1表示A确认已经正确收到B发送的序列号为Y的报文段。至此A完成连接，最后一步B收到确认信息，也完成连接，A与B可以通信来传送数据。</p>
<p>而TCP连接释放过程比较复杂，采用的是四次挥手机制。</p>
<p>4、TCP流量控制</p>
<p>窗口可变大小的滑动机制。</p>
<p>流量控制指点对点通信量的控制，是端到端的问题。流量控制所需要做的就是抑制发送端发送数据的速率，以便使接收端来得及接收。利用可变大小的滑动窗口机制可以很方便地在TCP连接上实现对发送方的流量控制。</p>
<p>5、TCP拥塞机制</p>
<p>拥塞指的是队资源的需求超过了可用的资源。若网络中许多资源同时供应不足，网络的性能就要变坏，整个网络的 吞吐量随着符合的增大而下降。TCP几种拥塞控制方法包括：慢开始、拥塞避免、快重传和快恢复。</p>
<h2 id="用户数据报协议UDP"><a href="#用户数据报协议UDP" class="headerlink" title="用户数据报协议UDP"></a>用户数据报协议UDP</h2><p>UDP是一种简单的面向数据报的传输协议，实现的是不可靠的、无连接的数据报服务，通常用于不要求可靠传输的场合，可以提高传输效率，减少额外开销。使用UDP传输时，应用进程的每次输出均生成一个UDP数据报，并将其封装在一个IP数据报中发送。</p>
<p>UDP没有拥塞控制，所以网络出现的拥塞不会让源主机发送速率降低。这对于某些实时应用是很重要的。很是实时的应用（例如IP电话、实时视频会议）要求源主机以恒定的速率发送数据，并且允许在网络拥塞情况下丢失一些数据，但却不允许数据有太大的时延，UDP正好适合这种要求。</p>
<h2 id="传输层端口"><a href="#传输层端口" class="headerlink" title="传输层端口"></a>传输层端口</h2><p>端口号的范围是从1~65535，一般分为3类端口：熟知端口号、登记端口号、客户端口号或短暂端口号。</p>
<p>1、熟知端口号（0~1023）</p>
<table>
<thead>
<tr>
<th>端口号</th>
<th>关键字</th>
<th>描述</th>
<th>端口号</th>
<th>关键字</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>20</td>
<td>FTP-DATA</td>
<td>FTP数据</td>
<td>53</td>
<td>DNS</td>
<td>域名解析</td>
</tr>
<tr>
<td>21</td>
<td>FTP</td>
<td>FTP传输</td>
<td>69</td>
<td>TFTP</td>
<td>简单FTP</td>
</tr>
<tr>
<td>22</td>
<td>SSH</td>
<td>SSH登录</td>
<td>80</td>
<td>HTTP</td>
<td>Web访问</td>
</tr>
<tr>
<td>23</td>
<td>TELENT</td>
<td>远程登陆</td>
<td>110</td>
<td>POP3</td>
<td>邮件接收</td>
</tr>
<tr>
<td>25</td>
<td>SMTP</td>
<td>简单邮件传输</td>
<td>143</td>
<td>IMAP</td>
<td>邮件访问协议</td>
</tr>
<tr>
<td>67</td>
<td>DHCP</td>
<td>DHCP服务端</td>
<td>68</td>
<td>DHCP</td>
<td>DHCP客户端</td>
</tr>
<tr>
<td>161</td>
<td>SNMP</td>
<td>轮询端口</td>
<td>162</td>
<td>SNMP</td>
<td>陷阱端口</td>
</tr>
<tr>
<td>3389</td>
<td>远程桌面</td>
<td>Windows远程桌面</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>2、登记端口号（1024~49151）</p>
<p>为没有熟知端口号的应用程序使用的。使用这个范围的端口号必须在IANA互联网数字分配机构登记，以防止重复。</p>
<p>3、短暂端口号（49152~65535）</p>
<p>留给客户进程选择暂时使用。当服务器进程收到客户进程的报文时，就知道了客户进程所使用的动态端口号。通信结束后，这个端口号可提供其他客户进程使用。</p>
<h2 id="域名解析服务DNS"><a href="#域名解析服务DNS" class="headerlink" title="域名解析服务DNS"></a>域名解析服务DNS</h2><p>1、域名层次空间</p>
<p>DNS规定，域名中的标号都由英文和数字组成，每一个标号不超过63个字符（为了记忆方面，一般不会超过12个字符），也不区分大小写。标号中除连字符“-”外不能使用其他的标点符号。级别最低的域名写在最左边，而级别最高的域名卸载最右边。由多个标号组成的完整域名总共不超过255个字符。</p>
<p>例如：<a href="http://www.educity.cn" target="_blank" rel="noopener">www.educity.cn</a></p>
<p>其中最上层是根域名、而cn属于根域名下的顶级域名，educity属于顶级域名下的二级域名，而www叫做主机名。</p>
<p>顶级域名有三种：</p>
<p>（1）国家顶级域名nTLD：采用ISO3166的规定。如：cn代表中国，us代表没过，uk代表英国。</p>
<p>（2）通用顶级域名gTLD：com（公司业务）、net（网络服务机构）、org（非盈利组织）、int（国际组织）、gov（政府部门）、mil（美国的军事部门）、<strong>aero（航空运输业）。</strong></p>
<p>（3）基础结构域名：这种顶级域名只有一个，即arpa，用于反向域名解析，因此称为反向域名。</p>
<p>2、域名服务器类型</p>
<p>按照域名服务器的工作性质分为主域名服务器、辅助域名服务器、转发域名服务器、缓存域名服务器。</p>
<p>（1）主域名服务器：维护一个区域内所有的域名信息，为域名的所有信息的权威来源，可以修改信息。</p>
<p>（2）辅助域名服务器：当主域名服务器出现故障，关机或负载过重等情况，辅助域名服务器作为备份服务器来提供域名解析服务。</p>
<p>（3）转发域名服务区：本地DNS服务器无法对DNS客户端的解析请求进行本地解析时，可以配置本地DNS服务器为转发域名服务器，把客户端发送的解析请求转发到其他的DNS服务器。</p>
<p>（4）缓存域名服务器：为了提高DNS查询效率，并减轻服务器的负荷和减少因特网上的DNS查询报文数量，在域名服务器中广泛使用了高速缓存，用来存放最近查询过的域名以及从何处获得域名映射信息的记录，但缓存域名服务器不存在区域资源记录数据库。</p>
<p>3、域名解析过程</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033014.png" alt=""></p>
<p>（1）DNS客户机首先查看自己的DNS缓存。</p>
<p>（2）DNS缓存没有记录的话，DNS客户机会查看自己的HOSTS表文件。</p>
<p>（3）HOSTS表文件没有的话，DNS客户机会以递归查询方式查询自己的首选本地DNS服务器。所谓递归查询就是：如果主机所询问的本地域名服务器不知道被查询的域名的IP地址，那么本地域名服务器就以DNS客户的身份，向其他根域名服务器继续发出查询请求报文（即替主机继续查询），而不是让主机自己进行下一步查询。因此，递归查询反汇的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址。</p>
<p>（4）首选的本地DNS服务器收到查询请求后，首先查看自己的区域数据文件，没有的话查询DNS服务器的缓存记录。</p>
<p>（5）本地DNS服务器没有查询到的话，会把查询请求转发给自己设置的转发域名服务器，交由转发域名服务器查询。如果没有设置转发域名服务器的话，本地DNS服务器就会把查询请求转发给根域名服务器，这一步为迭代查询。迭代查询到 特点：当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地服务器：“你下一步应当向哪一个域名服务器进行查询。”然后让本地服务器进行后续的查询。</p>
<p>（6）根域名服务器通常把自己知道的顶级域名服务器的IP地址告诉本地DNS服务器，让本地DNS服务器再向COM这一级域名服务器查询。</p>
<p>（7）顶级域名服务器会告诉本地DNS服务器应该向哪一台权限域名服务器查询。</p>
<p>（8）由本地DNS服务器告知DNS客户机结果。</p>
<p>4、DNS服务器资源记录</p>
<p>每一个DNS服务器包含了它所管理的DNS命名空间的所有资源记录。资源记录包含和特定主机有关的信息，如IP地址、提供服务的类型等。常见的资源记录类型有：SOA（起始授权结构）、A（主机）、NS（名称服务器）、CNAME（别名）和MX（邮件交换器）。</p>
<p>（1）SOA：定义了该区域中的哪个名称服务器是权威名称服务器。</p>
<p>（2）NS：表示该区域的域名服务器（包含SOA中指定的该区域的主服务器和辅助服务器）。</p>
<p>（3）A：列出了区域中域名到IP地址的映射。</p>
<p>（4）AAAA：将域名指向一个IPv6地址。</p>
<p>（5）RTR：把IP地址映射到域名。</p>
<p>（6）MX：邮件交换器记录。</p>
<p>（7）CNAME：基于A记录的主机，作出一个别名。</p>
<h2 id="文件传输FTP"><a href="#文件传输FTP" class="headerlink" title="文件传输FTP"></a>文件传输FTP</h2><p>FTP是TCP/IP协议组中的协议之一。FTP协议包括两个组成部分，其一为FTP服务器，其二为FTP客户端。其中FTP服务器用来存储文件，用户可以使用FTP客户端通过FTP协议访问位于FTP服务器上的资源。</p>
<p>FTP服务器一般支持匿名访问，匿名FTP是这样一种机制：用户可通过它连接到远程主机上，并从其下载文件，而无需成为其注册用户。系统管理员建立了一个特殊的用户ID，名为anonymous，因特网上的任何人再任何地方都可以使用该用户ID。</p>
<p>默认情况下FTP协议使用TCP端口中的20和21这两个端口，其中20用于传输数据，21用于传输控制信息。但是。是否使用20作为上传数据的端口与FTP使用的传输模式有关，如果采用主动模式，那么数据传输端口就是20；如果采用被动模式，则具体最终使用哪个&gt;1024的高位随机端口要服务器和客户端协商决定。</p>
<h2 id="动态地址解析协议DHCP"><a href="#动态地址解析协议DHCP" class="headerlink" title="动态地址解析协议DHCP"></a>动态地址解析协议DHCP</h2><p>DHCP协议允许计算机快速动态地获得IP地址，即动态分配IP地址的机制。</p>
<p>DHCP中继代理可以为其他网段的客户机分配IP地址。</p>
<p>DHCP报文是承载于UDP上的高层协议报文，采用67（DHCP服务器）和68（DHCP客户端）两个端口号。在DHCP环境中，一个基本原则就是让客户端尽可能使用原来的相同的IP地址，所以DHCP分配地址的原则就是先看看有没有配置绑定某个MAC和IP，然后再看DHCP曾经使用过的IP，再就是最先找到的可用的IP。</p>
<p>DHCP是基于客户机/服务器模型设计的，DHCP客户和DHCP服务器之间通过收发DHCP消息进行通信。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033016.png" alt=""></p>
<p>1、寻找DHCP Server</p>
<p>当DHCP客户机第一次登陆网络的时候（也就是客户机上没有任何IP地址数据时），它会通过UDP 67端口向网络上发送一个DHCP discover数据包（包中包含客户机的MAC地址和计算机名等信息）。因为客户机还不知道自己属于哪一个网络，所以封包的源地址为0.0.0.0，目标地址为255.255.255.255，然后再附上DHCP discover的信息，向网络进行广播。</p>
<p>DHCP discover的等待时间预设为1秒，也就是当客户机将第一个DHCP discover封包送出去之后，在1秒之内没有得到回应的话，就会进行第二次DHCP discover广播。若一直没有得到回应，客户机会将这一广播重新发送四次（以2，4，8，16秒为间隔，加上1~1000毫秒之间的随机长度的时间）。如果没有得到DHCP Server的回应，客户机会从169.254.0.0/16这个自动保留的私有IP地址中选用一个IP地址，并且每隔5分钟重新广播一次，如果收到某个服务器的响应，则继续IP租用过程。</p>
<p>2、提供IP地址租用</p>
<p>当DHCP Server监听到客户机发出的DHCP server广播后，它会从那些还没有租出去的地址中，选择最前面的空置IP，连同其他TCP/IP设定，通过UDP 68端口响应给客户机一个DHCP Offer数据包（包中包含IP地址、子网掩码、地址租期等信息）。但这个给报文只是告诉DHCP客户端可以提供IP地址，最终还需要客户端通过ARP来检测该IP地址是否重复。</p>
<p>3、接收IP地址租用</p>
<p>如果客户机收到网络上多台DHCP服务器的响应，只会挑选其中一个DHCP Offer（一般是最先到达的那个），并且会向网络发送一个DHCP Request广播数据包（包中包含客户端的MAC地址、接收的租约中的IP地址、提供此租约的DHCP服务器地址等），告诉所有的DHCP server它将接收哪一台服务器提供的IP地址，所有其他的DHCP服务器撤销它们提供的IP以便将IP地址提供给下一次IP租用请求。</p>
<p>4、租约确定</p>
<p>当DHCP Server接受到客户机的DHCP Request之后，会广播返回给客户机一个DHCP Ack消息包，表明已经接收客户机的选择，并将这一IP地址的合法租用以及租约信息都放入该广播包发送给客户机。对于有线网络来说，默认租约为8天，对于无线网络来说，默认租约为6~8小时。</p>
<p>如果DHCP客户端收到DHCP Server回应的DHCP Ack报文后，通过地址冲突检测发现DHCP Server分配的地址冲突或者由于其他原因导致不能使用，则发送DHCP Decline报文，通知服务器所分配的IP地址不可用。</p>
<p>5、租约说明</p>
<p>客户机会在租期过去50%的时候，直接向为其提供IP地址的DHCP Server发送单播的DHCP Request小细胞。如果客户机接收到该服务器的回应的DHCP Ack消息包，客户就根据包中所提供的新的租期以及其他已经更新的TCP/IP参数，更新自己的配置，IP租用更新完成。如果没有收到该服务器的回复，则客户机继续使用现有的IP地址，因为当前租期还有50%。</p>
<p>如果在租入过去50%的时候还没有更新，则客户机将在租期过去87.5%的时候再次向其提供IP地址的DHCP联系，发送广播的DHCP Request消息包。如果还不成功，到租约的100%的时候，客户机必须放弃这个IP地址，重新申请。</p>
<h2 id="远程登陆协议Telnet"><a href="#远程登陆协议Telnet" class="headerlink" title="远程登陆协议Telnet"></a>远程登陆协议Telnet</h2><p>为了解决不同操作系统对键盘定义的差异性，Telent协议定义了网络虚拟终端NVT。对于发送的数据：客户机软件把来自用户终端的按键和命令序列转换为NVT格式，并 发送到服务器，服务器软件将受到的数据和命令，从NVT格式转换为远端系统需要的格式。</p>
<p>Telent服务虽然使用方便，但由于其安全性不高，Telnet是一个明文传送协议，用户名和密码都明文在互联网上传送，具有一定的安全隐患，因此目前通常使用SSH代替Telent进行远程管理。SSH采用了多种加密和认证方式，解决了传输中数据加密和身份认证的问题，能有效防止网络嗅探和IP欺骗等攻击。</p>
<h2 id="SMTP-amp-POP-amp-IMAP"><a href="#SMTP-amp-POP-amp-IMAP" class="headerlink" title="SMTP&amp;POP&amp;IMAP"></a>SMTP&amp;POP&amp;IMAP</h2><p>E-mail系统相关的协议</p>
<p>（1）SMTP：简单邮件传送协议，用于邮件的发送，工作在25端口。</p>
<p>（2）POP3：邮局协议V3.0，用于接收邮件，工作在110号端口。</p>
<p>（3）IMAP：邮件访问协议，使用于替代POP3协议的新协议，工作在143号端口。</p>
<h1 id="第十章-网络管理技术"><a href="#第十章-网络管理技术" class="headerlink" title="第十章    网络管理技术"></a>第十章    网络管理技术</h1><h2 id="windows命令"><a href="#windows命令" class="headerlink" title="windows命令"></a>windows命令</h2><p>1、IPconfig</p>
<p>显示网卡相关的TCP/IP配置参数</p>
<p>IPconfig /参数（-参数）</p>
<p>（1）/all    显示网卡的完整配置信息</p>
<p>（2）/renew    如果主机通过DHCP服务自动获取IP地址，此参数可以更新网卡的IP地址。</p>
<p>（3）/release    如果主机通过DHCP服务自动获取IP地址，此参数可以释放获取IP地址。</p>
<p>（4）/flushdns    清楚DNS解析程序的缓存内容</p>
<p>（5）/displaydns    显示DNS解析程序的缓存内容</p>
<p>2、ping</p>
<p>IP包在服务器中发送前设置的TTL是64，使用ping命令后，得到服务器的反馈信息，其中TTL为56，说明途中经过了8道路由器的转发，没经过一个路由，TTL减1。</p>
<p>ping /参数 IP地址或域名</p>
<p>（1）/t    持续ping一个IP地址，可以使用Ctrl+C停止持续ping</p>
<p>（2）/L    设置请求报文的字节数长度，默认是32字节</p>
<p>（3）/a    如果用IP地址标识目标，会尝试将IP地址解析为主机名并显示</p>
<p>（4）/n    设置发送请求报文的次数，默认是4次</p>
<p>3、arp    </p>
<p>显示和修改ARP使用的“IP到MAC地址映射”缓存表内容</p>
<p>（1）/a    显示IP地址与MAC地址的映射</p>
<p>（2）/s    添加静态的MAC地址</p>
<p>4、netstat</p>
<p>显示协议统计信息和当前的TCP/IP网络连接</p>
<p>（1）/n    以数字形式显示IP地址和端口号</p>
<p>（2）/r    显示路由表，作用和route print一致</p>
<p>（3）/a    显示所有的连接和监听的端口</p>
<p>（4）/e    显示以太网的统计信息。该参数可以和-s配合使用</p>
<p>（5）/s    显示每个协议的统计信息</p>
<p>（6）/o    显示每个连接所属的进程ID</p>
<p>5、tracert</p>
<p>显示去往目的地址的中间每一条的路由地址。其原理是通过多次向目标发送ICMP报文，每次修改增加IP头中的TTL值，以获取路径中每条路由器的相关信息。</p>
<p>​        /d    不会把地址解析成主机名称，使用该参数还可以加快显示的速度</p>
<p>6、pathing</p>
<p>显示通信线路上每个子网的延迟和丢包率。</p>
<p>7、nslookup</p>
<p>通过查询DNS以获得域名或IP地址的映射或其他DNS记录，此外还可以用于DNS故障排错。</p>
<p>nslookup以交互或非交互模式运行。所谓非交互式工作是指使用一次nslookup命令查询后又返回到命令提示符下。而交互式工作则可以用来查找多项数据，按Ctrl+C时再退回到命令提示符下。</p>
<p>（1）查询域名对应的IP地址</p>
<p>nslookup sina.com</p>
<p>（2）查询IP地址对应的域名</p>
<p>nslookup 114.114.114.114</p>
<p>8、route </p>
<p>（1）route print</p>
<p>查看本主机接口列表、网络目标、网络掩码、网关、接口和度量值之类的信息的路由表。</p>
<p>网关显示“在链路上”表明，该目标网段和主机是直连的。</p>
<p>（2）route add</p>
<p>route add|delete 10.20.30.48 mask 255.255.255.248 10.20.30.41</p>
<h2 id="Linux系统的启动过程"><a href="#Linux系统的启动过程" class="headerlink" title="Linux系统的启动过程"></a>Linux系统的启动过程</h2><p>Linux系统的启动过程可以分为5个阶段：内核引导、运行init、系统初始化、建立终端、用户登录系统</p>
<p>init进程是系统所有其他进程的起点，也就谁说没有init进程的话，其他任何进程都无法启动。</p>
<p>init有7个运行级别</p>
<table>
<thead>
<tr>
<th>运行级别</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>系统停机状态</td>
</tr>
<tr>
<td>1</td>
<td>单用户工作状态，只能使用root用户进行维护</td>
</tr>
<tr>
<td>2</td>
<td>多用户状态，不能使用NFS</td>
</tr>
<tr>
<td>3</td>
<td>完全的多用户状态，可以使用NFS</td>
</tr>
<tr>
<td>4</td>
<td>安全模式</td>
</tr>
<tr>
<td>5</td>
<td>X11控制台，登陆后进入图形GUI模式（图形化界面）</td>
</tr>
<tr>
<td>6</td>
<td>系统正常关闭并重启</td>
</tr>
</tbody></table>
<p>关闭的命令有shutdown -h now、halt、poweroff、init0</p>
<h2 id="Linux系统的目录结构"><a href="#Linux系统的目录结构" class="headerlink" title="Linux系统的目录结构"></a>Linux系统的目录结构</h2><table>
<thead>
<tr>
<th>目录</th>
<th>目录说明</th>
</tr>
</thead>
<tbody><tr>
<td>/</td>
<td>根目录，最高一级目录，包含整个Linux系统的所有目录和文件</td>
</tr>
<tr>
<td>/bin</td>
<td>bin是Binary（2进制）的缩写，该目录存放经常使用的命令</td>
</tr>
<tr>
<td>/boot</td>
<td>存放的是启动Linux时使用的一些核心文件，如系统内核、引导配置文件</td>
</tr>
<tr>
<td>/dev</td>
<td>dev是Device（设备）的缩写，该目录下存放的是Linux的外部设备文件。</td>
</tr>
<tr>
<td>/etc</td>
<td>该目录存放所有的系统管理所需要的配置文件</td>
</tr>
<tr>
<td>/home</td>
<td>用户的主目录，如使用admin这个账户登陆系统时，默认情况下就会进入到/home/admin这个工作目录</td>
</tr>
<tr>
<td>/root</td>
<td>管理员root账户的主目录，当使用root账户登录时，默认会以/root作为工作目录</td>
</tr>
<tr>
<td>/lib</td>
<td>该目录存放着系统最基本的动态连接共享库，起作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。不能随意删除</td>
</tr>
<tr>
<td>/mnt</td>
<td>存放用户临时挂在的其他文件系统</td>
</tr>
<tr>
<td>/opt</td>
<td>给主机额外安装软件所摆放的目录。如安装ORALCE数据就可以放到这个目录下</td>
</tr>
<tr>
<td>/sbin</td>
<td>s是Super User的意思，这里存放的是系统管理员使用的系统管理程序</td>
</tr>
<tr>
<td>/tmp</td>
<td>用于存放临时文件</td>
</tr>
<tr>
<td>/var</td>
<td>经常被修改的目录和文件放在这个目录下。包括各种日志文件</td>
</tr>
<tr>
<td>/proc</td>
<td>虚拟文件的路径，此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间</td>
</tr>
<tr>
<td>/lost+found</td>
<td>当系统以外崩溃或意外关机，而产生一些文件碎片放在这里</td>
</tr>
</tbody></table>
<h2 id="Linux命令"><a href="#Linux命令" class="headerlink" title="Linux命令"></a>Linux命令</h2><p>1、处理目录和文件</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>ls</td>
<td>-a列出目录下的全部文件，连同隐藏文件一起列出。-d列出目录，而不是列出目录内的文件。-l长数据串列出，包含文件的书性与权限等数据。</td>
</tr>
<tr>
<td>cd</td>
<td>切换工作目录</td>
</tr>
<tr>
<td>pwd</td>
<td>显示目前所在的工作目录</td>
</tr>
<tr>
<td>mkdir</td>
<td>创建目录</td>
</tr>
<tr>
<td>rmdir</td>
<td>删除目录</td>
</tr>
<tr>
<td>cp</td>
<td>复制文件</td>
</tr>
<tr>
<td>rm</td>
<td>删除文件</td>
</tr>
<tr>
<td>mv</td>
<td>移动文件</td>
</tr>
</tbody></table>
<p>2、查看文件</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>cat</td>
<td>由第一行开始显示文件内容</td>
</tr>
<tr>
<td>tac</td>
<td>从最后一行开始显示文件内容</td>
</tr>
<tr>
<td>more</td>
<td>可以一页一页显示文件内容</td>
</tr>
<tr>
<td>less</td>
<td>和more类似，但是可以往前翻页</td>
</tr>
<tr>
<td>head</td>
<td>只看文件内容中的前几行，可以自行指定</td>
</tr>
<tr>
<td>tail</td>
<td>只看文件内容中的后几行，可以自行指定</td>
</tr>
</tbody></table>
<p>3、用户管理</p>
<p>■ useradd/userdel test -p 123.com    添加/删除用户账户</p>
<p>/etc/passwd（用户帐号文件）</p>
<p>/etc/shadow（用户口令文件）</p>
<p>■ groupadd [-g GID] test</p>
<p>/etc/group    （用户组文件）</p>
<p>4、网络配置命令</p>
<p>（1）ifconfig</p>
<p>ifconfig eth0 down|up</p>
<p>编辑/etc/sysconfig/network-scripts/ifcfg-eth0</p>
<p>（2）route</p>
<p>route add default gw 网关地址</p>
<p>route add|del -net|-host [网段地址/主机地址] netmask [掩码] gw [网关地址/dev 接口]</p>
<h2 id="文件的基本属性"><a href="#文件的基本属性" class="headerlink" title="文件的基本属性"></a>文件的基本属性</h2><p>Linux是典型的多用户系统，不同的用户对相同文件有着不同的权限。</p>
<p>文件属性共有10位组成，第1位为文件类型：</p>
<table>
<thead>
<tr>
<th>文件类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>-</td>
<td>普通文件</td>
</tr>
<tr>
<td>d</td>
<td>目录文件</td>
</tr>
<tr>
<td>c</td>
<td>字符型设备文件</td>
</tr>
<tr>
<td>l</td>
<td>链接文件</td>
</tr>
</tbody></table>
<p>后9位表示文件权限：</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033017.png" alt=""></p>
<p>■ chgrp：更改文件的所属组</p>
<p>■ chown：更改文件的所有者</p>
<p>■ chmod：更改文件的权限</p>
<p>chmod 777 text</p>
<p>chmod [u|g|o|a] [+|-|=][r|w|x] test</p>
<h2 id="网络管理功能"><a href="#网络管理功能" class="headerlink" title="网络管理功能"></a>网络管理功能</h2><p>ISO定义了网络管理的五大功能，并被各个厂商接收。五大功能分别是：故障管理、配置管理、安全管理、性能管理和计费管理</p>
<p>故障管理：要求能够及时对计算机网络中出现的问题作出故障定位，分析故障原因以便管理员采取相应的补救措施。</p>
<p>配置管理：对网络设备进行配置和管理，包含对设备的初始化、维护和关闭等操作。</p>
<p>安全管理：目的是要保证网络当中的资源不过被非法用户使用，同时防止网络资源由于受到入侵者攻击而遭到破坏。</p>
<p>性能管理：通过持续性测评网络中的主要性能指标，确认网络服务是否得到预期水平，如果没有达到预期需要找出发生或潜在的网络瓶颈，为网络管理的决策提供依据。其目的是维护网络服务质量和网络运营效率。</p>
<p>计费管理：对于某些用户而言，使用网络服务时需要计费。计费管理记录网络资源的使用情况，用来检测网络操作的费用和代价。同时管理员还可以通过用户的付费情况来控制用户的网络行为，避免用户过多占用网络资源，从而提高网络的速率。</p>
<h2 id="SNMP网络管理协议"><a href="#SNMP网络管理协议" class="headerlink" title="SNMP网络管理协议"></a>SNMP网络管理协议</h2><p>1、网络管理体系结构</p>
<p>网络管理系统包括四个部分：网络管理站、管理代理、网络管理协议和管理信息库</p>
<p>（1）网络管理站也被叫做管理进程，通常位于网络系统的主干或接近主干的位置。它可以发出管理操作的指令给管理代理，管理代理收到指令后给管理站相应的响应。网络管理站也是可以定期查询管理代理的信息，获取相关设备的运行状态、配置内容等信息，以判断网络是否正常。</p>
<p>（2）管理代理有时简称为代理，通常位于被管理设备的内部（被管设备上一般要运行管理代理软件），管理代理可以从管理信息库中读取各种变量信息，也可以修改管理信息库中的变量信息。管理代理收到管理工作站的请求指令后，可以把查到的信息响应给管理工作站，此外管理代理在某些场合下也可以主动把某些事件报告给网络管理站。</p>
<p>（3）管理信息库MIB是一个信息存储库。被管设备上可以有多个被管对象，被管对象的信息存储在管理信息库中，而管理代理可以查询管理信息库中的被管对象信息。管理信息库MIN中的对象按照层次进行分类和命名，使用到了称为对象命名树的树形结构来标识</p>
<p>2、SNMP协议数据单元</p>
<p>SNMP协议规定了管理站和代理间交换网络管理信息的报文格式。管理站和代理的通信方式有三种：一种是管理站向代理发出请求以询问具体参数值；二是管理站可以要求改变代理中的一些参数值；三是代理主动向管理站报告某些重要的事情发生。</p>
<p>在SNMPv1版本中，上面三种通信方式涉及到五种报文的交换。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033018.png" alt=""></p>
<p>在第一种通信方式中，管理站向代理发起查询请求，发出get-request（提取代理进程的一个或多个参数值）和get-next-request（提取代理进程中紧跟当前参数值的下一个参数值）报文。代理收到请求后给出响应，发出get-response（返回一个或多个参数值）报文。</p>
<p>在第二种通信方式中，管理站修改代理中的某些参数值，发出set-request报文。代理收到后，修改后给出回应get-response报文。</p>
<p>在第三种通信方式中，代理进程主动发出Trap报文，通知管理进程有某些事情发生。</p>
<p>代理通过UDP端口161接收来自管理站的request报文，而管理站通过UDP162接收来自代理的Trap报文。</p>
<p>注意：SNMPv2协议增加了GetbulkRequest消息、Inform-Request消息、Report消息。GetbulkRequest管理站一次读取代理处MIB中大量成块数据，高效率地从代理处获取大量管理对象数据。该消息在检索大量管理信息时所需要的协议交换数目大大减少。Inform-Request消息实现管理进程之间互相通信，也就是由管理站发起，向另一个管理站报告状态数据。</p>
<p>3、SNMP协议版本</p>
<p>SNMP协议的版本包括：SNMPv1、SNMPv2c和SNMPv3。</p>
<p>SNMPv1采用团体名认证机制。团体名类似于密码，例如在管理站中设置的团体名和被管理设备上设置的团体名不同，则管理站和代理之间无法建立SNMP连接，那么管理站将无法访问代理，代理发送的信息也会被管理站丢弃。同时，SNMP消息没有采用加密传输，因此缺乏安全保障。</p>
<p>SNMPv2c也采用团体名认证机制。SNMPv2c对SNMPv1的功能进行了增强，增强的内容包括：提供了更多的操作类型；支持更多的数据类型；提供更丰富的错误代码。但同样的，SNMP消息没有采用加密传输，因此缺乏安全保障。</p>
<p>SNMPv3定义了上述两个版本所有功能在内的体系框架，以及包含验证服务和加密服务在内的全新安全机制。网络管理员可以设置认证和加密功能。使用认证和加密，可以为管理站和代理之间的通信提供更高的安全性，达到了商业级安全要求。</p>
<h2 id="RAID技术"><a href="#RAID技术" class="headerlink" title="RAID技术"></a>RAID技术</h2><p>RAID技术可以将多个磁盘容量较小的小硬盘在逻辑上形成一个容量较大的硬盘。此外，不仅是存储容量得到提升，RAID还能起到保护硬盘数据的作用。RAID技术分7几个级别，不同的级别工作原理是不一样的。</p>
<p>1、RAID 0</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033019.png" alt=""></p>
<p>RAID 0会先将映安划分出容量大小相等的小区块，然后当一个文件要存入硬盘时，该文件会依据区块的大小切割好（即所谓的条带化操作），之后再按顺序把切割好的文件数据存入各个硬盘中。因为数据会交错地存放在RAID中的各个磁盘上，所以每个硬盘所负责处理的数据量都会降低。因此组成RAID 0的硬盘越多，其性能会越好。同时整体来看，硬盘的容量也因此增大很多。</p>
<p>RAID 0磁盘利用率能达到100%（因为每个磁盘上都在存储数据），但是该方案没有任何可靠性的保证。假设RAID中的某一块硬盘出现故障，那么文件数据将缺少一部分，无法重新组装数据则整个文件就损坏丢失了。</p>
<p>在RAID 0中，如果使用相同容量大小的硬盘进行组件，则性能会更高。使用不同容量的硬盘组建RAID 0也是可以的，但由于数据是按序存储到不同的因盘中，当小容量硬盘的区块被用完了，那么后续存储的所有数据都将被放入到容量更大的那块硬盘上去。</p>
<p>2、RAID 1</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033020.png" alt=""></p>
<p>组建RAID 1时最好使用容量大小相等的硬盘。如果是使用不同容量的硬盘组建RAID 1，那么总容量将以最小的那一块硬盘为主。</p>
<p>RAID 1使用到了镜像操作，即让同一份数据，完整地保存到两块硬盘上去。这种方式存储数据，可靠性很高，当一块硬盘出现故障也不会影响数据的读取。但是其磁盘容量只有50%。</p>
<p>3、RAID 3</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033021.png" alt=""></p>
<p>RAID 3引入了奇偶校验方式来确保数据的可靠性。RAID 3要求至少3块及以上的硬盘来组建。在RAID 3中，同样需要进行条带化操作，把数据按顺序分别存储到各个磁盘上，但是在RAID 3中有1块单独的磁盘需要用来做校验盘，校验数据存储到校验盘上。在RAID 3中，磁盘利用率是(N-1)/N，其中N是磁盘数目。</p>
<p>RAID 3具有一定的容错能力，但是系统性能整体上会受到影响。例如当一块硬盘失效时，该硬盘上所有数据块必须使用校验信息重新建立。同时RAID 3会把数据写入操作分散的多个硬盘上进行，不管是向哪一个数据盘写入数据，都需要同时重写校验盘中的校验数据。因此如果需要进行大量写入操作，校验盘的负载将会很大，可能无法满足程序的运行速度。</p>
<p>4、RAID 5</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033022.png" alt=""></p>
<p>RAID 5和RAID 3类似，也需要至少3块以上的硬盘组建，也拥有条带化操作和数据校验，但在RAID 5中不会单独使用1块硬盘做校验盘，而是将校验数据分散存储在各个硬盘的各个位置上，换种思路也就说相当于有一块硬盘容量的空间用于存储校验数据了。</p>
<p>当RAID 5的一个硬盘出现故障，并会影响数据的完整性，从而保证了数据的安全。当失效的硬盘被替换后，RAID 5会自动利用剩下的奇偶校验信息去重建此影片盘上的 数据，确保了RAID 5的高可靠性。同时由于并不是用一块单独的校验盘来存储计算校验数据，所以性能会比RAID 3好。</p>
<p>5、RAID 6</p>
<p>在RAID 3和RAID 5中，只能保证当1块硬盘出现故障时能恢复数据。如果出现2块及以上的硬盘故障，则无法恢复。在RAID 6方案中，会拥有2个校验数据类型分散存储在各个硬盘上，能确保当2块及以上的硬盘出现故障时的数据回复。因此磁盘利用率就是(N-2)/N，N表示磁盘数量，或是说整体的硬盘容量就会少2块。</p>
<p>6、RAID 10与RAID 01</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033023.png" alt=""></p>
<p>RAID 0的性能好但是数据可靠性得不到保证，RAID 1的数据可靠性有保证但是性能不高。</p>
<p>RAID 01实现让硬盘每两个为一组，组成两组RAID 0，让后将这两组RAID 0再组成一组RAID 1。类似的，RAID 10就是线组成RAID 1再组成RAID 0。</p>
<p>从安全性来看，RAID 10好于RAID 01，所以在企业中属于常用的RAID 组合方案。</p>
<h2 id="DAS直接附加存储"><a href="#DAS直接附加存储" class="headerlink" title="DAS直接附加存储"></a>DAS直接附加存储</h2><p>DAS是磁盘上的一个块级设备，该磁盘在物理上是直接连接到主机的。必须现在硬盘上房置我呢见系统，然后才能进行使用。实现DAS的技术包括SCSI、SATA等。DAS存储模式一般在中小型企业中应用十分广泛。它依赖主机的操作系统来实现数据的IO读写、数据管理、数据备份等操作。</p>
<p>DAS存储的主要优点之一是实现成本较低。由于存储专用于特定服务器，因此管理存储阵列是单独完成的。DAS的缺点是其扩展功能通常很有限，也不利于管理，此外电缆连接选项（1至4米电缆）也很有限，难以跟上IT的发展趋势。</p>
<h2 id="NAS网络附加存储"><a href="#NAS网络附加存储" class="headerlink" title="NAS网络附加存储"></a>NAS网络附加存储</h2><p>NAS实际上是一个带有瘦服务的存储设备，有自己的控制器。NAS用于存储服务，可以大大降低存储设备的成本，NAS中的存储信息都是采用RAID方式极性管理的，能有效保护数。该存储可以通过现有以太网网络同时共享给多个客户端。</p>
<p>NAS有自己的文件系统，用网络和文件共享协议提供对文件数据的访问权限。这些协议有通用的Internet文件系统CIFS和网络文件系统NFS，NAS让UNIX、Linux、Windows不同操作系统的用户都能无缝的共享数据，NAS采用TCP/IP网络进行数据交换。不同厂商的产品（服务器、交换机、NAS存储）只要满足标准的 协议就可以互联互通，没有兼容性的要求，并且随着网络带宽的不断提高，NAS存储的性能也会大幅度提高，应用也会越来越广。</p>
<p>但NAS设备与客户机通过企业网进行连接，因此数据备份或存储过程中需要占用网络的带宽，影响到企业内部网络上其他的网络应用，共用网络带宽的问题会成为限制NAS性能的主要问题。NAS的可扩展性受到设备大小的限制，NAS访问需要经过文件系统格式转换，不适合数据块级的应用。</p>
<h2 id="SAN存储区域网络"><a href="#SAN存储区域网络" class="headerlink" title="SAN存储区域网络"></a>SAN存储区域网络</h2><p>SAN和NAS不同，它不是把所有的存储设备集中安装在一个专门NAS服务器中，而是通过网络方式连接存储设备和应用服务器的存储架构。SAN的存储资源在服务器以外，这就可以让服务器和存储设备之间海量的数据传输不应影响到局域网的性能。</p>
<p>其中FC SAN需要部署光纤网路，还需要购买光纤交换机，因此组网部署稍显复杂，存储服务器上通常配置两个网络接口适配器；一个用来连接IP网络的普通网卡NIC、服务器通过此网卡和客户端交互；另一个网络适配器是和FC-SAN连接的主机总线适配器HBA，服务器通过HBA和FC-SAN中的存储设备通信。FC-SAN目前应用在高性能的环境中。</p>
<p>但由于采用FC SAN的成本和管理难度是很多中小型企业无法达到的，随着IP和以太网随机数突飞猛进，后来实现了IP SAN。由于基于全以太网架构，组网部署较为简单，且成本较低，但性能和FC SAN相比较差，网络可靠性一般，适用于中小规模的非关键性存储业务。</p>
<h1 id="第十一章-网络安全技术"><a href="#第十一章-网络安全技术" class="headerlink" title="第十一章    网络安全技术"></a>第十一章    网络安全技术</h1><h2 id="网络安全要素"><a href="#网络安全要素" class="headerlink" title="网络安全要素"></a>网络安全要素</h2><p>（1）机密性：确保星系不暴漏给未授权的实体或及茶农哼。</p>
<p>（2）完整系：只有得到允许的用户才能修改数据，并能判别数据是否已被篡改。</p>
<p>（3）可用性：得到授权的实体在需要时可访问数据。</p>
<p>（4）可控性：可以控制授权范围内的信息流向和行为方式。</p>
<p>（5）可审查性：对出现的安全问题提供调查的依据和手段。</p>
<p>对于网络及网络交易而言，信息的安全基本需求是机密性、完整性和不可抵赖性（即数据和交易发送方无法否认曾经的事实）。</p>
<h2 id="网络安全威胁"><a href="#网络安全威胁" class="headerlink" title="网络安全威胁"></a>网络安全威胁</h2><p>常见的网络安全威胁包括窃听（即非授权访问、信息泄露和资源盗取等）、假冒（假扮另一个实体，如网站假冒及IP欺骗等）、重放、流量分析、破坏完整性、拒绝服务、资源的非法授权使用、陷门和特洛伊木马、病毒，以及诽谤等。</p>
<p>安全漏洞包括物理安全隐患、软件安全漏洞和搭配的安全漏洞。网络攻击可分为被动攻击、主动攻击、物理临近攻击、内部人员攻击和分发攻击等。</p>
<p>在被动攻击中，攻击者只是观察和分析某一个协议数据单元PDU而不干扰信息流，即使这些数据对攻击者来说不易理解，他也可以通过观察PDU的协议控制西悉尼部分，了解正在进行通信的协议实体的地址和身份，研究PDU的长度和传输的频度，以便了解所交换的数据的某种性质。这种被动攻击又称为流量分析。</p>
<p>主动攻击是指攻击和对某个连接中通过的PDU进行各种处理。如有选择地更改、删除、延迟，主要有终端、篡改、伪造、重放攻击（攻击者发送一个目的主机已接受过的包，来达到欺骗系统的目的，主要用于身份认证过程）。</p>
<h2 id="DDoS攻击"><a href="#DDoS攻击" class="headerlink" title="DDoS攻击"></a>DDoS攻击</h2><p>拒绝服务DoS攻击：借助于网络系统或网络协议的缺陷和漏洞进行的网络攻击，让目标系统受到某种程度的破坏而不能继续提供正常的服务甚至服务中断。</p>
<p>分布式拒绝服务攻击：借助于客户/服务器技术，将多个计算机联合起来作为攻击平台，对一个或多个目标发动DDoS攻击，从而成倍地提高拒绝服务攻击的威力。由于其隐蔽性和分布性很难被识别和防御，DDos攻击技术发展时分迅速。这种攻击规模大、危害性强。</p>
<p>防范DDoS攻击的措施有：定期检查服务器漏洞、部署内容分发网络CDN、关闭不要的服务或端口、利用网络安全设备防火墙、WAF设备来加固网络的安全性，此外还可以购买流量清洗服务来清洗掉攻击流量。</p>
<h2 id="SQL注入攻击"><a href="#SQL注入攻击" class="headerlink" title="SQL注入攻击"></a>SQL注入攻击</h2><p>SQL注入攻击时黑客对数据库进行攻击的常用手段之一。但是很多程序员在编写代码的时候没有对用书输入数据的合法性进行判断，使应用程序存在安全隐患。攻击者可以提交一段数据库查询代码，根据程序返回的结果，获得某些他想得到的数据，这就是所谓的SQL注入。</p>
<p>防止SQL注入攻击：</p>
<p>（1）使用参数化的过滤性语句，对输入进行细致的验证。要防御SQL注入，用户的输入就绝对不能直接被嵌入到SQL语句中。</p>
<p>（2）还要避免使用解释程序，防止黑客执行非法命令。</p>
<p>（3）防范SQL注入，还要避免打印一些详细的错误消息。要使用一种标准的输入确认机制来验证所有的输入数据的长度、类型、语句、企业规则等。</p>
<p>（4）使用专业的漏洞扫描工具。</p>
<p>（5）使用IPS、WAF等网络设备对服务器进行保护。</p>
<h2 id="XSS攻击"><a href="#XSS攻击" class="headerlink" title="XSS攻击"></a>XSS攻击</h2><p>跨站脚本攻击，它指的是恶意攻击者往Web页面里插入恶意的JavaScript代码，党用户浏览该页时，嵌入Web页面里面的JavaScript代码会被执行，从而达到恶意用户是特殊目的。合法用户在访问这些页面的时候，程序将数据库里面的信息输出，这些恶意代码就会被执行。</p>
<p>XSS防御的措施：</p>
<p>（1）验证所有的输入数据，有效检测攻击。</p>
<p>（2）对所有输出数据进行适当的编码，以防止任何已成功注入的脚本在浏览器端运行。</p>
<p>（3）也可以部署一些专用的WEB防护设备、IPS设备。</p>
<h2 id="ARP欺骗"><a href="#ARP欺骗" class="headerlink" title="ARP欺骗"></a>ARP欺骗</h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033036.png" alt=""></p>
<p>（1）攻击者可以仿冒用户、仿冒网关发起伪造的ARP报文，使网关或主机的ARP表项不正确，从而对网络进行攻击。</p>
<p>（2）攻击者通过向设备发送大量目标IP不能解析的IP报文，使得设备试图反复地对目标IP地址进行解析，导致CPU负荷过重及网络流量过大。</p>
<p>（3）攻击者向设备发送大量ARP报文，对设备的CPU形成冲击。</p>
<p>防范ARP欺骗攻击的措施：在主机和网关上可以使用arp -s的命令去绑定IP和MAC映射关系，可以部署ARP防火墙。</p>
<h2 id="计算机病毒的类型"><a href="#计算机病毒的类型" class="headerlink" title="计算机病毒的类型"></a>计算机病毒的类型</h2><p>计算机病毒命名规则都不太一样，但基本都是采用前、后缀法来进行命名的，可以是多个前缀、后缀组合，中间以小数点分割，一般格式为：〔前缀〕.〔病毒名〕.〔后缀〕。其中病毒前缀是指一个病毒的种类，常见的有Script（脚本病毒）、Trojan（木马病毒）、Worm（蠕虫病毒）、Harm（破坏性病毒）、MACRO/WM/WM97/XM/XM97（宏病毒）、Win32/W32（系统病毒）。</p>
<p>1、蠕虫病毒</p>
<p>蠕虫是一种可以自我复制的代码，并且通过网络传播，通常无需人为干预就能传播。蠕虫病毒入侵并完全控制一台计算机之后，就会把这台机器作为宿主，进而扫描并感染其他计算机。当这些新的蠕虫入侵的计算机被控制后，蠕虫会以这些计算机为宿主继续扫描并感染其他计算机，这种行为会一直延续下去。蠕虫使用这种递归的方法进行传播，按照指数增长的规律分布自己，进而及时控制越来越多的计算机。典型的冲击波、震荡波、熊猫烧香、勒索病毒都属于蠕虫病毒。</p>
<p>2、木马病毒</p>
<p>木马病毒是指隐藏在正常程序中的一段具有特殊功能的恶意代码，是具有破坏和删除文件、发送密码、记录键盘等特殊功能的后门程序。木马病毒其实是计算机黑客用于远程控制计算机的程序，对被感染木马病毒的计算机实时操作。木马病毒具有很强的隐蔽性，可以根据黑客意图突然发起攻击。</p>
<p>木马软件一般由三部分组成：木马配置程序、控制程序和服务端程序。</p>
<p>（1）服务器程序：驻留在受害者的系统中，非法获取其操作权限，负责接收控制指令，并根据指令或配置将数据发送给控制端。</p>
<p>（2）木马配置程序：用来设置木马程序的端口号、触发条件、木马名称等，使其在服务器端隐藏的更隐蔽。有时，该配置功能被集成在控制程序菜单内。</p>
<p>（3）控制程序：控制远程木马服务器端，有些控制程序集成了木马的配置功能。</p>
<p>有的木马配置程序和控制程序集成在一起，统称为控制端（客户端）程序，负责配置服务器、给服务器发送指令，同时接受服务器的数据。因此，一般的木马都是C/S结构。当木马服务器程序在目标计算机上被执行后，便会打开一个默认的端口进行监听，当客户端向服务器端提出连接请求时，服务器上的相应程序就会自动运行起来应答客户端的请求，建立连接。服务器端程序与客户端建立连接后，客户端发出指令，服务器端在计算机中执行这些指令，并将数据传送到客户端，以达到控制主机的目的。</p>
<p>但随着防火墙技术的提高和发展，基于IP包过滤规则来拦截木马程序可以很有效地防止外部连接，因此黑客在无法取得连接的情况下，也无所作为。但是攻击者又发明了所谓的”反弹式木马“-它利用防火墙对内部发起的连接请求无条件信任的特点，假冒是系统合法网络请求来取得对外的端口，再通过某些方式连接到木马的客户端，从而窃取用户计算机的资料同时控制计算机。</p>
<p>3、宏病毒</p>
<p>宏病毒是一种即存在Office文档或模板中的计算机病毒。一旦打开这样的文档，其中的宏就会被执行，于是宏病毒就会被激活，转移到计算机上，并驻留再Normal模板上。自此以后，所有自动保存的文档都会”感染“上这种宏病毒，而且如果用其他计算机打开了感染病毒的文档，宏病毒又会转移到该计算机上。</p>
<p>4、脚本病毒</p>
<p>脚本病毒通常是由JavaSCcript代码编写的恶意代码，一般带有广告性质、修改IE首页、修改注册表等信息。脚本病毒前缀Script，共同点是使用脚本语言编写，通过网页进行传播。</p>
<h2 id="计算机病毒的防止"><a href="#计算机病毒的防止" class="headerlink" title="计算机病毒的防止"></a>计算机病毒的防止</h2><p>（1）安装杀毒软件及网络防火墙（或者断开网络），及时更新病毒库；</p>
<p>（2）及时更新操作系统的补丁；</p>
<p>（3）不访问安全性得不到保障的网站；</p>
<p>（4）从网络下载文件后及时杀毒；</p>
<p>（5）关闭多余端口，做到使电脑再合理的使用范围之内；</p>
<p>（6）关闭IE安全中的ACTIVEX运行，好多网站都是使用此功能来入侵电脑；</p>
<p>（7）尽量使用非IE内核的浏览器，如google；</p>
<p>（8）不要使用修改版的软件，如果一定要用，在使用前查杀病毒；</p>
<p>（9）及时备份数据。</p>
<h2 id="对称加密技术"><a href="#对称加密技术" class="headerlink" title="对称加密技术"></a>对称加密技术</h2><p>对称加密（私钥加密）指加密和解密使用相同密钥的算法。有时又叫传统加密算法、常规加密算法、共享密钥算法。</p>
<p>对称加密算法的安全性依赖于密钥，泄露密钥就意味着任何人都可以对他们发送或接收的消息解密，所以密钥的保密性至关重要。</p>
<p>对称加密算法的特点是算法公开、计算量小、加密速度快、加密效率高。常见的对称加密算法包括DES、3DES、IDEA、AES、RC4、RC5及国产SM1、SM4。</p>
<p>1、DES</p>
<p>DES是一个分组加密算法，每组64比特，能够支持64比特的明文块加密，其秘钥长度为56比特（有8位用于校验）。由于计算机运算能力的增强，原版DES密码的密钥长度变得容易被暴力破解。</p>
<p>2、3DES</p>
<p>工作机制是使用DES对明文进行“加密→解密→加密”操作，即对DES加密后的密文进行解密再加密，而解密则相反。第一次和第三次使用相同的56位密码，第二次是不同的56位密钥，所以3DES速发的密钥长度被认为是112位。</p>
<p>3、IDEA</p>
<p>是一个分组加密处理算法，其明文和密文分组都是64比特，秘钥长度为128比特。IDEA算法能够接受64比特分组加密处理，同一算法既可用于加密又可用于解密，该算法的设计思想是“混合使用来自不同代数群中的运算”。</p>
<p>4、AES</p>
<p>AES使用了几种不同的方法来执行排列和置换运算；密码系统支持至少128比特长的分组；AES是一个迭代的、对称密钥分组的密码，可以使用128、192、256位密钥。</p>
<p>5、RC5</p>
<p>参数可变的分组密码算法，三个可变的参数是：分组大小、密钥大小和加密轮数。在此算法中使用了三种运算：异或、加和循环。一般应用于无线网络的数据加密。</p>
<h2 id="非对称加密技术"><a href="#非对称加密技术" class="headerlink" title="非对称加密技术"></a>非对称加密技术</h2><p>非对称加密技术也叫做公钥密码体制，使用不同的加密密钥与解密密钥，是一种”由已知加密密钥推导出解密密钥在计算上是不可行的“密码体制。</p>
<p>1、非对称加密技术的加密和解密过程如下：</p>
<p>（1）密钥对产生器产生出接收者B的一对密钥：加密密钥PKB和解密密钥SKB。发送者A所用的加密密钥PKB就是接收者B的公钥，向公众公开。而B所用的解密密钥SKB就是接收者B的私钥，对其他人都保密。</p>
<p>（2）发送者A就用B的公钥对明文X加密，得到密文Y，发送给B。</p>
<p>（3）B用自己的私钥进行解密，恢复出铭文、</p>
<p>与对称密钥相比，非对称密钥加密优点在于无需共享的通用密钥，解密的私钥不发往任何公户。即使公钥在网上被截获，如果没有与其匹配的私钥，也无法解密，所截获的公钥是没有任何用处的。广泛使用于数字签名。</p>
<p>注意：任何加密算法的安全性却决于密钥的长度，以及攻破密文苏需要的计算量，而不是简单地取决于加密的体制，同时公钥密码算法的开销较大，并没有使得传统对称加密体制编得过时。</p>
<p>典型的非对称加密算法有：RSA、ECC、背包加密、Rabin算法、DH算法等。</p>
<p>2、 RSA算法基于大整数因子分解的困难性，该算法的步骤如下：</p>
<p>① 第一步，生成两个大素数p和q。</p>
<p>② 第二步，计算这两个素数的乘积n=pq。</p>
<p>③ 第三步，计算小于n并且与n互素的整数的个数，即欧拉函数φ(n)=(p-1)(q-1)。</p>
<p>④ 第四步，选取一个随机数e，且满足1&lt;e&lt;φ(n)，并且e和φ(n)互素，即gcd(e,φ(n))=1。</p>
<p>⑤ 第五步，计算d=e^-1^modφ(n)。</p>
<p>⑥ 第六步，保密b、p和q，而公开n和e，即d作为私密，而n和e作为公钥。</p>
<p><strong>案例</strong>： 设素数p=3，q=17，并且令e=13，则RSA的加密操作如下：</p>
<p>第一步，计算n，n=pq=3 ×17=51，得出公钥n=51，e=13。</p>
<p> 第二步，计算φ(n)和d，φ(n)=(p-1)(q-1)=2×16=32。因为d=e^-1^modφ(n),所以d=(kφ(n)+1)/e（其中，k是p-1和q-1的最大公约数）。由此算出d=(2×32+1)/13=5，即解密密钥d=5。</p>
<p>第三步，加密和解密处理计算。假设Bob的公开密钥是e=13、n=51，Alice需要将明文“2”发送给Bob，则Alice首先用Bob公开的密钥加密密文。</p>
<p><strong>C=M^e^modn=2^13^mod 51=8192 mod 51=32</strong></p>
<p>第四步，Bob收到Alice发来的密文C后，用自己的私钥d解密密文C。</p>
<p><strong>M=C^d^modn=3^25^mod 51=1024×1024×32 mod 51=512 mod 51=2</strong></p>
<p> RSA安全性保证要做到选取的素数p和q足够大，使得给定了它们的乘积n后，在事先不知道p或q的情况下分解n是计算上不可行的。</p>
<p>l因此，破译RSA密码体制基本上等价于分解n。基于安全性考虑，要求n长度至少应为1024比特，然后从长期的安全性来看，n的长度至少应为2048比特，或者616位的十进制数。</p>
<h2 id="密钥分配管理Kerberos"><a href="#密钥分配管理Kerberos" class="headerlink" title="密钥分配管理Kerberos"></a>密钥分配管理Kerberos</h2><p>密钥分配是密钥管理中最大的问题。密钥必须通过最安全的通路进行分配。目前常用的密钥分配方式是设立密钥分配中心KDC。使用最多的密钥分配协议是Kerberos。</p>
<p>Kerberos使用两个服务器：鉴别服务器AS、票据授权服务器TGS</p>
<p>在Kerberos认证系统中，用户首先向认证服务器申请初始票据，然后票据授权服务器（TGS）获得会话密码。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033024.png" alt=""></p>
<p>1、客户端A向鉴别服务器AS端发起请求，请求内容是：我是谁，我要和谁通信（B服务器）。然后AS对A的身份进行验证。只有验证结果正确，才允许A和票据授权服务器TGS进行联系。</p>
<p>2、AS向A发送用A的对称密钥KA加密的报文，这个报文包含A和TGS通信的会话密钥KS、AS要发给TGS的票据（这个票据是用TGS的对称密钥KTG加密的），该票据是给TGS服务器的，但是AS并不直接给TGS服务器，而是交给了客户端再由客户端交给TGS服务器。因为该票据由TGS服务器的密钥加密了，所以客户端无法伪造和篡改。</p>
<p>A收到之后，用自己的对称密钥KA把AS发来的报文进行解密。这样就能提取出会话密钥KS以及要转发给TGS的票据。</p>
<p>3、A向TGS发送三个项目：</p>
<p>（1）转发AS发来的票据。</p>
<p>（2）服务器B的名字，这表明A请求B的服务。请注意，现在A向TGS证明自己的身份，就是通过转发AS发送的票据（因为这个票据只有A才能提取出来）。票据是加密的，入侵者伪造不了.</p>
<p>（3）用KS加密的时间戳T，用来防止入侵者的重放攻击。</p>
<p>4、TGS收到后，发送2个票据。每一个都包含A和B通信的会话密钥KAB。给A的票据用KS加密；给B的票据用B的密钥KB加密。现在入侵者无法得到KAB的，因为它没有KA和KB。入侵者也无法重放第三步，因为入侵者无法更换时间戳，他没有KS。</p>
<p>5、A向B转发TGS发来的票据，同时发送用KAB加密的时时间戳。</p>
<p>6、B把时间戳+1来证明收到了票据。B向A发送的报文用密钥KAB进行加密。之后A和B之间的通信就用TGS给出的会话密钥KAB进行通信。</p>
<h2 id="加密方式"><a href="#加密方式" class="headerlink" title="加密方式"></a>加密方式</h2><p>按照网络层次的不同，数据加密方式可以分为链路加密、节点加密、端到端加密三种。</p>
<p>1、链路加密</p>
<p>链路加密是最常用的加密方法之一，通常用硬件在物理层实现，用于保护通信节点间传输的数据。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033025.png" alt=""></p>
<p>在采用链路加密的网络种，每条通信链路上的加密是独立实现的。通常对每条链路使用不同的加密密钥。当某条链路受到破坏时，不会导致其他链路上传送的信息被解析出来。由于只要求相节点之间具有相同的密钥，因而密钥管理易于实现。链路加密对于用户来说是透明的。由于报文是以明文方式在各节点内加密的，所以节点本身必须是安全的。所以其最大的缺点就在于中间节点暴漏了信息的内容。在网络互联的情况下，只采用链路加密的方式不能实现通信的安全，只适合用于局部数据的保护。</p>
<p>2、节点加密</p>
<p>节点加密是对链路加密的改进，目的是为了解决链路加密在节点处易受到窃取的缺点。</p>
<p>在协议栈的传输层上面进行加密，实现方法和链路加密类似，只是把加密算法加载到节点的加密模块中。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033026.png" alt=""></p>
<p>3、端到端加密</p>
<p>端到端加密是在源点和终点中对传送的协议数据单元进行加密和解密，报文的安全性不会因中间节点的不可靠而受到影响。</p>
<p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/ChakaLake/ywd/2021/033027.png" alt=""></p>
<p>端到端的加密在传输层以上的各层来实现。在高层进行加密、不需要考虑网络底层的线路、调制解调器、路由器等细节。当然协议数据单元的控制信息部分（源地址、目的地址等）不能加密，否则中间节点不能选择正确的路由，这个加密方式使用于互联网环境。</p>
<h2 id="数字签名"><a href="#数字签名" class="headerlink" title="数字签名"></a>数字签名</h2><p>基于非对称加密体制。</p>
<p>1、数字签名的功能：</p>
<p>（1）可鉴别性：接收者能够合适发送者对报文的签名，也就是说，接收者能够确信该报文确实是发送者所发送的，其他人无法伪造对报文的签名。</p>
<p>（2）完整性：接收者确信所受到的数据和发送者发送的完全一样，没有被篡改过。</p>
<p>（3）不可否认性：发送者事后不能抵赖对报文的签名。</p>
<p>2、数字签名的过程</p>
<p>数字签名技术中一项重要技术是消息摘要生成技术，就是通过一个报文摘要算法（MD5或SHA）将消息压缩成一个128bit或160bit或某个固定长度短消息的技术，这个函数一般称为Hash函数或算法，生成的短消息称为消息摘要或数字指纹法，也称为散列值。它和签名算法配合使用，签名算法只对消息摘要签名。</p>
<p>哈希算法是一种求逆苦难的算法，要求找到两个不同的消息具有想用的消息摘要，或者找到一个消息具有已知消息摘要是很困难的。</p>
<p>数字签名的基本原理如下：</p>
<p>（1）被发送文件采用哈希算法对原始消息进行运算，得到一个固定长度的消息摘要。</p>
<p>（2）发送方生成消息摘要，用自己的私钥对摘要加密进行数字签名。</p>
<p>（3）这个数字签名将作为消息报文的附件和消息报文一起发送给接收方。</p>
<p>（4）接收方先从接收到的原始报文中用同样的算法计算出新的报文摘要，再用发送方公钥对报文附件的数字签名进行解密，比较两个报文摘要，如果值相同，接收方就能确认该数字签名是发送方的。</p>
<p>数字签名的算法很多，应用最为广泛的有：DSS数字签名体制、RSA数字签名体制和ELGamal数字签名体制。美国数字签名标准DSS是目前应用最广泛的数字签名算法。</p>
<h2 id="数字证书"><a href="#数字证书" class="headerlink" title="数字证书"></a>数字证书</h2><p>确保公钥的合法性</p>
<p>数字签名使用数字证书与信息加密技术、用于鉴别电子数据据信息的技术，可通俗理解为加盖在电子文件上的”数字指纹“。</p>
<p>数字证书是由权威公正的第三方认证机构CA负责签发和管理的、个人或企业的网络数字身份证明。</p>
<p>数字签名是用数字证书对电子文件签名后在电子文件上保留的签署结果，用以证明签署人的签署意愿。所以数字证书是数字签名的基础，数字签名是数字证书的一种应用结果。</p>
<p>1、数字证书的颁发</p>
<p>数字证书的颁发过程为：用户首先产生自己的密钥对，并将公共密钥及部分个人身份信息传送给认证中心。认证中心在核实身份后，将执行一些必要的步骤，以确信请求确实由用户发送而来。然后，认证中心将给用户一个数字证书，该证书内包含用户的个人信息和他的公钥信息，同时还附有认证中心的签名信息。用户就可以使用自己的数字证进行相关的各种活动。数字证书由独立的证书发行机构发布。数字证书各不相同，每种证书可提供不同级别的可信度。可以从证书发行机构获得自己的数字证书。</p>
<p>数字证书就是互联网通讯中标志通讯各方身份信息的一系列数据，提供了一种在Internet上验证身份的方式。它是由一个权威机构证书授权中心CA发行的，用户可以在网上用它来识别对方的身份。最简单的证书包含一个公开密钥、名称以及证书授权中心的数字签名。</p>
<p>2、数字证书的内容</p>
<p>数字证书的格式遵循X.509V3标准。X.509是由国际联盟（ITU-T）制定的数字证书标准。</p>
<p>序列号：发发哦那个证书的实体有责任为证书指定序列号，以使其区别于该实体发放的其他证书。这个信息用途很多，例如，如果某一证书被消回，其序列号将放到证书撤销清单（CRL）中。</p>
<p>版本号：用于是被该证书的X.509标准的版本。</p>
<p>签名算法：签署证书所用的算法及其参数。</p>
<p>发行者ID：唯一地标识证书的发行者。</p>
<p>发行者：指建立和签署证书的CA的X.509名字。</p>
<p>主体ID：唯一地标识证书的持有者。</p>
<p>有效期：包括证书有效期的起始时间和终止时间。</p>
<p>公钥：有效的公钥及其使用方法。</p>
<h2 id="安全套阶层协议SSL"><a href="#安全套阶层协议SSL" class="headerlink" title="安全套阶层协议SSL"></a>安全套阶层协议SSL</h2><p>SSL可以对万维网客户与服务器之间传送的数据进行加密和鉴别。在双方握手阶段，对将要使用的加密算法和双方共享的会话密钥进行协商，完成客户与服务器之间的鉴别。在握手完成后，所传送的数据都使用会话密钥进行传输。</p>
<p>1、SSL协议的功能</p>
<p>（1）SSL服务器鉴别：允许用户证实服务器的身份。具有SSL功能的浏览器维持一个表，上面有一些可信的认证中心CA及其公钥。当浏览器要和一个具有SSL功能的服务器进行商务活动的时候，浏览器就从服务器得到含有服务器公钥的证书。此证书是由某个认证中心CA发出的。</p>
<p>（2）加密的SSL会话：客户和服务器交互的数据都在发送方加密，在接收方解密。</p>
<p>（3）SSL客户鉴别：属于SSL可选的安全服务。允许服务器证实客户的身份。这个信息对服务器很重要。例如：当银行把有关财务的机密信息发送给客户的时候，就必须检验接收者的身份。</p>
<p>2、SSL的子协议</p>
<p>（1）SSL报警协议：用来为对等实体传递SSL的相关警告。如果通信过程中某一方发现任何异常，就需要给对方发送一条警示消息通告。</p>
<p>（2）SSL记录协议：建立在可靠的传输协议（如TCP）之上，为高层协议提供数据封装、压缩、加密等基本功能的支持。</p>
<p>（3）SSL握手协议：建立在SSL记录协议之上，用于在实际的数据传输开始前，通讯双方进行身份认证、协商加密算法、交换加密密钥等。</p>
<p>3、SSL工作原理</p>
<p>假设A有一个使用SSL的安全网页。B上网时候点击到这个安全网页的连接（https，不是http）。接着浏览器和服务器就进行握手协议，主要过程：</p>
<p>（1）浏览器向服务器发送浏览器的SSL版本号和密码编码的参数选择（协商采用哪种对称密钥算法）。</p>
<p>（2）服务器向浏览器发送服务器的SSL版本号、密码编码的参数选择以及服务器的证书。证书是由某个认证中心用自己的密钥加密，然后发送给服务器的。</p>
<p>（3）浏览器有一个可信的CA表，表中有每一个CA的公钥。当浏览器收到服务器发来的证书时，就检查此证书的发行者是否在自己的可信CA列表中。如不在，则后面的加密和鉴别连接就不能进行下去。如在，浏览器就使用CA相应的公钥对证书解密，这样就得到了服务器的公钥。</p>
<p>（4）浏览器随机的产生一个对称会话密钥，并用服务器的公钥进行加密，然后将加密后的会话密钥发送给服务器。服务器可以用是自己的私钥进行解密，得到会话密钥。</p>
<p>（5）浏览器向服务器发送一个报文。说明以后浏览器都将使用此会话密码进行加密，然后浏览器再向服务器发送一个单独的加密报文，指出浏览器的握手过程已经完成。</p>
<p>（6）服务器也向浏览器发送一个报文，说明以后服务器使用此会话密码进行加密，然后服务器再向浏览器发送一个单独的加密报文，指出服务器的握手过程已经完成。</p>
<p>（7）SSL握手过程已经完成，下面就可以开始SSL的会话过程，浏览器和服务器都可以使用这个会话密码对传送的报文进行加密。</p>
<p>SSL作用在应用层的HTTP和传输层之间，在TCP商建立起一个安全通道，为通过TCP传输的应用层数据提供安全保障。</p>
<p>国际互联网工程任务组在SSL3.0版本的基础上设计了TLS协议，现在使用最多的传输层安全协议就是TLS。</p>
<h2 id="安全电子交易SET"><a href="#安全电子交易SET" class="headerlink" title="安全电子交易SET"></a>安全电子交易SET</h2><p>主要用于网上信用卡支付</p>
<p>SET专门为支付有关的报文进行加密；SET协议涉及到三方：客户、商家、银行；SET要求三方都有证书</p>
<h2 id="PGP协议"><a href="#PGP协议" class="headerlink" title="PGP协议"></a>PGP协议</h2><p>PGP是一个完整的电子邮件安全软件包，包括加密、鉴别、电器签名和压缩等技术。提供电子邮件的安全性、发送方鉴别和报文完整性功能。</p>
<p>假设A向B发送电子邮件明文X，现在我们用PGB进行加密。</p>
<p>A有三个密钥：自己的私钥、B的公钥和自己生产的一次性密钥。</p>
<p>B有两个密钥：自己的私钥和A的公钥。</p>
<p>A需要做以下几件事：</p>
<p>（1）对明文X进行MD5报文摘要运算，得出报文摘要H。用自己的私钥对H进行数字签名，得出签了名的报文摘要D(H)，把它拼接到X的后面，得到报文X+D(H)。</p>
<p>（2）使用自己的一次性密钥对报文X+D(H)进行加密。</p>
<p>（3）用B的公钥对自己生成的一次性密钥进行加密。</p>
<p>（4）把加了密的一次性密钥和加了密的报文X+D(H)发送给B。</p>
<p>B收到加密的密文后要做以下几件事：</p>
<p>（1）把被加密的一次性密钥和被加密的报文X+D(H)分离开。</p>
<p>（2）用自己的私钥解出A的一次性密钥。</p>
<p>（3）用解出的一次性密钥对加密的报文X+D(H)解密，然后分理处明文X和摘要D(H)。</p>
<p>（4）用A的公钥对摘要D(H)进行签名核实，得出报文摘要H。</p>
<p>（5）对X进行报文摘要运算，得出报文摘要，看是否和报文摘要H一致，如果一样，电子邮件的发送方鉴别就通过了，报文的完整性得到肯定。</p>
<h2 id="S-MIME协议"><a href="#S-MIME协议" class="headerlink" title="S/MIME协议"></a>S/MIME协议</h2><p>年全的多用途Internet邮件扩展S/MIME协是一种Internet标准，它在安全方面对MIME协议进行了扩展，可以将MIME实体（比如数字签名和加密信息等）封装成安全对象，为电子邮件应用增添了消息的真实性、完整性和保密性服务。S/MIME不局限于电子邮件，也可以被其他支持MIME的传输机制使用，如HTTP。S/MIME标准中，用户必须从信任的证书办法机构申请X.509 v3数字证书中，由权威CA机构验证用户真实身份并签署公钥，确保用户公钥可信，收件人通过证书公钥验证发件人身份真实性。S/MIME不仅保护文本消息，还能保护各种附件/数据文件。相对于PGP来说，S/MIME具备更广泛的行业支持特性。</p>
<h2 id="网闸"><a href="#网闸" class="headerlink" title="网闸"></a>网闸</h2><p>安全隔离与信息交换系统（GAP）</p>
<p>计算机网络是基于协议实现连接的。所有的攻击都是网络协议的一层或多层上进行。如果断开TCP/IP体系结构的所有层协议，就可以消除来自网络潜在的攻击。</p>
<p>网闸的功能：</p>
<p>（1）摆渡：网闸与防火墙等网络安全设备不同的地方是他阻断通信的连接，网闸只完成数据的交换，没有业务的连接，如同网络的”物理隔离“。网闸其实就是模拟人工数据倒换，利用中间数据倒换区，分时地与内外网连接，但一个时刻只与一个网络连接，保持”物理的分离“，实现数据的倒换。消除了物理层和数据链路层的漏洞。</p>
<p>（2）裸体检查：传统网络的信息传输是一层层进行封装，在每一层中按照协议进行转发。摆渡消除了物理层和数据链路层的漏洞，但无法消除上面各层的漏洞。要想完全消除漏洞，还必须进一步剥离上层协议。在网闸工作的时候，会经过一个剥离-检测-重新封装的过程，首先会把数据包做剥离分解，然后对静态的裸数据进做安全审查，再用特殊的内部协议封装后转发，到达对端网络再重新按照TCP/IP协议进行封装。</p>
<h2 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h2><p>1、防火墙基本功能</p>
<p>（1）访问控制功能。通过进制或允许特定用户访问特定的资源，保护网络的内部资源和数据。需要禁止非授权的访问，防火墙需要识别哪个用户可以访问哪种资源。它包括子服务控制、方向控制、用户控制、行为控制等功能。</p>
<p>（2）内容控制功能。根据数据内容进行控制，比如防火墙可以从电子邮件中过滤掉垃圾邮件，可以过滤掉内部用户访问外部网络的图片信息，也可以限制外部访问，使他们只能访问本地Web服务器中的一部分信息。简单的数据包过滤路由器不能实现这样的功能，但是代理服务器和先进的数据包过滤技术可以做到。</p>
<p>（3）全面的日志功能。防火墙需要完整的记录网络访问情况，包括内外网进出的访问呢，需要记录访问是什么时候进行了什么操作，以检查网络访问情况。一旦网络发生了入侵或者遭到了破坏，就可以对日志进行审计和查询。日志需要有全面记录和方便查询的功能。</p>
<p>（4）集中管理功能。防火墙是一个安全设备，针对不同的网络情况和安全需要，需要制定不同的安全策略，然后在防火墙上实施，使用中还需要根据情况改变安全策略，而且在一个安全体系中，防火墙可能不止一台，所以防火墙应该是易于集中管理的，这样管理员就可以方便地实施安全策略。</p>
<p>（5）自身的安全和可用性。防火墙包保证自身的安全不被非法侵入，如果防火墙被侵入，防火墙的安全策略被修改，这样内部网络就变得不安全。防火墙也要保证可用性，否则网络就会中断，网络连接就会失去意义。</p>
<p>（6）附加功能</p>
<p>■流量控制：针对不同的用户限制不同的流量，可以合理使用带宽资源。</p>
<p>■网络地址转换：通过修改网络数据包的源地址（端口）或者目的地址（端口）来达到节省IP地址资源，隐藏内部IP地址功能的一种技术。</p>
<p>■虚拟专用网络：指利用数据封装和加密技术，使本来只能在私有网络上传送的数据能够通过公共网络进行传输，使系统费用大大降低。</p>
<p>2、防火墙的区域划分</p>
<p>（1）Trust区域：本区域内的网络受信程度高，通常用来定义内部用户所在的网络。</p>
<p>（2）DMZ区域：本区域内的网络受信程度中等，通常用来定义公共服务器所在的区域。</p>
<p>（3）Untrust区域：本区域代表的时不受信任网络，通常用来定义Internet等不安全的网络。</p>
<p>（4）Local区域：防火墙自身所在的区域，包括防火墙设备的各接口本身。由于Local区域的特殊性，在很多需要设备本身进行报文收发的应用中，需要开发对端所在安全区域与Local区域之间的安全策略。包括需要对设备本身进行管理的情况下，例如Telnet登陆、Web登陆、接入SNMP网管等。</p>
<p>在华为防火墙中，每个安全区域都有一个安全级别，用1~100表示，数字越大，代表这个区域越可信。默认情况下，Local区域的安全级别100、Trust区域85、DMZ为50、Untrust区域5。</p>
<p>安全域间的数据流动具有方向性，包括入方向（Inbound）和出方向（Outbound）。</p>
<p>入方向：数据由低优先级的安全区域向包优先级的安全区域传输。</p>
<p>出方向：数据由高优先级的安全区域向低优先级的安全区域传输。</p>
<p>3、防火墙的工作模式</p>
<p>（1）路由模式</p>
<p>当防火墙位于内部网络和外部网络之间时，需要将防火墙与内部网络、外部网络以及DMZ三个区域相连的接口分别配置成不同网段的IP地址。采用路由模式时，可以完成ACL包过滤、ASPF（针对应用层的包动态过滤）、NAT转换等功能。然而，路由模式需要对网络拓扑进行修改（内部网络用户需要更改网关、更改路由器配置等）。</p>
<p>（2）透明模式</p>
<p>采用透明模式时，只需在网络中像放置网桥一样放置该防火墙设备即可，无需修改任何已有的配置，可以避免改变拓扑结构造成的麻烦，但透明模式会损失一些功能的支持，比如路由、VPN等。</p>
<p>（3）混合模式</p>
<p>如果防火墙既存在工作在路由模式的接口（接口具有IP地址），又存在工作在透明模式的接口（接口无IP地址），则防火墙工作在混合模式下。混合模式主要用于透明模式作双击备份的情况，此时启动虚拟路由冗余协议VRRP功能的接口需要配置IP地址，其他接口不配置IP地址。</p>
<p>4、防火墙的类型</p>
<p>（1）包过滤防火墙</p>
<p>工作在网络层</p>
<p>包过滤防火墙通过配置访问控制列表ACL实施数据包的过滤。实施过滤主要是基于数据包中的IP层所承载的上层协议的协议号、源/目的IP地址、源/目的端口号和报文传递的方向等信息。</p>
<p>包过滤应用在防火墙中，对需要转发的数据包，先获取数据包的包头信息，然后和设定的ACL规则进行比较，根据比较的结果决定对数据进行转发或者丢弃。</p>
<p>缺点是无法对数据报的内容进行核查，一次无法过滤或审核数据报的内容；无法提供描述细致事件的日志系统；所有可能用到的端口都必须开放，对外界暴漏，增加了被攻击的可能性。</p>
<p>（2）应用代理型防火墙</p>
<p>工作在应用层</p>
<p>优点是安全性高。可以针对应用层进行侦测和扫描，对付基于应用层的侵入和病毒都十分有效。其缺点是对系统的整体性有较大的影响，而且代理服务器必须针对客户机可能产生的所有应用类型逐一进行设置，大大增加了系统管理的复杂性。</p>
<p>（3）状态检测性防火墙</p>
<p>包过滤防火墙只根据设定好的静态规则来判断是否允许报文通过，它认为报文都是无状态的孤立个体，不关注报文产生的前因后果，这就要求包过滤防火墙比必须针对每一个方向上的报文都配置一条规则，转发效率低下而且容易带来安全风险。</p>
<p>状态检测防火墙使用基于连接状态的检测机制，将通信双方之间交互的属于同一连接的所有报文都作为整个的数据流来对待。在状态检测防火墙来看，同一个数据流内的报文不再是孤立的个体，而是存在联系的。例如：对数据流的第一个报文建立会话，数据流内的后续报文就会直接匹配会话转发，不需要在进行规则的检查，提高了转发效率。</p>
<p>5、防火墙的部署</p>
<p>防火墙部署位置一般为外联出口或者区域性出口位置，对内外流量进行安全隔离。大多情况下防火墙以直路方式连接到网络环境中，另外防火墙也可以以旁挂方式进行部署，可以在不改变现有网络物理拓扑的情况下，将防火墙部署到网络中，可以有选择地将通过汇聚交换机的流量引导到防火墙上，即对需要进行安全检测的流量引导到防火墙上进行处理，对不需要进行安全检测的流量直接通过汇聚交换机转发到核心交换机。</p>
<h2 id="入侵检测系统IDS"><a href="#入侵检测系统IDS" class="headerlink" title="入侵检测系统IDS"></a>入侵检测系统IDS</h2><p>1、入侵检测系统的原理</p>
<p>（1）收集待检测的原始数据，原始数据包括：原始网络数据包、系统调用记录、日志文件等；</p>
<p>（2）检测入侵行为，利用误用检测防火墙或一场入侵检测方法对收集到的数据进行分析，检测这些数据中是否含有入侵企图或入侵行为；</p>
<p>（3）响应攻击，入侵检测系统将相关攻击数据记录在数据库或日志文件中，同时发出报警信息，并采取进一步的响应行动，如拒绝接受来自该数据源的数据、追踪入侵行为等。</p>
<p>2、入侵检测系统的组成</p>
<p>CIDF体系结构</p>
<p>（1）事件产生器：负责从网络种抓取数据或者从主机读取各种日志，并进行预处理，例如协议数据包的解析、多于日志信息的去除等，形成原始的事件数据。</p>
<p>（2）事件分析器：根据一定的检测规则，从事件数据库读取相关记录，并与事件产生器传来的数据进行匹配，然后把匹配的结果发送给响应单元。</p>
<p>（3）事件数据库：事件数据库保存了各种恶意事件的特征或者正常事件的特征，并为事件分析器提供这些特征，共同完成事件的判别。</p>
<p>（4）响应单元：根据分析器的处理结果，进行一系列操作，包括记录事件、告警、通过、与防火墙进行通信、进行进一步处理等。</p>
<p>3、入侵检测技术</p>
<p>特征检测：又称为基于知识的检测，其前提是假定所有可能的入侵检测都是能被识别和表示的。对已知的攻击方法用一种特定的模式来标识，称为攻击签名。然后通过判断这些攻击签名是否出现来判断入侵行为是否发生，是一种直接的方法。</p>
<p>异常检测：又称为基于行为的检测，其前提是假设所有的入侵行为都是“不同寻常”的。首先要建立系统或用户的正常行为特征，通过比较当前系统或用户的行为是否偏离正常值来判断是否发生了入侵，是一种间接的检测方法。</p>
<p>4、入侵检测系统的部署</p>
<p>IDS典型不属于企业网络的核心节点，通过交换机镜像端口获得对目标流量的复制，进行攻击检测、内容恢复和应用审计等深度检测作业。网络边界流量、重要服务器流量都应纳入IDS系统的检测范围。</p>
<p>在交换式网络种，IDS的位置一般选择为：尽可能靠近攻击源、尽可能靠近受保护资源。</p>
<p>这些位置通常是：服务器区域的交换机上；Internet接入路由器之后的第一台交换机上；重点保护网段的局域网交换机上。</p>
<h2 id="入侵防御系统IPS"><a href="#入侵防御系统IPS" class="headerlink" title="入侵防御系统IPS"></a>入侵防御系统IPS</h2><p>IPS技术可以深度感知并检测流经的数据流量，对恶意报文进行丢弃以阻断攻击，对滥用报文进行限流以深度保护网络带宽资源。</p>
<p>IPS的设计思想是兼有入侵检测和对入侵做出反应两项功能。IPS在设计时，就已经将病毒检测、脆弱性评估、防火墙、入侵检测以及自动阻止攻击的功能融合考虑进入，从而在体系结构层面就避免了上述安全产品之间的相互孤立、缺乏有效联动的被动局面。同时大大节省了分别部署上述产品的资源和空间。IPS一般是以串联的形式直接嵌入到网络流量中的，这有别于IDS的并联方式。</p>
<h2 id="Web防护系统"><a href="#Web防护系统" class="headerlink" title="Web防护系统"></a>Web防护系统</h2><p>WAF工作在应用层，通常情况下，WAF放在企业对外提供网站服务的DMZ区域或者放在数据中心服务区域，决定WAF部署位置的是Web服务器的位置。</p>
<h2 id="虚拟专用网VPN"><a href="#虚拟专用网VPN" class="headerlink" title="虚拟专用网VPN"></a>虚拟专用网VPN</h2><p>VPN称为虚拟专用网络，其实质上就是利用加密技术在公网上封装出一个数据通讯隧道。所以VPN实现的两个关键技术就是隧道技术和加密技术。对于用户来说，节省了租用专线网络的费用。</p>
<p>1、VPN的类型</p>
<p>根据实现互联的层次，主要的VPN技术分为L2TP VPN、PPTP VPN、MPLS VPN、IPSEC VPN、GRE VPN、SSL VPN。</p>
<p>（1）L2TP VPN</p>
<p>属于二层隧道VPN，在数据链路层采用隧道技术实现专网的互联，可以跨越多种WLAN，如PSTN、帧中继、X.25、ATM等网络。</p>
<p>（2）PPTP VPN</p>
<p>属于点到点隧道协议VPN，在数据链路层实现互联。PPTN只支持IP作为传输协议。</p>
<p>（3）MPLS VPN</p>
<p>采用MPLS（多协议标记交换）技术在骨干的宽带IP网络上构建企业IP专网，实现跨地域、安全、高速、可靠的通信。</p>
<p>MPLS的一个重要特点就是不用长度可变的IP地址网络前缀来查找路由表中的匹配项目，而是利用标记（label）进行数据转发的。当分组进入网络时，要为其分配固定长度的短标记，并将标记与分组封装在一起，在整个转发过程中，交换节点仅根据标记进行转发。转发的过程就省去了每到达一个路由器都要上升到第三层用用软件去查找路由表的过程，而是根据标记在第二层用硬件转发，所以转发速率大大提高。</p>
<p>MPLS位于链路层和网络层之间，它可以建立多种链路层协议（如PPP、ATM、帧中继、以太网等）之上，为各种网络层（IPv4、IPv6、IPX等）提供面向连接的服务，兼容现有各种主流网络技术。在MPLS中，数据交换发生在标签交换路径（LSP）上。LSP是每一个沿着从源端到终端的路径上的结点的标签序列。</p>
<p>传统的VPN一般是通过GRE、L2TP、PPTP、IPSEC等隧道协议来实现私有网络间数据流在公网上的传递。而LSP本身就是公网上的隧道，所以用MPLS来实现VPN有天然的优势。</p>
<p>（4）IPSEC VPN</p>
<p>网际协议安全性VPN，在网络层实现互联。</p>
<p>（5）GRE VPN</p>
<p>通用路由封装VPN，在网络层实现互联，支持IP、IPX</p>
<p>、Appletalk等多种网络协议。</p>
<p>（6）SSL VPN</p>
<p>SSL VPN以HTTPS为基础。SSL VPN广泛应用在基于Web的远程安全接入，为用户远程访问公司内部网络提供了安全保证。</p>
<h2 id="IPSEC-VPN"><a href="#IPSEC-VPN" class="headerlink" title="IPSEC VPN"></a>IPSEC VPN</h2><p>IPSEC VPN是目前VPN技术中使用率非常高的一项技术，同时提供VPN和信息加密加密两项技术。</p>
<p>1、IPSEC的协议框架</p>
<p>IPSEC不是一个单独的协议，它给出了应用于IP层上网络数据安全的一整套体系结构。该体系结构包括认证头协议AH、封装安全负载协议ESP、密钥管理协议IKE和用于网络认证及加密的一些算法等。IPSEC规定了如何在对等实体之间选择安全协议、确定安全算法和密钥交换，向上提供了数据源认证、数据加密、数据完整性等网络安全服务。</p>
<p>（1）认证头协议AH</p>
<p>认证头协议AH不能加密，只能对数据报进行验证、验证报文的完整性。AH采用了安全哈希算法（MD5和SH1实现），防止黑客在网络中插入伪造的数据包，也能防止抵赖。采用AH协议的话，在IP包转发过程中，IP头中一些部分是变化的（比如服务类型TOS、TTL、分片相关的字段、校验和），因此在计算数据包完整性校验值的时候，必须把这些字段设置为0，不参与计算。IP协议包中的协议字段是51，表示采用AH。AH的缺陷就是在于不能对数据加密，AH模式无法与NAT一起运行。</p>
<p>（2）封装安全载荷协议ESP</p>
<p>封装安全载荷协议ESO既可以保证数据包的机密性（ESP通产使用DES、3DES、AES、国密SM1、SM4等加密算法实现），有保证了数据包在传输过程中的完整性身份验证（使用MD5和SHA1来实现）。IP协议包中的协议字段是50，表示采用ESP，ESP协议能兼容NAT环境。</p>
<p>（3）密钥管理协议（IKE）</p>
<p>IKE是一种混合型协议，由Internet安全联盟（SA）和密钥管理协议（ISAKMP）这两种密钥交换协议组成。IKE并不会在网络上直接发送密钥，而是通过DH算法进行一系列数据的交换，最终计算出通信双方共享的密钥。可以安全地分发密钥，而且还可以进一步提供机密性、消息完整性以及信息源点鉴别服务，IKE方式安全性恒奥，IKE方式建立的安全联盟SA，其生存周期由双方配置的生存周期参数控制。对于大中型网络，推荐使用IKE自动协商建立SA。</p>
<p>2、IPSEC的操作模式</p>
<p>（1）传输模式</p>
<p>在传输模式下，IPSEC包头（AH头或ESP）增加在源IP包头和数据之间，在整个传输层报文段的后面和前面添加了一些控制字段，构成IPSEC数据报。这种方式把整个传输层报文段都保护起来。因此只能保证原IP包数据部分的安全性。在使用传输模式的时候，所有加密、解密和协商操作都是在主机上配置，而网络设备只执行正常的路由转发，不参与IPSEC的过程。</p>
<p>（2）隧道模式</p>
<p>隧道模式是对整个IP数据包提供安全传输机制。是在一个IP数据报的后面和前面都添加一些控制字段，构成IPSEC数据报。在后面增加新的IP头部，分别是两个站点网关的源地址和目的地址。在隧道模式中，两个网关路由器运行IPSEC协议，所有的加密、解密和协商工作都是由网关路由器来完成的，对主机系统透明。IPSEC的隧道模式经常用来实现虚拟专用网VPN。</p>
<p>3、IPSEC的工作流程</p>
<p>IPSEC工作时，首先两端的网络设备必须就安全联盟SA达成一致。安全联盟SA是IPSEC的基础，安全联盟SA是通信两端对等体对某些要素的约定，例如使用哪种协议、协议的操作模式、加密算法、特定流中保护数据的共享密钥以及SA的生存周期等。</p>
<p>安全联盟是单项的，在两个通信端对等体之间的双向通信，最少需要两个俺去那联盟来分别对两个方向的数据流进行安全保护。</p>
<p>采用IKEv1协商安全联盟主要分为两个阶段：第一阶段，通信双方协商和建立IKE协议本身使用的安全通道，即建立一个IKE SA；第二阶段，利用第一阶段以通过认证和安全保护的安全通道，建立一对用于数据安全传输的IPSEC SA。</p>
<p>■协商阶段一支持两种协商模式：主模式和野蛮模式。主模式能保护设备的身份信息，但需要在两台设备之间相互交换6个信息，而野蛮模式不会在阶段一协商时保护设备的身份信息，但双方设备只需要相互交换3个消息就可以完成协商，发送方和接收方把IKE安全提议、密钥相关信息和身份信息全放在一个ISAKMP发送给对方，虽然IKE协商效率提升了，但由于身份信息是明文传输，没有加密和完整性验证过程，所以安全性降低了。</p>
<p>■协商阶段二的目的是建立用来安全传输数据的IPSEC SA，并为数据传输衍生出密钥。这一阶段采用快速模式，该模式使用协商阶段一中生成的密钥对ISAKMP消息的完整性和身份进行验证，并对ISAKMP消息进行加密，故保证了交换的安全性。</p>
<h1 id="第十二章-网络规划与设计"><a href="#第十二章-网络规划与设计" class="headerlink" title="第十二章    网络规划与设计"></a>第十二章    网络规划与设计</h1><h2 id="网络结构设计"><a href="#网络结构设计" class="headerlink" title="网络结构设计"></a>网络结构设计</h2><p>三层层次化模型主要讲网络划分为核心层、汇聚层和接入层。</p>
<p>（1）核心层</p>
<p>核心层应该具备高可靠性，能够快速适应变化。</p>
<p>在设计核心层设备的功能时，应尽量避免使用数据包过滤、策略路由等降低数据报转发处理的特性，以优化核心层获得低延迟和良好的可管理性。</p>
<p>核心层应该控制范围，如果核心层覆盖的范围过大，连接的设备过多，会导致网络管理性降低；所以需要在层次设计中增加会汇聚层路由器和接入层路交换机以及用户局域网，这样就可以不增加核心层的范围。</p>
<p>（2）汇聚层</p>
<p>汇聚层是核心层和接入层的分界点，应在汇聚层实施队资源访问的控制。为保证层次化的特性，汇聚层应该向核心层隐藏接入层的详细信息。汇聚层设备的可靠性比较重要，某台汇聚层设备或链路失效就会导致下面所有接入层设备用户无法访问网络。并且考虑到成本因素，汇聚层采用的是中断网络设备，采用冗余链路连接核心层和接入层设备，提高可靠性，必要的时候，也对汇聚层设备采用冗余方式提高可靠性。</p>
<p>在网络中实现大量复杂策略是由汇聚层负责的，比如路由策略、安全策略、QOS策略、广播域的定义等。</p>
<p>（3）接入层</p>
<p>接入层在网络中直接面向用户连接或访问的部分，所以接入层应该提供种类丰富、数量多的端口，去提供强大的接入功能，在大中型网络里，接入层还应当适当负责一些用户管理功能（如地址认证、用户认证、计费管理等），以及用户信息收集（如用户的IP地址、MAC地址、访问日志等）。</p>
<h2 id="网络冗余设计"><a href="#网络冗余设计" class="headerlink" title="网络冗余设计"></a>网络冗余设计</h2><p>网络冗余设计允许通过设置双重网络元素来满足网络的可用性需求，冗余降低了网络的单点失效，其目标是重复设置网络组件，以避免单个组建的失效而导致应用失效。这些组件可以是一台核心路由器、交换机、可以是两台设备间的一条链路，可以是一个广域网连接，可以是电源、风扇和设备引擎等设备上的模块。对于某些大型网络来说，为了确保网络种的信息安全，在独立的数据中心之外，还设置了冗余的灾备中心，以保证数据备份或者应用在故障下的切换。</p>
<p>在网络冗余设计中，对于通信线路常见的设计目标主要有两个：一个是备用路径，另外一个是负载分担。</p>
<p>1、备用路径</p>
<p>备用路径主要是为了提高网络的可用性。当一条路径或者多条路径出现故障时，位了保障网络的连通，网络中必须存在冗余的备用路径。备用路径由路由器、交换机等设备之间的独立备用链路构成，一般情况下，备用路径仅仅在主路径失效时投入使用。</p>
<p>2、负载分担</p>
<p>负载分担是通过同于的形式来提高网络的性能，是对备用路径方式的扩充。负载分担是通过并行链路提供流量分担来提高网络性能，其主要的实现方法是利用两个过多个网络接口和路径来同时传递流量。</p>
<h2 id="IP地址规划"><a href="#IP地址规划" class="headerlink" title="IP地址规划"></a>IP地址规划</h2><p>IP地址规划的好坏，影响到网络路由协议算法的效率，影响到网络 的性能，影响到网络的扩展，影响到网络的管理。</p>
<p>IP地址规划的基本原则包括唯一性、连续性、扩展性和实意性。</p>
<p>1、唯一性</p>
<p>一个IP网络种不能有两个主机采用相同的IP地址。即使使用了支持地址重叠的MPLS/VPN技术，也尽量不要规划为相同的地址。</p>
<p>2、连续性</p>
<p>连续地址在层次结构网络种易于进行路由聚合，大大减少路由表的条目，提高路由算法的效率。</p>
<p>3、扩展性</p>
<p>IP地址分配的时候要留有余地，适应未来网络发展的需要。</p>
<p>4、实意性</p>
<p>好的IP地址规划使每个地址具有实际含义，看到一个地址就可以大至能判断出该地址所属的设备。这是IP地址规划中最具技巧性和艺术性的部分。</p>
<h2 id="物理网络设计"><a href="#物理网络设计" class="headerlink" title="物理网络设计"></a>物理网络设计</h2><p>物理网络设计的任务是为所设计的逻辑网络设计特定的物理环境平台，主要包括结构化布线系统设计、机房环境设计、设备选型、网络实施，这些内容要有相应的物理设计文档。由于逻辑网络设计是物理网络设计的基础，因此逻辑网络设计的商业目标、技术需求、网络通信特征等因素都会影响物理网络设计。</p>
<h2 id="综合布线系统"><a href="#综合布线系统" class="headerlink" title="综合布线系统"></a>综合布线系统</h2><p>1、工作区子系统（Work Location）</p>
<p>工作区子系统是由终端设备到信息插座的整个区域。一个独立的需要安装终端设备的区域划分为一个工作区。工作区应支持电话、数据终端、计算机、电视机、监视器以及传感器等多种终端设备。</p>
<p>信息差错的类型应根据终端设备的种类而定。信息插座的安装方式分为嵌入式（新建筑物）和表面安装（老建筑物）两种方式，信息插座通常安装在工作间四周的墙壁下方，距离地面30cm，也有的安装在用户的办公桌上。</p>
<p>2、水平布线系统（Horiontal）</p>
<p>各个楼层接线间的配线架到工作区信息插座之间安装的线缆属于水平子系统。从楼层接线间的配线架至工作区的信息点的最大长度控制在90米以内。</p>
<p>水平子系统的作用是将干线子系统线路延伸到用户工作区。在进行水平布线时，传输介质之间不宜有转折点，两端应直接从配线架连接到工作区的信息插座。水平布线的布线通道有两种：一种是暗管预埋、墙面引线方式，另一种是地下管槽、地面引线方式。前者适用于多数建筑系统，一旦铺设完成，不易更改和维护；后者适合于少墙多柱的环境，更改和维护方便。</p>
<p>3、管理子系统（Administration）</p>
<p>管理子系统设置在楼层的接线间内，由各种交连设备（双绞线跳线架、光纤跳线架）以及集线器和交换机等交换设备组成，交连方式取决于拓扑结构和工作区设备的要求。交连设备通过水平布线子系统连接到各个工作区的信息插座，集线器或交换机与交连设备之间通过短线缆互联，这些短线被称为跳线。通过跳线的调整，可以对工作区的信息插座和交换机端口之间进行连接切换。</p>
<p>高层大楼采用多点管理方式，每一楼层要有一个配线间，用于防止交换机、集线器以及配线架等设备。如果楼层较少，宜采用单点管理方式，管理点就设在大楼的设备间内。</p>
<p>4、干线子系统（Backbone）</p>
<p>干线子系统是建筑物的主干线缆，实现各楼层设备间子系统之间的互联。干线子系统通常由垂直的大对数铜缆或光缆组成，一头端接于设备间的主配线架上，另一头端接在楼层接线间的管理配线架上。</p>
<p>竹竿子系统在设计时，对于旧建筑物，主要采用楼层牵引管方式铺设，对于新建筑物，则利用建筑物的线井进行朴铺设。</p>
<p>5、设备间子系统（EquIPment）（机房）</p>
<p>建筑物的设备间是网络管理人员值班的场所，设备间子系统由建筑物的进户线、交换设备、电话、计算机、适配器以及保安设施组成，实现中央著配线架与各种不同设备（如PBX、网络设备和监控设备等）之间的连接。</p>
<p>在选择设备间的位置时，要考虑连接方便性，要考虑安装与维护的方便，设备间通常选择在建筑物的中间漏乘。设备间要有防雷击、防过压过流的保护设备，通常还要配备不间断电源。</p>
<p>6、建筑群子系统（Campus）</p>
<p>建筑群子系统给也叫园区子系统，它是连接各个建筑物的通信系统。大楼之间的布线方法有三种，一种是地下管道敷设方式，管道内敷设的铜缆或光缆应遵循电话管道和入孔的各种规定，安装时至少应预留1到2个备用管控，以备扩充至之用；第二种是直埋法，要在同一个沟内埋入通信和监控电缆，并应设立明显的地面标志；第三种是架空明线，这种方法需要经常维护。</p>
<h1 id="第十三章-Windows服务器配置"><a href="#第十三章-Windows服务器配置" class="headerlink" title="第十三章    Windows服务器配置"></a>第十三章    Windows服务器配置</h1><h2 id="Web服务器配置"><a href="#Web服务器配置" class="headerlink" title="Web服务器配置"></a>Web服务器配置</h2><p>1、安装和配置Web站点</p>
<p>（1）安装ISS（Windows Server 2008 R2）</p>
<p>① 【开始】→【管理工具】→【服务器管理器】</p>
<p>② 【角色】→【添加角色】→【下一步】</p>
<p>③ 【服务器角色】→【Web服务器（IIS）】→【下一步】</p>
<p>④ 【角色服务】（默认）→【下一步】</p>
<p>⑤ 【确认】→【安装】</p>
<p>⑥ 安装IIS角色时，会自动创建一个默认站点，可以使用服务器的IP地址访问该站点。</p>
<p>（2）配置网站</p>
<p>添加IIS服务器角色后，可以使用“Internet信息服务（IIS）管理器”来配置网站。</p>
<p>① 配置站点的IP地址和TCP端口</p>
<p>【操作】→【绑定】→【网站 绑定】→【编辑】→【编辑网站绑定】</p>
<p>② 配置默认文档</p>
<p>物理路径：【操作】→【基本设置】→【编辑网站】</p>
<p>配置【默认文档】【目录浏览】</p>
<p>2、 配置虚拟目录和虚拟主机</p>
<p>1、创建虚拟目录</p>
<p>选择自己搭建的站点→【添加虚拟服目录】</p>
<p>2、虚拟主机</p>
<p>虚拟目录是在一个网站上把不同的文件存放在不同的位置。虚拟主机是指在一台计算机上搭建多个网页站点。</p>
<p>（1）使用不同的IP</p>
<p>（2）使用相同的IP，不同的TCP端口</p>
<p>（3）使用相同IP和TCP，不同域名</p>
<p>3、站点安全设置</p>
<p>对于一般站点而言，通常是使用匿名方式访问的。但是在某些场合下基于安全性的考虑，需要坐出特定的设置。例如需要账户密码才能访问或是允许（或禁止）特定的IP访问。</p>
<p>（1）匿名身份验证：启动匿名身份认证后用户不要输入用户名和密码，WEB服务器实际给用户分配都是IUSR账户。</p>
<p>（2）Windows身份认证：Windows身份验证是一种安全的验证方式，也必须要求用户输入用户账号和密码，但用户名和密码再通过网络发送前会经过散列处理，所以可以确保安全。适用于连接内部网络的网站。</p>
<p>（3）基本身份验证：这种验证会模仿一个本地用户（即实际登录到服务器的用户）。用户必须具有本地登陆的权限。但这种方法会导致密码以没有加密的形式在网络种传输，恶意用户可能会在身份验证过程中使用协议分析程序破译用户和密码。</p>
<p>（4）摘要式身份认证：要求输入用户名和密码，密码不是以明文方式发送的。用户和IIS服务器必须是同一个域的成员或被同一个域信任。用户可以通过代理服务器使用摘要式身份认证。</p>
<p>4、HTTPS设置</p>
<p>（1）配置CA证书服务器</p>
<p>（2）新建自签名证书并配置HTTPS</p>
<h2 id="FTP服务器配置"><a href="#FTP服务器配置" class="headerlink" title="FTP服务器配置"></a>FTP服务器配置</h2><p>FTP使用客户端/服务器架构，在客户端和服务器之间使用单独的控制和数据连接。FTP用户通常以用户名和密码的形式进行身份验证，但是如果服务器配置为允许匿名用户，则可以使用匿名方式登陆，默认情况下，匿名用户名是“anonymous”。</p>
<p>1、安装和配置FTP站点</p>
<p>2、配置FTP站点</p>
<h2 id="DNS服务器配置"><a href="#DNS服务器配置" class="headerlink" title="DNS服务器配置"></a>DNS服务器配置</h2><p>1、安装DNS服务器</p>
<p>2、配置DNS服务器正向区域记录</p>
<p>3、配置DNS服务器反向区域记录</p>
<p>4、转发器设置</p>
<p>5、DNS其他设置</p>
<h2 id="DHCP服务器配置"><a href="#DHCP服务器配置" class="headerlink" title="DHCP服务器配置"></a>DHCP服务器配置</h2><p>1、安装DHCP服务器</p>
<p>2、配置DHCP服务器</p>
<p>3、DHCP中继代理</p>
<h1 id="第十四章-Linux服务器设置"><a href="#第十四章-Linux服务器设置" class="headerlink" title="第十四章    Linux服务器设置"></a>第十四章    Linux服务器设置</h1><h2 id="DHCP服务器配置-1"><a href="#DHCP服务器配置-1" class="headerlink" title="DHCP服务器配置"></a>DHCP服务器配置</h2><p>1、配置文件存放路径</p>
<p>/var/lib/dhcp/dhcp.leases</p>
<p>2、主要配置文件语法说明</p>
<p>3、DHCP服务器的启动与关闭</p>
<p>service dhcpd start/stop</p>
<h2 id="DNS服务器配置-1"><a href="#DNS服务器配置-1" class="headerlink" title="DNS服务器配置"></a>DNS服务器配置</h2><p>1、配置文件存放路径</p>
<p>/etc/named.conf</p>
<p>2、主要配置文件的语法说明</p>
<p>（1）客户端设置</p>
<p>■ /etc/hosts</p>
<p>■ /etc/resolv.conf</p>
<p>■ /etc/hosts.conf</p>
<p>（2）服务器的设置</p>
<p>■ name.conf</p>
<p>■ 正向查找区域</p>
<p>■ 反向查找区域</p>
<p>3、DNS服务器的启动与关闭</p>
<p>service named start/stop</p>
<h2 id="Samba服务器配置"><a href="#Samba服务器配置" class="headerlink" title="Samba服务器配置"></a>Samba服务器配置</h2><p>Samba是为Linux-Windows互连共享资源而设计的程序。主要用于不同操作平台间文件和打印机共享。</p>
<p>1、配置文件存放路径</p>
<p>/etc/samba/smb.conf</p>
<p>2、主要配置文件的语法说明</p>
<p>3、Samba服务的启动与关闭</p>
<p>service smb start/stop</p>
<h2 id="FTP服务器配置-1"><a href="#FTP服务器配置-1" class="headerlink" title="FTP服务器配置"></a>FTP服务器配置</h2><p>1、配置文件存放路径</p>
<p>/etc/vsftpd/vsftpd.conf</p>
<p>suer_list文件具有对vsftpd服务器灵活的用户访问控制，路径是/etc/vsftpd/user_list</p>
<p>2、主要配置文件的语法说明</p>
<p>3、VSFTP服务的启动与关闭</p>
<p>service vsftpd start/stop</p>
<h2 id="Apache服务器配置"><a href="#Apache服务器配置" class="headerlink" title="Apache服务器配置"></a>Apache服务器配置</h2><p>1、配置文件存放路径</p>
<p>/etc/httpd/conf/httpd.conf</p>
<p>2、主要配置文件的语法说明</p>
<p>3、Apache服务器的启动与关闭</p>
<p>service httpd start/stop</p>
<h1 id="第十五章-网络设备配置"><a href="#第十五章-网络设备配置" class="headerlink" title="第十五章    网络设备配置"></a>第十五章    网络设备配置</h1><h2 id="网络设备基本配置"><a href="#网络设备基本配置" class="headerlink" title="网络设备基本配置"></a>网络设备基本配置</h2><p>1、网络设备操作系统</p>
<p>华为：VRP</p>
<p>思科：IOS</p>
<p>2、常见的几种设备配置方式</p>
<p>console方式 、telent方式、web方式</p>
<p>3、配置文件</p>
<p>■ 运行配置：存放在RAM中</p>
<p>current configuration（华为）</p>
<p>running-config（思科）</p>
<p>■ 启动配置：存放在NVRAM中</p>
<p>saved-configuration（华为）</p>
<p>startup-config（华为）</p>
<p>4、保存当前配置到启动配置</p>
<p>华为：save</p>
<p>思科：wirte或copy running-config startup-config</p>
<h2 id="交换机基本命令"><a href="#交换机基本命令" class="headerlink" title="交换机基本命令"></a>交换机基本命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">1、基本配置</span><br><span class="line">&lt;HUAWEI&gt;display current-configuration</span><br><span class="line">&lt;HUAWEI&gt;system-view</span><br><span class="line">[HUAWEI]sysname R1</span><br><span class="line">[R1]interface gigabitetherent 0&#x2F;0&#x2F;1</span><br><span class="line">[R1-Gigabitetherent0&#x2F;0&#x2F;1]auto speed 1000	&#x2F;&#x2F;配置可自动协商速率</span><br><span class="line">[R1-Gigabitetherent]quit</span><br><span class="line">[R1]</span><br><span class="line"></span><br><span class="line">2、启动telent并配置vty路线登陆的验证方式</span><br><span class="line">[HUAWEI]telent server enable</span><br><span class="line">[HUAWEI]user-interface vty 0 4</span><br><span class="line">[HUAWEI-ui-vty0-4]protocol inbound telnet	&#x2F;&#x2F;配置vty支持telent协议</span><br><span class="line">[HUAWEI-ui-vty0-4]authentication-mode aaa|password|none		&#x2F;&#x2F;设置认证模式</span><br><span class="line">[HUAWEI-ui-vty0-4]quit</span><br><span class="line">[HUAWEI]aaa</span><br><span class="line">[HUAWEI-aaa]local-user user1 password inversible-cipher 123.com</span><br><span class="line">[HUAWEI-aaa]local-user user1 priviege level 3</span><br><span class="line">[HUAWEI-aaa]return</span><br><span class="line">&lt;HUAWEI&gt;save</span><br><span class="line"></span><br><span class="line">3、配置console用户验证方式</span><br><span class="line">[HUAWEI]user-interface console 0</span><br><span class="line">[HUAWEI-ui-console0]authentication-mode aaa|password|none</span><br><span class="line">[HUAWEI-ui-console0]set authentication password &#123;cipher password&#125;	&#x2F;&#x2F;cipher password可选参数，输入明文&#x2F;密文密码	</span><br><span class="line"></span><br><span class="line">4、配置端口隔离功能，实现本台交换机的两个接口之间的二层数据的隔离，而三层数据互通</span><br><span class="line">&lt;Switch&gt;system-view</span><br><span class="line">[Switch1]port-isolate mode 12</span><br><span class="line">[Switch1]interface gigabitetherent 1&#x2F;0&#x2F;1</span><br><span class="line">[Swtich-Gigabitetherent1&#x2F;0&#x2F;1]prot-isolate enable group1</span><br><span class="line">[Switch1]interface gigabitetherent 1&#x2F;0&#x2F;2</span><br><span class="line">[Swtich-Gigabitetherent1&#x2F;0&#x2F;2]prot-isolate enable group1</span><br><span class="line">即swtich1两个端口实现了二层隔离，注意，需要相互隔离的两个端口一定要加入相同的隔离组</span><br><span class="line"></span><br><span class="line">5、添加静态的MAC地址表象</span><br><span class="line">[switch]mac-address static 0001-0002-0003 Gigabitetherent1&#x2F;0&#x2F;3 vlan 5</span><br></pre></td></tr></table></figure>

<h2 id="VLAN配置"><a href="#VLAN配置" class="headerlink" title="VLAN配置"></a>VLAN配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1、创建VLAN</span><br><span class="line">[S1]vlan 100</span><br><span class="line">[S1]vlan batch 100 to 105</span><br><span class="line"></span><br><span class="line">2、配置端口类型</span><br><span class="line">[S1-Ethernet0&#x2F;1]port link-type access|trunk|hybrid</span><br><span class="line"></span><br><span class="line">3、把端口加入到一个指定的VLAN</span><br><span class="line">[S1-Ethernet0&#x2F;1]port default vlan 100</span><br><span class="line"></span><br><span class="line">4、配置trunk中允许通过的VLAN</span><br><span class="line">[S1-Ethernet0&#x2F;1]port trunk allow-pass vlan 100|100 to 105|all</span><br><span class="line"></span><br><span class="line">5、指定hybrid端口以及tagged&#x2F;untagged方式加入VLAN</span><br><span class="line">[S1-Ethernet0&#x2F;1]port hybrid tagged|untagged vlan 100|100 to 105|all</span><br><span class="line"></span><br><span class="line">6、配置管理IP地址和子网掩码</span><br><span class="line">[S1]interface vlanif 1</span><br><span class="line">[S1-vlanif 1]ip address 192.168.0.1 255.255.255.0</span><br><span class="line"></span><br><span class="line">7、基于MAC地址划分VLAN的实现</span><br><span class="line">[S1]vlan 3</span><br><span class="line">[S1-vlan3]mac-vlan mac-address 22-22-22</span><br><span class="line">[S1-vlan3]quit</span><br><span class="line">[S1]interface gigabitetherent 0&#x2F;0&#x2F;1</span><br><span class="line">[S1-Gigabitetherent0&#x2F;0&#x2F;1]mac-vlan enable</span><br></pre></td></tr></table></figure>

<h2 id="GARP配置"><a href="#GARP配置" class="headerlink" title="GARP配置"></a>GARP配置</h2><p>GARP是一种通用属性注册协议，包括GVRP和GMAP两种应用，其中GVRP就类似于思科的VTP协议。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[S1]blan bach 2 3</span><br><span class="line">[S1]gvrp</span><br><span class="line">[S1]interface gigabitetherent 0&#x2F;0&#x2F;1</span><br><span class="line">[S1-Gigabitetherent0&#x2F;0&#x2F;1]port link-type trunk</span><br><span class="line">[S1-Gigabitetherent0&#x2F;0&#x2F;1]port trunk allow-pass vlan all</span><br><span class="line">[S1-Gigabitetherent0&#x2F;0&#x2F;1]gvrp</span><br><span class="line">[S1-Gigabitetherent0&#x2F;0&#x2F;1]gvrp registration normal</span><br><span class="line">[S1-Gigabitetherent0&#x2F;0&#x2F;1]quit</span><br><span class="line"></span><br><span class="line">&lt;S1&gt;display gvrp statistics</span><br></pre></td></tr></table></figure>

<h2 id="STP配置"><a href="#STP配置" class="headerlink" title="STP配置"></a>STP配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[HUAWEI]stp enable|disable</span><br><span class="line">[HUAWEI]stp mode stp|rstp</span><br><span class="line">[HUAWEI]stp root &#123;primary|secondary&#125;	&#x2F;&#x2F;设置为根桥或备份根桥</span><br><span class="line">[HUAWEI]stp pathcost-standard legacy	&#x2F;&#x2F;配置stp端口开销的计算方法为华为算法</span><br><span class="line">[HUAWEI]stp priority priority	&#x2F;&#x2F;设置网桥优先级</span><br><span class="line">[HUAWEI]interface gigabitetherent 0&#x2F;0&#x2F;1</span><br><span class="line">[HUAWEI-Gigabitetherent0&#x2F;0&#x2F;1]stp cost cost	&#x2F;&#x2F;设置端口开销</span><br><span class="line">[HUAWEI-Gigabitetherent0&#x2F;0&#x2F;1]stp priority priority	&#x2F;&#x2F;设置端口优先级  </span><br><span class="line">[HUAWEI-Gigabitetherent0&#x2F;0&#x2F;1]stp edged-port enable	&#x2F;&#x2F;配置端口为边缘端口</span><br><span class="line">[HUAWEI-Gigabitetherent0&#x2F;0&#x2F;1]stp bpdu-filter enable	&#x2F;&#x2F;启用端口BPDU报文过滤功能</span><br></pre></td></tr></table></figure>

<h2 id="DHCP配置"><a href="#DHCP配置" class="headerlink" title="DHCP配置"></a>DHCP配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1、充当DHCP服务器是路由器的一项重要功能</span><br><span class="line">[HUAWEI]dhcp enable</span><br><span class="line">[HUAWEI]ip pool pool1</span><br><span class="line">[HUAWEI-ip-pool-pool1]network 192.168.3.0 mask 255.255.255.0</span><br><span class="line">[HUAWEI-ip-pool-pool1]gateway-list 192.168.3.1</span><br><span class="line">[HUAWEI-ip-pool-pool1]lease day 1 hour 10</span><br><span class="line"></span><br><span class="line">[HUAWEI-Gigabitetherent0&#x2F;0&#x2F;1]dhcp select global	&#x2F;&#x2F;使能接口采用全局地址池的DHCP服务器功能</span><br><span class="line"></span><br><span class="line">2、DHCP中继相关配置</span><br><span class="line">[HUAWEI-Gigabitetherent0&#x2F;0&#x2F;1]dhcp relay serverip 192.168.1.10	&#x2F;&#x2F;配置DHCP中继所连接的DHCP服务器的IP地址</span><br></pre></td></tr></table></figure>

<h2 id="静态路由配置"><a href="#静态路由配置" class="headerlink" title="静态路由配置"></a>静态路由配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[RA]ip route-static 129.1.0.1 255.255.0.0 10.0.0.2</span><br><span class="line">等价于</span><br><span class="line">[RA]ip route-static 129.1.0.1 16 10.0.0.2</span><br><span class="line">[RA]ip route-static 129.1.0.1 s0</span><br><span class="line"></span><br><span class="line">&lt;RA&gt;display routing-table</span><br></pre></td></tr></table></figure>

<h2 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h2><p>1、路由协议的分类：</p>
<p>距离矢量路由协议：RIP、IGRP</p>
<p>链路状态路由协议：OSPF、IS-IS</p>
<p>平衡混合路由协议：BGP</p>
<p>2、华为路由协议的优先级</p>
<table>
<thead>
<tr>
<th>协议</th>
<th>优先级</th>
<th>协议</th>
<th>优先级</th>
</tr>
</thead>
<tbody><tr>
<td>直连路由</td>
<td>0</td>
<td>OSPF</td>
<td>10</td>
</tr>
<tr>
<td>IS-IS</td>
<td>15</td>
<td>静态路由</td>
<td>60</td>
</tr>
<tr>
<td>RIP</td>
<td>100</td>
<td>BGP</td>
<td>255</td>
</tr>
</tbody></table>
<h2 id="RIP协议"><a href="#RIP协议" class="headerlink" title="RIP协议"></a>RIP协议</h2><p>RIP协议是一种内部网关协议，属于应用层。该协议主要应用于小型网络种，运行了RIP协议的路由器设备通过不断交换信息让路由器动态地适应网络连接的变化，这些信息包括路由器所拥有的路由表项以及去往这些网络的距离等。</p>
<p>1、RIP版本</p>
<p>RIPv1是一个基于UDP520端口的路由协议，使用分类路由，无法支持可变长子网掩码，同时通过发送广播来传递消息。需要注意的是，无法支持可变长子网掩码这个限制使得在运行了RIPv1版本的路由器网络中，在同级（即A、B、C三类）网络下无法继续使用不同的子网掩码。</p>
<p>RIPv2在RIPv1的基础上做了一些改进：例如RIPv2支持路由聚合和CIDR；支持以组播方式（组播地址使用224.0.0.9）发送更新报文而非RIPv1中使用的广播，只有运行了RIPv2的设备才能收到协议报文，减少资源消耗。</p>
<p>2、RIP的工作原理</p>
<p>（1）以30s为周期通过使用UDP协议的520端口向另据路由器发送报文（报文中包含整个路由表）。邻居学到路由后，会在其自身路由表中生成路由表项，邻居在180s内都没有再收到该表项信息，则把该路由设置成失效路由，在240s内（即再过240-180=60s）都没有收到该表项信息，则把之前学到的这条路由从路由表中删除。</p>
<p>（2）以跳数作为唯一度量值，根据跳数来选择最佳路由。</p>
<p>（3）最大跳数为15跳，16跳为不可达。</p>
<p>（4）经过一系列的路由更新，网络种的每个路由器都具有一张完整的路由表的过程，称为收敛。</p>
<p>3、解决路由环路的方法：</p>
<p>（1）水平分割：指的是RIP从某个接口学到的路由，不会从该接口再发回给邻居路由。</p>
<p>（2）路由下毒：是指链路断开或是路由失效时，就向外通告16跳无效路由告知邻居路由器。</p>
<p>（3）毒性逆转（反向下毒）：指的是RIP从某个接口学到路由后，就将该路由的的开销设置为16（该路由不可达），并从原接口发回邻居设备。</p>
<p>（4）抑制时间：抑制时间就是路由器学习到某个网段出现故障时，使得自己的路由表里关于该网段的路由变成16之后，进入抑制状态，在抑制状态下只有来自同一邻居并且度量值小于16的路由才会被路由器接收，取代不可达路由。</p>
<p>（5）出发更新：是指路由信息发生变化时，立即向邻居路由器设备发送出发更新报文，而非等到默认的30s的更新时间到来再发送更新报文，通知变化的路由信息。</p>
<p>4、RIP基本配置</p>
<table>
<thead>
<tr>
<th>华为命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>rip [process-id]</td>
<td>使用RIP协议，并进入rip视图</td>
</tr>
<tr>
<td>version {1|2}</td>
<td>指定RIP协议版本</td>
</tr>
<tr>
<td>network network-addr</td>
<td>指定与该路由器直接相连的网络</td>
</tr>
<tr>
<td>undo summary</td>
<td>取消路由聚合功能</td>
</tr>
<tr>
<td>peer ip-address</td>
<td>说明邻居路由器，以使它们能够自动更新路由</td>
</tr>
<tr>
<td>display ip routing-table</td>
<td>查看路由表信息</td>
</tr>
<tr>
<td>display rip route</td>
<td>查看rip协议的路由信息</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[R1]rip</span><br><span class="line">[R1-rip-1]undo summary</span><br><span class="line">[R1-rip-1]network 192.168.1.0</span><br><span class="line">[R1-rip-1]network 192.168.10.0</span><br><span class="line">[R1-rip-1]version 2</span><br></pre></td></tr></table></figure>

<p>5、RIP和BFD联动</p>
<p>BFD：双向转发检测。可以提供链路通信故障的快速检测机制，并及时通知上层应用。BFD可以与多种协议联动，实现路由的快速收敛，从而减少拓扑变化导致的流量丢失。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[R1]bfd</span><br><span class="line">[R1-bfd]quit</span><br><span class="line">[R1]rip 1</span><br><span class="line">[R1-rip-1]bfd all-interfaces enable</span><br><span class="line">[R1-rip-1]bfd all-interfaces min-tx-interval 100 min-rx-interval 100 detect-multiplier 10	&#x2F;&#x2F;配置bfd最小发送、接受bfd报文间隔及检测倍数</span><br></pre></td></tr></table></figure>

<h2 id="OSPF协议"><a href="#OSPF协议" class="headerlink" title="OSPF协议"></a>OSPF协议</h2><p>OSPF（开放式最短路径优先）协议也是一种内部网关协议，但它是一种链路状态路由协议。不同于RIP使用跳数作为度量值，OSPF使用带宽作为度量值。同时OSPF协议使用SPF算法计算路由，从算法层面保证没有路由环路。OSPF通过邻居关系维护路由，避免了像RIP定期更新带来的对带宽的消耗，并且OSPF协议路由更新效率高，网络收敛快，所以比较适合大中型网络。</p>
<p>1、工作原理</p>
<p>（1）在一个区域内部，每台运行了OSPF协议的路由器会结合自己的网络拓扑结构信息生成LSA（链路状态通告），然后通过发送LSU包（链路状态更新包，里面包含了LSA）给该网络区域内的其他运行了OSPF协议的路由器。</p>
<p>（2）运行了OSPF协议的路由器会把其他路由器发送过来的LSA都收集起来存放到LSDB（链路状态数据库）中。所有的路由器都可以利用LSDB中的所有LSA信息自行生成一张完整的网络拓扑图。</p>
<p>（3）基于该网络拓扑，再结合SPF算法，可以算出一课以自己作为根节点的最短路径树，这棵树给出了到网络中各节点的路由。</p>
<p>（4）利用这棵树可以形成一张OSPF路由表。 </p>
<p>2、OSPF过程</p>
<p>（1）寻找邻居-Router ID</p>
<p>■ 周期性发送Hello包，发现有效邻居</p>
<p>■ OSPF区域内唯一表示路由器的IP地址</p>
<p>■ Router ID选取规则</p>
<p>使用router-id命令制定Router ID</p>
<p>选取路由器loopback接口上数值最高的IP地址</p>
<p>如果没有loopback接口，在物理端口中选取IP地址最高的</p>
<p>■ 点对点网络的邻居路由器也将建立邻接关系</p>
<p>（2）建立邻接关系-DR和BDR</p>
<p>■ 广播网络中建立邻接关系</p>
<p>■ 通过Hello报文选择DR和BDR来代表OSPF网段</p>
<p>先比较优先级（0~255）后比较Router ID</p>
<p>优先级为0不参与DR和BDR的选举</p>
<p>通过组播发送Hello报文</p>
<p>■ 其他路由器只和DR和BDR形成邻接关系</p>
<p>■ DR/BDR监听组播地址224.0.0.6，其他路由器监听组播地址334.0.0.5。</p>
<p>（3）链路状态信息传递</p>
<p>■ 类型1：问候hello分组</p>
<p>■ 类型2：数据库描述分组</p>
<p>■ 类型3：链路状态请求LSR分组</p>
<p>■ 类型4：链路状态更新LSU分组</p>
<p>■ 类型5：链路状态确认LSA分组</p>
<p>（4）OSPF计算路由-度量值</p>
<p>■ COST=10^8^/BW(100/带宽Mbps)</p>
<p>■ 最短路径是基于接口制定的代价（cost）计算的</p>
<table>
<thead>
<tr>
<th>接口类型</th>
<th>代价（10^8^/BW）</th>
</tr>
</thead>
<tbody><tr>
<td>Fast Ethernet</td>
<td>1</td>
</tr>
<tr>
<td>Ethernet</td>
<td>10</td>
</tr>
<tr>
<td>56k</td>
<td>1785</td>
</tr>
</tbody></table>
<p>3、OSPF区域</p>
<p>一个网络可以由单一区域或者多个区域组成。区域分为骨干区域和非骨干区域。骨干区域（Area 0）只有一个，是整个OSPF网络的核心区域，其他的区域是非骨干区域，所有的非骨干区域都是与骨干区域直接连接，因为所有的内部路由都通过骨干区域传递到其他费骨干区域。</p>
<p>区域边界路由器ABR：用来连接Area 0和其他区域</p>
<p>自制系统边界路由器ASBR：用来连接OSPF的AS与外部其他的路由。</p>
<p>4、OSPF基本配置</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>ospf [process id]</td>
<td>启动OSPF，并进入ospf视图。其中OSPF进程号只在本路由器中起作用，不同的路由器可以不同</td>
</tr>
<tr>
<td>area 1</td>
<td>创建并进入OSPF区域视图</td>
</tr>
<tr>
<td>network 10.0.0.1 0.255.255.255</td>
<td>在区域视图中指定与该路由器直连的网络，并采用反掩码</td>
</tr>
<tr>
<td>display ospf routing</td>
<td>查看OSPF路由信息</td>
</tr>
<tr>
<td>display ospf 1 peer</td>
<td>列出与本路由器是邻居关系（也就是进行路由交换）的路由器</td>
</tr>
<tr>
<td>ospf cost 100</td>
<td>手动设置接口cost值，接口视图下</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[R1]router-id 1.1.1.1</span><br><span class="line">[R1]ospf</span><br><span class="line">[R1-ospf-1]area 0</span><br><span class="line">[R1-ospf-1-area-0.0.0.0]network 172.16.10.0 0.0.0.255</span><br><span class="line">[R1-ospf-1-area-0.0.0.0]network 172.16.11.0 0.0.0.255</span><br><span class="line">[R1-ospf-1-area-0.0.0.0]quit</span><br><span class="line">[R1-ospf-1]area 1</span><br><span class="line">[R1-ospf-1-area-0.0.0.1]network 192.168.2.0 0.0.0.255</span><br></pre></td></tr></table></figure>

<h2 id="IS-IS协议"><a href="#IS-IS协议" class="headerlink" title="IS-IS协议"></a>IS-IS协议</h2><p>1、特点</p>
<p>链路状态路由协议</p>
<p>与邻接关系的路由设备互相更新链路状态的数据库</p>
<p>全网拥有相同的链路状态数据库</p>
<p>运用SPF算法计算IS-IS路由</p>
<p>适用于大规模的路由网络</p>
<p>2、基本配置 </p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>isis 1</td>
<td>创建ISIS进程，并进入IS-IS视图</td>
</tr>
<tr>
<td>Isis circuit-level 1|1-2|2</td>
<td>设置接口的level级别，默认为level 1-2</td>
</tr>
<tr>
<td>network entity  xx.xxxx.xxxx.xxxx 00</td>
<td>设置路由器的System ID</td>
</tr>
<tr>
<td>isis enable 1</td>
<td>在接口上使能Isis，并指定关联的ISIS进程号</td>
</tr>
<tr>
<td>display isis route</td>
<td>查看ISIS路由信息</td>
</tr>
</tbody></table>
<h2 id="路由重发布"><a href="#路由重发布" class="headerlink" title="路由重发布"></a>路由重发布</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">在边界路由器上进行配置</span><br><span class="line">1、华为配置</span><br><span class="line">[huawei]rip 1</span><br><span class="line">[huawei-rip-1]import-route ospf 109 cost 10</span><br><span class="line">[huawei]ospf 109</span><br><span class="line">[huawei-ospf-109]import-route rip 1 cost 200</span><br><span class="line"></span><br><span class="line">2、思科配置</span><br><span class="line">R1(config)#router rip</span><br><span class="line">R1(config-router)#redistribute ospf 109 metric 10</span><br><span class="line">R1(config)#route router ospf 109</span><br><span class="line">R1(config-router)#redistribute rip metric 200</span><br></pre></td></tr></table></figure>

<h2 id="BGP协议"><a href="#BGP协议" class="headerlink" title="BGP协议"></a>BGP协议</h2><p>1、特点</p>
<p>■ 运行在传输层</p>
<p>■ 是一种实现AS和AS之间的路由协议</p>
<p>■ 距离矢量路由协议</p>
<p>■ 只在启动BGP时交换一次完整信息，后续的路由更新报文只通行网络变化的信息。</p>
<p>■ BGP路由同时携带通路向量，即经过的AS列表（AS Path）</p>
<p>■ 周期性发送Keepalive（保持活跃）报文，保持与对等体的连接。</p>
<p>■ 有EBGP和IBGP之分</p>
<p>2、基本配置</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>bgp 1</td>
<td>启动BGP，并指定本地AS编号</td>
</tr>
<tr>
<td>router-id 10.0.0.1</td>
<td>配置BGP设备的Router ID</td>
</tr>
<tr>
<td>peer 10.0.0.1 as-number 1</td>
<td>创建BGP对等体，并指定对等体的IP及所属AS号</td>
</tr>
<tr>
<td>IPv4-family {unicast|multicast}</td>
<td>进入IPv4（单播|组播）地址族视图</td>
</tr>
<tr>
<td>import-route direct</td>
<td>配置BGP引入直连路由</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[R2]bgp 65009</span><br><span class="line">[R2-bgp]router-id 2.2.2.2</span><br><span class="line">[R2-bgp]peer 172.16.10.2 as-number 65009</span><br><span class="line">[R2-bgp]peer 172.16.30.2 as-number 65009</span><br><span class="line"></span><br><span class="line">[R1-bgp]IPv4-family unicast</span><br><span class="line">[R2-bgp-af-ipv4]network 172.16.60.0 255.255.2555.0	&#x2F;&#x2F;发布非直连路由</span><br><span class="line"></span><br><span class="line">[R2-bgp]IPv4-family unicast</span><br><span class="line">[R2-bgp-af-ipv4]import-route direct	&#x2F;&#x2F;引入直连路由</span><br></pre></td></tr></table></figure>

<h2 id="虚拟路由冗余VRRP"><a href="#虚拟路由冗余VRRP" class="headerlink" title="虚拟路由冗余VRRP"></a>虚拟路由冗余VRRP</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">R1的配置</span><br><span class="line">[R1-Gigabitetherent0&#x2F;0&#x2F;1]vrrp vrid 10 virtual-ip 192.168.1.254	&#x2F;&#x2F;配置VRRP组号10，并指定虚拟网关IP</span><br><span class="line">[HUAWEI-Gigabitetherent0&#x2F;0&#x2F;1]vrrp vrid 10 priority 200	&#x2F;&#x2F;配置R1的优先级为200</span><br><span class="line">[HUAWEI-Gigabitetherent0&#x2F;0&#x2F;1]vrrp vrid 10 prrempt-mode time delay 10	&#x2F;&#x2F;配置R1为延迟抢占方式，延迟世间10s</span><br><span class="line">R2的配置：类似R1，并指定优先级为150，使之成为备份路由器</span><br><span class="line"></span><br><span class="line">配置VRRP与上行接口状态联动</span><br><span class="line">[R1-Gigabitetherent0&#x2F;0&#x2F;1]vrrp vrid 10 track interface Gigabitetherent0&#x2F;0&#x2F;2 reduced 60</span><br></pre></td></tr></table></figure>

<h2 id="WLAN配置"><a href="#WLAN配置" class="headerlink" title="WLAN配置"></a>WLAN配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">1、配置AP和AP上线</span><br><span class="line">[AC]wlan</span><br><span class="line">[AC-wlan-view]ap-group name ap-group1	&#x2F;&#x2F;创建名为ap-group1的AP组</span><br><span class="line">[AC-wlan-ap-group-ap-group1]quit</span><br><span class="line">[AC-wlan-view]regulatory-domain-profile name default	&#x2F;&#x2F;创建名为default域管理模板</span><br><span class="line">[AC-wlan-regulate-domain-default]country-code CHINA	&#x2F;&#x2F;配置设备的国家码标识</span><br><span class="line">[AC-wlan-regulate-domain-default]quit</span><br><span class="line">[AC-wlan-view]ap-group name ap-group1</span><br><span class="line">[AC-wlan-ap-group-ap-group1]regulatory-domain-profile default	&#x2F;&#x2F;在ap-group1的AP组中引用defalt</span><br><span class="line">[AC-wlan-ap-group-ap-group1]quit</span><br><span class="line"></span><br><span class="line">[AC]wlan</span><br><span class="line">[AC-wlan-view]ap auth mode mac-auth	&#x2F;&#x2F;配置AP认证模式</span><br><span class="line">[AC-wlan-view]ap-id 0 ap-mac xxxx-xxxx-xxxx	&#x2F;&#x2F;中心AP的MAC地址</span><br><span class="line"></span><br><span class="line">[AC]capwap source interface vlanif100&#x2F;&#x2F;配置AC与AP建立CAPWAP隧道的源端口</span><br><span class="line"></span><br><span class="line">2、配置WLAN</span><br><span class="line">[AC]wlan</span><br><span class="line">[AC-wlan-view]security-profile name wlan-net	&#x2F;&#x2F;绑定安全模板</span><br><span class="line">[AC-wlan-sec-prof-wlan-net]security wpa-wpa2 psk pass-phrase a1234567 aes	&#x2F;&#x2F;配置WPA-WPA2混合方式，使用混合加密，认证方式为预共享密钥</span><br><span class="line"></span><br><span class="line">[AC-wlan-view]ssid-profile name ssid1	&#x2F;&#x2F;创建名为ssid1的SSID模板</span><br><span class="line">[AC-wlan-ssid-prof-wlan-net]ssid wlan-net	&#x2F;&#x2F;在名为“ssid1”的SSID模板中配置SSID为“wlan-net”</span><br></pre></td></tr></table></figure>

<h2 id="访问控制列表ACL"><a href="#访问控制列表ACL" class="headerlink" title="访问控制列表ACL"></a>访问控制列表ACL</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1、基本ACL</span><br><span class="line">[R1]acl number 2000	&#x2F;&#x2F;2000~2999</span><br><span class="line">[R1-acl-basic-2000]rule permit source 10.0.0.1 0.0.0.0	&#x2F;&#x2F;注意此时用到了反掩码</span><br><span class="line">[R1-acl-basic-2000]rule deny source 10.0.0.1 0.0.0.0 desiton 10.0.10.0 0.255.255.255</span><br><span class="line">[R1-gigabitethernet 1&#x2F;0&#x2F;3]traffic-filter inbound acl 2000	&#x2F;&#x2F;在路由器接口上调用用ACL列表2000，</span><br><span class="line"></span><br><span class="line">2、高级ACL</span><br><span class="line">[R2]acl number 3000	&#x2F;&#x2F;3000~3999</span><br><span class="line">[R2-acl-basic-2000]rule permit tcp source 10.0.0.1 0.0.0.0 desiton 10.0.10.0 0.255.255.255 eq 80</span><br><span class="line"></span><br><span class="line">3、基于时间的ACL</span><br><span class="line">[R3]time-range educity 09:00 to 12:00 working-day</span><br><span class="line">[R3]acl number 2001	</span><br><span class="line">[R3-acl-basic-2001]rule permit source 10.0.0.1 0.0.0.0 time-range-educity</span><br><span class="line"></span><br><span class="line">4、基于策略的ACL</span><br><span class="line">（1）基于ACL的流分类，</span><br><span class="line">[R4] traffic classifiler traclass	&#x2F;&#x2F;创建名为traclass的流分类</span><br><span class="line">[R4-classifiler-c_xs] if-match acl 3000	&#x2F;&#x2F;该流分类匹配ACL表3000中所匹配的流量</span><br><span class="line">（2）配置流行为，行为动作为拒绝报文通过</span><br><span class="line">[R4] traffic behavior trabehav</span><br><span class="line">[R4-behavior-b_xs] redirect ip-nexthop 10.0.0.2	&#x2F;&#x2F;配置重定向</span><br><span class="line">[R4-behavior-b_xs] deny</span><br><span class="line">（3）配置流策略，将流分类与流行为进行关联</span><br><span class="line">[R4] traffic policy trapolic</span><br><span class="line">[R4-classifiler-p_xs] classifiler traclass behavior  behavior trabehav</span><br><span class="line">（4）应用流策略，实现相应的访问控制</span><br><span class="line">[R4-Ethernet 0&#x2F;0&#x2F;1]traffic-policy trapolic inbound	&#x2F;&#x2F;在接口的入方向上调用策略</span><br></pre></td></tr></table></figure>

























</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">他年少如歌</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://chakalake.gitee.io/posts/59260/">https://chakalake.gitee.io/posts/59260/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://chakalake.gitee.io" target="_blank">他年少如歌</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/HCLonely/hclonely.github.io/img/Butterfly/004.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/49945/"><img class="prev-cover" data-src="https://cdn.jsdelivr.net/gh/HCLonely/hclonely.github.io/img/Butterfly/004.webp" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Mysql提权</div></div></a></div><div class="next-post pull-right"><a href="/posts/47299/"><img class="next-cover" data-src="https://cdn.jsdelivr.net/gh/HCLonely/hclonely.github.io/img/Butterfly/001.webp" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">CentOS6.4下Samba服务器的安装与配置</div></div></a></div></nav></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021  <i id="heartbeat" class="fa fas fa-heartbeat"></i> 他年少如歌</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"><meta name="generator" content="Hexo 4.2.0"></head></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/calendar.js"></script><script src="/js/languages.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":120,"height":260},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>